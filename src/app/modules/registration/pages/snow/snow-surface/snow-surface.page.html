<ion-header>
  <ion-toolbar appHeaderColor mode="ios">
    <ion-buttons slot="start">
      <ion-back-button text="" defaultHref="/"></ion-back-button>
    </ion-buttons>
    <ion-title> {{'REGISTRATION.SNOW.SNOW_SURFACE.TITLE' | translate}} </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <app-registration-content-wrapper
    *ngIf="draft && draft.registration.SnowSurfaceObservation"
    [draft]="draft"
    [registrationTid]="registrationTid"
    (reset)="reset()"
  >
    <ion-list lines="full">
      <ion-list-header class="ion-text-uppercase">
        <ion-label> {{ 'REGISTRATION.SNOW.SNOW_SURFACE.TITLE' | translate}} </ion-label>
      </ion-list-header>
      <app-kdv-select
        label="REGISTRATION.SNOW.SNOW_SURFACE.SNOW_DRIFT"
        kdvKey="Snow_SnowDriftKDV"
        [(value)]="draft.registration.SnowSurfaceObservation.SnowDriftTID"
      ></app-kdv-select>
      <app-kdv-select
        label="REGISTRATION.SNOW.SNOW_SURFACE.SNOW_SURFACE"
        kdvKey="Snow_SnowSurfaceKDV"
        [(value)]="draft.registration.SnowSurfaceObservation.SnowSurfaceTID"
      ></app-kdv-select>
      <app-kdv-select
        label="REGISTRATION.SNOW.SNOW_SURFACE.SURFACE_WATER_CONTENT_REG"
        kdvKey="Snow_SurfaceWaterContentKDV"
        [(value)]="draft.registration.SnowSurfaceObservation.SurfaceWaterContentTID"
      ></app-kdv-select>
      <app-numeric-input
        [(value)]="draft.registration.SnowSurfaceObservation.NewSnowDepth24"
        label="REGISTRATION.SNOW.SNOW_SURFACE.NEW_SNOW_DEPTH"
        [min]="0"
        [max]="999"
        [decimalPlaces]="0"
        [convertRatio]="100"
        suffix="cm"
      ></app-numeric-input>
      <app-numeric-input
        [(value)]="draft.registration.SnowSurfaceObservation.NewSnowLine"
        label="REGISTRATION.SNOW.SNOW_SURFACE.NEW_SNOW_LINE"
        [min]="0"
        [max]="8848"
        [decimalPlaces]="0"
        suffix="{{ 'MAP_CENTER_INFO.ABOVE_SEA_LEVEL' | translate }}"
      ></app-numeric-input>
      <app-numeric-input
        [(value)]="draft.registration.SnowSurfaceObservation.SnowDepth"
        label="REGISTRATION.SNOW.SNOW_SURFACE.SNOW_DEPTH"
        [min]="0"
        [max]="9999"
        [decimalPlaces]="0"
        [convertRatio]="100"
        suffix="cm"
      ></app-numeric-input>
      <app-numeric-input
        [(value)]="draft.registration.SnowSurfaceObservation.SnowLine"
        label="REGISTRATION.SNOW.SNOW_SURFACE.SNOW_LINE"
        [min]="0"
        [max]="8848"
        [decimalPlaces]="0"
        suffix="{{ 'MAP_CENTER_INFO.ABOVE_SEA_LEVEL' | translate }}"
      ></app-numeric-input>
      <app-numeric-input
        [(value)]="draft.registration.SnowSurfaceObservation.HeightLimitLayeredSnow"
        label="REGISTRATION.SNOW.SNOW_SURFACE.HEIGHT_LIMIT_LAYERED_SNOW"
        [min]="0"
        [max]="8848"
        [decimalPlaces]="0"
        suffix="{{ 'MAP_CENTER_INFO.ABOVE_SEA_LEVEL' | translate }}"
        placeholder="REGISTRATION.SNOW.SNOW_SURFACE.HIGHT_LIMIT_LAYERED_SNOW_PLACEHOLDER"
      ></app-numeric-input>
      <app-kdv-select
        label="REGISTRATION.SNOW.SNOW_SURFACE.SKI_CONDITIONS"
        kdvKey="Snow_SkiConditionsKDV"
        [(value)]="draft.registration.SnowSurfaceObservation.SkiConditionsTID"
      ></app-kdv-select>

      <ion-list-header class="ion-text-uppercase">
        <ion-label> {{ 'REGISTRATION.SNOW.SNOW_SURFACE.COMMENT_HEADER' | translate}} </ion-label>
      </ion-list-header>
      <app-text-comment
        label="REGISTRATION.DANGER_OBS.COMMENT"
        [(value)]="draft.registration.SnowSurfaceObservation.Comment"
      ></app-text-comment>
      <ion-item-divider>
        <ion-label class="ion-text-wrap">
          {{ 'REGISTRATION.SNOW.SNOW_SURFACE.COMMENT_PLACEHOLDER' | translate }}
        </ion-label>
      </ion-item-divider>
      <ion-list-header class="ion-text-uppercase">
        <ion-label> {{ 'REGISTRATION.ADD_IMAGES' | translate}} </ion-label>
      </ion-list-header>
      <app-edit-images
        [registrationTid]="registrationTid"
        [geoHazard]="draft.registration.GeoHazardTID"
        [draftUuid]="draft.uuid"
        [(existingAttachments)]="draft.registration.Attachments"
        [onBeforeAdd]="getSaveFunc()"
      ></app-edit-images>
    </ion-list>
  </app-registration-content-wrapper>
</ion-content>
