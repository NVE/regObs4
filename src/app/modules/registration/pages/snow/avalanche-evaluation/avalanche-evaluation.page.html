<ion-header>
  <ion-toolbar appHeaderColor mode="ios">
    <ion-buttons slot="start">
      <ion-back-button text="" defaultHref="/"></ion-back-button>
    </ion-buttons>
    <ion-title> {{'REGISTRATION.SNOW.AVALANCHE_EVALUATION.TITLE' | translate}} </ion-title>
  </ion-toolbar>
</ion-header>
<ion-content>
  <app-registration-content-wrapper
    *ngIf="draft?.registration.AvalancheEvaluation3"
    [draft]="draft"
    [registrationTid]="registrationTid"
    (reset)="reset()"
  >
    <ion-list lines="full">
      <ion-list-header class="ion-text-uppercase">
        <ion-label> {{ 'REGISTRATION.SNOW.AVALANCHE_EVALUATION.TITLE' | translate }} </ion-label>
      </ion-list-header>
      <app-text-comment
        title="REGISTRATION.SNOW.AVALANCHE_EVALUATION.EVALUATION"
        rows="3"
        [(value)]="draft.registration.AvalancheEvaluation3.AvalancheEvaluation"
      ></app-text-comment>
      <app-text-comment
        title="REGISTRATION.SNOW.AVALANCHE_EVALUATION.AVALANCHE_DEVELOPMENT"
        rows="3"
        [(value)]="draft.registration.AvalancheEvaluation3.AvalancheDevelopment"
      ></app-text-comment>
      <app-kdv-select
        title="REGISTRATION.SNOW.AVALANCHE_EVALUATION.AVALANCHE_DANGER"
        kdvKey="Snow_AvalancheDangerKDV"
        [showZeroValues]="true"
        [(value)]="draft.registration.AvalancheEvaluation3.AvalancheDangerTID"
      ></app-kdv-select>
      <app-kdv-select
        title="REGISTRATION.SNOW.AVALANCHE_EVALUATION.FORECAST_CORRECT"
        kdvKey="Snow_ForecastCorrectKDV"
        [(value)]="draft.registration.AvalancheEvaluation3.ForecastCorrectTID"
      ></app-kdv-select>
      <app-text-comment
        title="REGISTRATION.SNOW.AVALANCHE_EVALUATION.COMMENT"
        [(value)]="draft.registration.AvalancheEvaluation3.ForecastComment"
      ></app-text-comment>
      <ion-list-header class="ion-text-uppercase">
        <ion-label> {{ 'REGISTRATION.ADD_IMAGES' | translate}} </ion-label>
      </ion-list-header>
      <app-edit-images
        [registrationTid]="registrationTid"
        [geoHazard]="draft.registration.GeoHazardTID"
        [draftUuid]="draft.uuid"
        [(existingAttachments)]="draft.registration.Attachments"
        [onBeforeAdd]="getSaveFunc()"
      ></app-edit-images>
    </ion-list>
  </app-registration-content-wrapper>
</ion-content>
