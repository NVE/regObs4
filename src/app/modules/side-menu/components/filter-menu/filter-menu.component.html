<ion-list class="ion-no-margin">
  <ion-list-header color="varsom-blue" class="ion-no-margin">
    <ion-label>{{ "OBSERVATION_FILTER.TITLE" | translate }}</ion-label>
  </ion-list-header>
  <app-observations-days-back></app-observations-days-back>
  <app-update-observations></app-update-observations>
  <div *ngIf="true">
    <!-- Dette er på prototypestadiet, så vi skjuler dette foreløpig -->
    <!-- TODO: Oversettelser på all tekst -->
    <ion-list-header color="varsom-blue" class="ion-no-margin">
      <ion-label> Observasjonstype </ion-label>
    </ion-list-header>

    <ion-item *ngIf="observationTypesOptions">
      <ion-list lines="none">
        <ng-container *ngFor="let type of observationTypesOptions">
          <ion-item class="item-height">
            <ion-checkbox
              [(ngModel)]="type.isChecked"
              (ionChange)="setNewType($event, type.parentId, type.id)"
              color="varsom-dark-blue"
            >
            </ion-checkbox>
            <ion-label class="ion-padding-start">{{ type.name }}</ion-label>
          </ion-item>
        </ng-container>
      </ion-list>
    </ion-item>

    <ion-list-header color="varsom-blue" class="ion-no-margin">
      <ion-label>
        {{ "OBSERVATION_FILTER.COMPETANCE_FILTER.TITLE" | translate }}
      </ion-label>
      <ion-label> Observatør </ion-label>
    </ion-list-header>
    <!-- TODO: Legg til eller hente kompetanser i menyen. Husk at på snø er det en spesiell kompetanse A -->
    <ion-item *ngIf="competenceOptions">
      <ion-label class="no-margin-bottom" color="dark" position="stacked">{{
        "OBSERVATION_FILTER.COMPETANCE_FILTER.LABEL" | translate
      }}</ion-label>
      <ion-select [interface]="popupType" [value]="chosenValue" (ionChange)="onSelectCompetenceChange($event)">
        <ion-select-option value="all">{{ "OBSERVATION_FILTER.COMPETANCE_FILTER.ALL" | translate }}</ion-select-option>
        <ion-select-option *ngFor="let co of competenceOptions" [value]="co">
          {{ co.name }}
        </ion-select-option>
      </ion-select>
      <ion-item>
        <ion-label class="no-margin-bottom" color="dark" position="stacked">Kompetanse</ion-label>
        <ion-select placeholder="Alle kompetansenivå" [interface]="popupType">
          <ion-select-option> </ion-select-option>
        </ion-select>
      </ion-item>
    </ion-item>
    <ion-item *ngIf="isShowAutomaticStation">
      <ion-checkbox
        [checked]="isAutomaticStationChecked"
        color="varsom-dark-blue"
        mode="md"
        [value]="automaticStation"
        (ionChange)="onCheckAutomaticStations($event)"
      >
      </ion-checkbox>
      <ion-label class="ion-padding-start"
        >{{ "OBSERVATION_FILTER.COMPETANCE_FILTER.AUTOMATIC_STATIONS" | translate }}
      </ion-label>
    </ion-item>

    <!-- TODO: Finne ut hvordan vi implementerer navnesøk - aynskront eller med søkeknapp? -->
    <!--
    <ion-item>
      <ion-label class="no-margin-bottom" color="dark" position="stacked">Søk</ion-label>
      <ion-searchbar
        [value]="nickName"
        [debounce]="1000"
        mode="ios"
        class="ion-no-padding"
        placeholder="Søk på observatørnavn"
        (ionChange)="setNickName($event)"
      >
      </ion-searchbar>
    </ion-item>
    -->
    <!-- TODO: Implementere reset filter funksjonalitet -->
    <!--
    <ion-item>
      <ion-button class="resetFiltersButton" type="button" fill="clear">
        <ion-icon src="./assets/icon/reset-button.svg"> </ion-icon>Tilbakestill filtere
      </ion-button>
    </ion-item>
    -->
  </div>
</ion-list>
