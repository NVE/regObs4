<!-- A list of observations sent to server -->
<ng-container *ngIf="myRegistrations$ | async as myRegistrations; else skeleton">
  <ion-item-divider no-border>
    <ion-grid class="ion-no-padding ion-no-margin">
      <ion-row>
        <h3 class="ion-text-uppercase">{{ "MY_OBSERVATIONS.MY_SENT_OBSERVATIONS" | translate }}</h3>
      </ion-row>
      <ion-row>
        <ion-label *ngIf="myRegistrations?.length" class="ion-text-wrap" color="medium">
          {{ "MY_OBSERVATIONS.SENT_SUBTITLE" | translate }}
        </ion-label>
        <ion-label *ngIf="!myRegistrations?.length && (isOffline$ | async)" class="ion-text-wrap" color="medium">
          {{ "MY_OBSERVATIONS.OFFLINE" | translate }}
        </ion-label>
      </ion-row>
    </ion-grid>
  </ion-item-divider>
  <ion-list *ngIf="myRegistrations.length > 0">
    <app-observation-list-card
      *ngFor="let reg of myRegistrations; trackBy: trackByIdFunc"
      [obs]="reg"
    ></app-observation-list-card>
  </ion-list>
  <ion-infinite-scroll (ionInfinite)="loadNextPage()" [disabled]="shouldDisableScroller$ | async">
    <ion-infinite-scroll-content> </ion-infinite-scroll-content>
  </ion-infinite-scroll>
  <ion-row *ngIf="(searchResult.maxItemsFetched$ | async) === true" class="full-grid-row max-count-reached">
    <ion-col class="ion-text-center ion-margin-horizontal">
      <h2>{{ "OBSERVATION_LIST.MAX_COUNT_REACHED_HEADER" | translate }}</h2>
      <h3 class="ion-text-wrap">{{ "OBSERVATION_LIST.MAX_COUNT_REACHED_TEXT" | translate: { maxCount: maxCount } }}</h3>
    </ion-col>
  </ion-row>
</ng-container>
<ng-template #skeleton>
  <app-observation-skeleton></app-observation-skeleton>
  <app-observation-skeleton></app-observation-skeleton>
  <app-observation-skeleton></app-observation-skeleton>
</ng-template>
<ng-template #empty>
  <ion-grid class="full-grid">
    <ion-row class="full-grid-row">
      <ion-col class="ion-align-self-center">
        <div class="center">
          <svg-icon class="rectangle" src="/assets/images/empty-states/rectangle.svg"></svg-icon>
          <svg-icon class="pin1" src="/assets/images/empty-states/pin.svg"></svg-icon>
          <svg-icon class="pin2" src="/assets/images/empty-states/pin.svg"></svg-icon>
          <svg-icon class="pin3" src="/assets/images/empty-states/pin.svg"></svg-icon>
        </div>
      </ion-col>
    </ion-row>
    <ion-row class="full-grid-row">
      <ion-col class="ion-text-center ion-margin-horizontal">
        <h2>{{ "OBSERVATION_LIST.NO_OBSERVATIONS" | translate }}</h2>
        <h3 class="ion-text-wrap">{{ "OBSERVATION_LIST.NO_OBSERVATIONS_TEXT" | translate }}</h3>
      </ion-col>
    </ion-row>
  </ion-grid>
</ng-template>
