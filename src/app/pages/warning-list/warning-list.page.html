<ion-header>
  <ion-toolbar color="dark" mode="ios">
    <ion-buttons slot="end">
      <ion-menu-button color="light"></ion-menu-button>
    </ion-buttons>
    <ion-title>{{"WARNING_LIST.TITLE" | translate}}</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content>
  <div class="top-tabs" [ngClass]="{'data-spinner-visible': !hasData}">
    <ion-grid>
      <ion-row no-padding>
        <ion-col text-center text-uppercase [ngClass]="{'selected': selectedTab === 'inMapView'}" (click)="selectTab('inMapView')">
          {{'WARNING_LIST.RELEVANT'|translate}}
        </ion-col>
        <ion-col text-center text-uppercase [ngClass]="{'selected': selectedTab === 'all'}" (click)="selectTab('all')">
          {{'WARNING_LIST.ALL'|translate}}
        </ion-col>
        <ion-col text-center text-uppercase [ngClass]="{'selected': selectedTab === 'favourites'}" (click)="selectTab('favourites')">
          {{'WARNING_LIST.FAVOURITES'|translate}}
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
  <ion-refresher slot="fixed" (ionRefresh)="doRefresh()">
    <ion-refresher-content pullingIcon="arrow-dropdown" pullingText="Pull to refresh">
    </ion-refresher-content>
  </ion-refresher>
  <div class="no-data-spinner" slot="fixed" *ngIf="!hasData">
    <ion-spinner></ion-spinner>
  </div>
  <ng-container *ngIf="hasData">
    <ng-container *ngIf="(userSetting$ | async) as userSetting">
      <app-cap-list-group *ngIf="userSetting.showMapCenter && selectedTab === 'inMapView'" title="{{'WARNING_LIST.IN_MAP_CENTER'|translate}}"
        [warnings$]="warningsInMapViewCenter$"></app-cap-list-group>
    </ng-container>
    <app-cap-list-group *ngIf="selectedTab === 'inMapView'" title="{{'WARNING_LIST.IN_MAP_VIEW'|translate}}"
      [warnings$]="warningsInMapViewBounds$"></app-cap-list-group>
    <app-cap-list-group *ngIf="selectedTab === 'all'" title="{{'WARNING_LIST.ALL_WARNINGS'|translate}}" [warnings$]="warningsForCurrentGeoHazard$"></app-cap-list-group>
    <app-cap-list-group *ngIf="selectedTab === 'favourites'" title="{{'WARNING_LIST.FAVOURITES'|translate}}"
      [warnings$]="favourites$"></app-cap-list-group>
  </ng-container>
</ion-content>
<app-add-menu></app-add-menu>
<app-geo-select slot="fixed" [inHeader]="true"></app-geo-select>