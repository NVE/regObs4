<app-header title="{{ 'OBSERVATION_LIST.OBSERVATIONS' | translate }}"></app-header>
<ion-content>
  <!-- <cdk-virtual-scroll-viewport *ngIf="(observations.length > 0) else empty" autosize>
    <div *cdkVirtualFor="let obs of observations; trackBy: trackByRegId">
      <app-observation-list-card [obs]="obs"></app-observation-list-card>
    </div>
  </cdk-virtual-scroll-viewport> -->
  <ng-container *ngIf="observations !== undefined">
    <ion-virtual-scroll [ngClass]="{ loaded: loaded }" *ngIf="(observations.length > 0) else empty" [items]="observations"
      [approxItemHeight]="250" [trackBy]="trackByRegId">
      <div *virtualItem="let obs">
        <app-observation-list-card [obs]="obs"></app-observation-list-card>
      </div>
    </ion-virtual-scroll>
  </ng-container>
  <!-- <ng-container *ngIf="$observations | async as observations">
    <ion-list>
      <app-observation-list-card [obs]="obs" *ngFor="let obs of observations; trackBy: trackByRegId">
      </app-observation-list-card>
    </ion-list>
  </ng-container> -->
  <app-geo-select slot="fixed"></app-geo-select>
  <app-add-menu slot="fixed"></app-add-menu>
</ion-content>
<ng-template #empty>
  <h4 text-center>
    {{ 'OBSERVATION_LIST.NO_OBSERVATIONS' | translate }}
  </h4>
</ng-template>