"use strict";
(self["webpackChunkregobs4"] = self["webpackChunkregobs4"] || []).push([["node_modules_ionic_core_dist_esm_ion-reorder_2_entry_js"],{

/***/ 14977:
/*!******************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/ion-reorder_2.entry.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ion_reorder": function() { return /* binding */ Reorder; },
/* harmony export */   "ion_reorder_group": function() { return /* binding */ ReorderGroup; }
/* harmony export */ });
/* harmony import */ var C_Repos_regobs_regObs4_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ 80151);
/* harmony import */ var _index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-7a8b7a1c.js */ 76842);
/* harmony import */ var _ionic_global_63a97a32_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ionic-global-63a97a32.js */ 33124);
/* harmony import */ var _haptic_27b3f981_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./haptic-27b3f981.js */ 99502);




const reorderIosCss = ":host([slot]){display:none;line-height:0;z-index:100}.reorder-icon{display:block;font-size:22px}.reorder-icon{font-size:34px;opacity:0.4}";
const reorderMdCss = ":host([slot]){display:none;line-height:0;z-index:100}.reorder-icon{display:block;font-size:22px}.reorder-icon{font-size:31px;opacity:0.3}";
const Reorder = class {
  constructor(hostRef) {
    (0,_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
  }

  onClick(ev) {
    const reorderGroup = this.el.closest('ion-reorder-group');
    ev.preventDefault(); // Only stop event propagation if the reorder is inside of an enabled
    // reorder group. This allows interaction with clickable children components.

    if (!reorderGroup || !reorderGroup.disabled) {
      ev.stopImmediatePropagation();
    }
  }

  render() {
    const mode = (0,_ionic_global_63a97a32_js__WEBPACK_IMPORTED_MODULE_2__.b)(this);
    const reorderIcon = mode === 'ios' ? 'reorder-three-outline' : 'reorder-two-sharp';
    return (0,_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.H, {
      class: mode
    }, (0,_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", null, (0,_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.h)("ion-icon", {
      name: reorderIcon,
      lazy: false,
      class: "reorder-icon",
      part: "icon"
    })));
  }

  get el() {
    return (0,_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.i)(this);
  }

};
Reorder.style = {
  ios: reorderIosCss,
  md: reorderMdCss
};
const reorderGroupCss = ".reorder-list-active>*{-webkit-transition:-webkit-transform 300ms;transition:-webkit-transform 300ms;transition:transform 300ms;transition:transform 300ms, -webkit-transform 300ms;will-change:transform}.reorder-enabled{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.reorder-enabled ion-reorder{display:block;cursor:-webkit-grab;cursor:grab;pointer-events:all;-ms-touch-action:none;touch-action:none}.reorder-selected,.reorder-selected ion-reorder{cursor:-webkit-grabbing;cursor:grabbing}.reorder-selected{position:relative;-webkit-transition:none !important;transition:none !important;-webkit-box-shadow:0 0 10px rgba(0, 0, 0, 0.4);box-shadow:0 0 10px rgba(0, 0, 0, 0.4);opacity:0.8;z-index:100}.reorder-visible ion-reorder .reorder-icon{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}";
const ReorderGroup = class {
  constructor(hostRef) {
    (0,_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.ionItemReorder = (0,_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "ionItemReorder", 7);
    this.lastToIndex = -1;
    this.cachedHeights = [];
    this.scrollElTop = 0;
    this.scrollElBottom = 0;
    this.scrollElInitial = 0;
    this.containerTop = 0;
    this.containerBottom = 0;
    this.state = 0
    /* Idle */
    ;
    /**
     * If `true`, the reorder will be hidden.
     */

    this.disabled = true;
  }

  disabledChanged() {
    if (this.gesture) {
      this.gesture.enable(!this.disabled);
    }
  }

  connectedCallback() {
    var _this = this;

    return (0,C_Repos_regobs_regObs4_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      const contentEl = _this.el.closest('ion-content');

      if (contentEl) {
        _this.scrollEl = yield contentEl.getScrollElement();
      }

      _this.gesture = (yield Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./index-34cb2743.js */ 88910))).createGesture({
        el: _this.el,
        gestureName: 'reorder',
        gesturePriority: 110,
        threshold: 0,
        direction: 'y',
        passive: false,
        canStart: detail => _this.canStart(detail),
        onStart: ev => _this.onStart(ev),
        onMove: ev => _this.onMove(ev),
        onEnd: () => _this.onEnd()
      });

      _this.disabledChanged();
    })();
  }

  disconnectedCallback() {
    this.onEnd();

    if (this.gesture) {
      this.gesture.destroy();
      this.gesture = undefined;
    }
  }
  /**
   * Completes the reorder operation. Must be called by the `ionItemReorder` event.
   *
   * If a list of items is passed, the list will be reordered and returned in the
   * proper order.
   *
   * If no parameters are passed or if `true` is passed in, the reorder will complete
   * and the item will remain in the position it was dragged to. If `false` is passed,
   * the reorder will complete and the item will bounce back to its original position.
   *
   * @param listOrReorder A list of items to be sorted and returned in the new order or a
   * boolean of whether or not the reorder should reposition the item.
   */


  complete(listOrReorder) {
    return Promise.resolve(this.completeSync(listOrReorder));
  }

  canStart(ev) {
    if (this.selectedItemEl || this.state !== 0
    /* Idle */
    ) {
      return false;
    }

    const target = ev.event.target;
    const reorderEl = target.closest('ion-reorder');

    if (!reorderEl) {
      return false;
    }

    const item = findReorderItem(reorderEl, this.el);

    if (!item) {
      return false;
    }

    ev.data = item;
    return true;
  }

  onStart(ev) {
    ev.event.preventDefault();
    const item = this.selectedItemEl = ev.data;
    const heights = this.cachedHeights;
    heights.length = 0;
    const el = this.el;
    const children = el.children;

    if (!children || children.length === 0) {
      return;
    }

    let sum = 0;

    for (let i = 0; i < children.length; i++) {
      const child = children[i];
      sum += child.offsetHeight;
      heights.push(sum);
      child.$ionIndex = i;
    }

    const box = el.getBoundingClientRect();
    this.containerTop = box.top;
    this.containerBottom = box.bottom;

    if (this.scrollEl) {
      const scrollBox = this.scrollEl.getBoundingClientRect();
      this.scrollElInitial = this.scrollEl.scrollTop;
      this.scrollElTop = scrollBox.top + AUTO_SCROLL_MARGIN;
      this.scrollElBottom = scrollBox.bottom - AUTO_SCROLL_MARGIN;
    } else {
      this.scrollElInitial = 0;
      this.scrollElTop = 0;
      this.scrollElBottom = 0;
    }

    this.lastToIndex = indexForItem(item);
    this.selectedItemHeight = item.offsetHeight;
    this.state = 1
    /* Active */
    ;
    item.classList.add(ITEM_REORDER_SELECTED);
    (0,_haptic_27b3f981_js__WEBPACK_IMPORTED_MODULE_3__.a)();
  }

  onMove(ev) {
    const selectedItem = this.selectedItemEl;

    if (!selectedItem) {
      return;
    } // Scroll if we reach the scroll margins


    const scroll = this.autoscroll(ev.currentY); // // Get coordinate

    const top = this.containerTop - scroll;
    const bottom = this.containerBottom - scroll;
    const currentY = Math.max(top, Math.min(ev.currentY, bottom));
    const deltaY = scroll + currentY - ev.startY;
    const normalizedY = currentY - top;
    const toIndex = this.itemIndexForTop(normalizedY);

    if (toIndex !== this.lastToIndex) {
      const fromIndex = indexForItem(selectedItem);
      this.lastToIndex = toIndex;
      (0,_haptic_27b3f981_js__WEBPACK_IMPORTED_MODULE_3__.b)();
      this.reorderMove(fromIndex, toIndex);
    } // Update selected item position


    selectedItem.style.transform = `translateY(${deltaY}px)`;
  }

  onEnd() {
    const selectedItemEl = this.selectedItemEl;
    this.state = 2
    /* Complete */
    ;

    if (!selectedItemEl) {
      this.state = 0
      /* Idle */
      ;
      return;
    }

    const toIndex = this.lastToIndex;
    const fromIndex = indexForItem(selectedItemEl);

    if (toIndex === fromIndex) {
      this.completeSync();
    } else {
      this.ionItemReorder.emit({
        from: fromIndex,
        to: toIndex,
        complete: this.completeSync.bind(this)
      });
    }

    (0,_haptic_27b3f981_js__WEBPACK_IMPORTED_MODULE_3__.h)();
  }

  completeSync(listOrReorder) {
    const selectedItemEl = this.selectedItemEl;

    if (selectedItemEl && this.state === 2
    /* Complete */
    ) {
      const children = this.el.children;
      const len = children.length;
      const toIndex = this.lastToIndex;
      const fromIndex = indexForItem(selectedItemEl);

      if (toIndex !== fromIndex && (listOrReorder === undefined || listOrReorder === true)) {
        const ref = fromIndex < toIndex ? children[toIndex + 1] : children[toIndex];
        this.el.insertBefore(selectedItemEl, ref);
      }

      if (Array.isArray(listOrReorder)) {
        listOrReorder = reorderArray(listOrReorder, fromIndex, toIndex);
      }

      for (let i = 0; i < len; i++) {
        children[i].style['transform'] = '';
      }

      selectedItemEl.style.transition = '';
      selectedItemEl.classList.remove(ITEM_REORDER_SELECTED);
      this.selectedItemEl = undefined;
      this.state = 0
      /* Idle */
      ;
    }

    return listOrReorder;
  }

  itemIndexForTop(deltaY) {
    const heights = this.cachedHeights; // TODO: since heights is a sorted array of integers, we can do
    // speed up the search using binary search. Remember that linear-search is still
    // faster than binary-search for small arrays (<64) due CPU branch misprediction.

    for (let i = 0; i < heights.length; i++) {
      if (heights[i] > deltaY) {
        return i;
      }
    }

    return heights.length - 1;
  }
  /********* DOM WRITE ********* */


  reorderMove(fromIndex, toIndex) {
    const itemHeight = this.selectedItemHeight;
    const children = this.el.children;

    for (let i = 0; i < children.length; i++) {
      const style = children[i].style;
      let value = '';

      if (i > fromIndex && i <= toIndex) {
        value = `translateY(${-itemHeight}px)`;
      } else if (i < fromIndex && i >= toIndex) {
        value = `translateY(${itemHeight}px)`;
      }

      style['transform'] = value;
    }
  }

  autoscroll(posY) {
    if (!this.scrollEl) {
      return 0;
    }

    let amount = 0;

    if (posY < this.scrollElTop) {
      amount = -SCROLL_JUMP;
    } else if (posY > this.scrollElBottom) {
      amount = SCROLL_JUMP;
    }

    if (amount !== 0) {
      this.scrollEl.scrollBy(0, amount);
    }

    return this.scrollEl.scrollTop - this.scrollElInitial;
  }

  render() {
    const mode = (0,_ionic_global_63a97a32_js__WEBPACK_IMPORTED_MODULE_2__.b)(this);
    return (0,_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.H, {
      class: {
        [mode]: true,
        'reorder-enabled': !this.disabled,
        'reorder-list-active': this.state !== 0
        /* Idle */

      }
    });
  }

  get el() {
    return (0,_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.i)(this);
  }

  static get watchers() {
    return {
      "disabled": ["disabledChanged"]
    };
  }

};

const indexForItem = element => {
  return element['$ionIndex'];
};

const findReorderItem = (node, container) => {
  let parent;

  while (node) {
    parent = node.parentElement;

    if (parent === container) {
      return node;
    }

    node = parent;
  }

  return undefined;
};

const AUTO_SCROLL_MARGIN = 60;
const SCROLL_JUMP = 10;
const ITEM_REORDER_SELECTED = 'reorder-selected';

const reorderArray = (array, from, to) => {
  const element = array[from];
  array.splice(from, 1);
  array.splice(to, 0, element);
  return array.slice();
};

ReorderGroup.style = reorderGroupCss;


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLXJlb3JkZXJfMl9lbnRyeV9qcy1lczIwMTUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBLE1BQU1lLGFBQWEsR0FBRywySUFBdEI7QUFFQSxNQUFNQyxZQUFZLEdBQUcsMklBQXJCO0FBRUEsTUFBTUMsT0FBTyxHQUFHLE1BQU07QUFDcEJDLEVBQUFBLFdBQVcsQ0FBQ0MsT0FBRCxFQUFVO0FBQ25CbEIsSUFBQUEscURBQWdCLENBQUMsSUFBRCxFQUFPa0IsT0FBUCxDQUFoQjtBQUNEOztBQUNEQyxFQUFBQSxPQUFPLENBQUNDLEVBQUQsRUFBSztBQUNWLFVBQU1DLFlBQVksR0FBRyxLQUFLQyxFQUFMLENBQVFDLE9BQVIsQ0FBZ0IsbUJBQWhCLENBQXJCO0FBQ0FILElBQUFBLEVBQUUsQ0FBQ0ksY0FBSCxHQUZVLENBR1Y7QUFDQTs7QUFDQSxRQUFJLENBQUNILFlBQUQsSUFBaUIsQ0FBQ0EsWUFBWSxDQUFDSSxRQUFuQyxFQUE2QztBQUMzQ0wsTUFBQUEsRUFBRSxDQUFDTSx3QkFBSDtBQUNEO0FBQ0Y7O0FBQ0RDLEVBQUFBLE1BQU0sR0FBRztBQUNQLFVBQU1DLElBQUksR0FBR25CLDREQUFVLENBQUMsSUFBRCxDQUF2QjtBQUNBLFVBQU1vQixXQUFXLEdBQUdELElBQUksS0FBSyxLQUFULEdBQWlCLHVCQUFqQixHQUEyQyxtQkFBL0Q7QUFDQSxXQUFRM0IscURBQUMsQ0FBQ0UsaURBQUQsRUFBTztBQUFFMkIsTUFBQUEsS0FBSyxFQUFFRjtBQUFULEtBQVAsRUFBd0IzQixxREFBQyxDQUFDLE1BQUQsRUFBUyxJQUFULEVBQWVBLHFEQUFDLENBQUMsVUFBRCxFQUFhO0FBQUU4QixNQUFBQSxJQUFJLEVBQUVGLFdBQVI7QUFBcUJHLE1BQUFBLElBQUksRUFBRSxLQUEzQjtBQUFrQ0YsTUFBQUEsS0FBSyxFQUFFLGNBQXpDO0FBQXlERyxNQUFB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O0FBQ0QsU0FBT3RFLFNBQVA7QUFDRCxDQVZEOztBQVdBLE1BQU0yQixrQkFBa0IsR0FBRyxFQUEzQjtBQUNBLE1BQU1xQyxXQUFXLEdBQUcsRUFBcEI7QUFDQSxNQUFNaEMscUJBQXFCLEdBQUcsa0JBQTlCOztBQUNBLE1BQU15QixZQUFZLEdBQUcsQ0FBQ2UsS0FBRCxFQUFRdkIsSUFBUixFQUFjQyxFQUFkLEtBQXFCO0FBQ3hDLFFBQU1pQixPQUFPLEdBQUdLLEtBQUssQ0FBQ3ZCLElBQUQsQ0FBckI7QUFDQXVCLEVBQUFBLEtBQUssQ0FBQ0MsTUFBTixDQUFheEIsSUFBYixFQUFtQixDQUFuQjtBQUNBdUIsRUFBQUEsS0FBSyxDQUFDQyxNQUFOLENBQWF2QixFQUFiLEVBQWlCLENBQWpCLEVBQW9CaUIsT0FBcEI7QUFDQSxTQUFPSyxLQUFLLENBQUNFLEtBQU4sRUFBUDtBQUNELENBTEQ7O0FBTUF4RyxZQUFZLENBQUNKLEtBQWIsR0FBcUJHLGVBQXJCIiwic291cmNlcyI6WyIuL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS9pb24tcmVvcmRlcl8yLmVudHJ5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHIgYXMgcmVnaXN0ZXJJbnN0YW5jZSwgaCwgSCBhcyBIb3N0LCBpIGFzIGdldEVsZW1lbnQsIGUgYXMgY3JlYXRlRXZlbnQgfSBmcm9tICcuL2luZGV4LTdhOGI3YTFjLmpzJztcbmltcG9ydCB7IGIgYXMgZ2V0SW9uTW9kZSB9IGZyb20gJy4vaW9uaWMtZ2xvYmFsLTYzYTk3YTMyLmpzJztcbmltcG9ydCB7IGEgYXMgaGFwdGljU2VsZWN0aW9uU3RhcnQsIGIgYXMgaGFwdGljU2VsZWN0aW9uQ2hhbmdlZCwgaCBhcyBoYXB0aWNTZWxlY3Rpb25FbmQgfSBmcm9tICcuL2hhcHRpYy0yN2IzZjk4MS5qcyc7XG5cbmNvbnN0IHJlb3JkZXJJb3NDc3MgPSBcIjpob3N0KFtzbG90XSl7ZGlzcGxheTpub25lO2xpbmUtaGVpZ2h0OjA7ei1pbmRleDoxMDB9LnJlb3JkZXItaWNvbntkaXNwbGF5OmJsb2NrO2ZvbnQtc2l6ZToyMnB4fS5yZW9yZGVyLWljb257Zm9udC1zaXplOjM0cHg7b3BhY2l0eTowLjR9XCI7XG5cbmNvbnN0IHJlb3JkZXJNZENzcyA9IFwiOmhvc3QoW3Nsb3RdKXtkaXNwbGF5Om5vbmU7bGluZS1oZWlnaHQ6MDt6LWluZGV4OjEwMH0ucmVvcmRlci1pY29ue2Rpc3BsYXk6YmxvY2s7Zm9udC1zaXplOjIycHh9LnJlb3JkZXItaWNvbntmb250LXNpemU6MzFweDtvcGFjaXR5OjAuM31cIjtcblxuY29uc3QgUmVvcmRlciA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgIHJlZ2lzdGVySW5zdGFuY2UodGhpcywgaG9zdFJlZik7XG4gIH1cbiAgb25DbGljayhldikge1xuICAgIGNvbnN0IHJlb3JkZXJHcm91cCA9IHRoaXMuZWwuY2xvc2VzdCgnaW9uLXJlb3JkZXItZ3JvdXAnKTtcbiAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIC8vIE9ubHkgc3RvcCBldmVudCBwcm9wYWdhdGlvbiBpZiB0aGUgcmVvcmRlciBpcyBpbnNpZGUgb2YgYW4gZW5hYmxlZFxuICAgIC8vIHJlb3JkZXIgZ3JvdXAuIFRoaXMgYWxsb3dzIGludGVyYWN0aW9uIHdpdGggY2xpY2thYmxlIGNoaWxkcmVuIGNvbXBvbmVudHMuXG4gICAgaWYgKCFyZW9yZGVyR3JvdXAgfHwgIXJlb3JkZXJHcm91cC5kaXNhYmxlZCkge1xuICAgICAgZXYuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgfVxuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBtb2RlID0gZ2V0SW9uTW9kZSh0aGlzKTtcbiAgICBjb25zdCByZW9yZGVySWNvbiA9IG1vZGUgPT09ICdpb3MnID8gJ3Jlb3JkZXItdGhyZWUtb3V0bGluZScgOiAncmVvcmRlci10d28tc2hhcnAnO1xuICAgIHJldHVybiAoaChIb3N0LCB7IGNsYXNzOiBtb2RlIH0sIGgoXCJzbG90XCIsIG51bGwsIGgoXCJpb24taWNvblwiLCB7IG5hbWU6IHJlb3JkZXJJY29uLCBsYXp5OiBmYWxzZSwgY2xhc3M6IFwicmVvcmRlci1pY29uXCIsIHBhcnQ6IFwiaWNvblwiIH0pKSkpO1xuICB9XG4gIGdldCBlbCgpIHsgcmV0dXJuIGdldEVsZW1lbnQodGhpcyk7IH1cbn07XG5SZW9yZGVyLnN0eWxlID0ge1xuICBpb3M6IHJlb3JkZXJJb3NDc3MsXG4gIG1kOiByZW9yZGVyTWRDc3Ncbn07XG5cbmNvbnN0IHJlb3JkZXJHcm91cENzcyA9IFwiLnJlb3JkZXItbGlzdC1hY3RpdmU+Knstd2Via2l0LXRyYW5zaXRpb246LXdlYmtpdC10cmFuc2Zvcm0gMzAwbXM7dHJhbnNpdGlvbjotd2Via2l0LXRyYW5zZm9ybSAzMDBtczt0cmFuc2l0aW9uOnRyYW5zZm9ybSAzMDBtczt0cmFuc2l0aW9uOnRyYW5zZm9ybSAzMDBtcywgLXdlYmtpdC10cmFuc2Zvcm0gMzAwbXM7d2lsbC1jaGFuZ2U6dHJhbnNmb3JtfS5yZW9yZGVyLWVuYWJsZWR7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lfS5yZW9yZGVyLWVuYWJsZWQgaW9uLXJlb3JkZXJ7ZGlzcGxheTpibG9jaztjdXJzb3I6LXdlYmtpdC1ncmFiO2N1cnNvcjpncmFiO3BvaW50ZXItZXZlbnRzOmFsbDstbXMtdG91Y2gtYWN0aW9uOm5vbmU7dG91Y2gtYWN0aW9uOm5vbmV9LnJlb3JkZXItc2VsZWN0ZWQsLnJlb3JkZXItc2VsZWN0ZWQgaW9uLXJlb3JkZXJ7Y3Vyc29yOi13ZWJraXQtZ3JhYmJpbmc7Y3Vyc29yOmdyYWJiaW5nfS5yZW9yZGVyLXNlbGVjdGVke3Bvc2l0aW9uOnJlbGF0aXZlOy13ZWJraXQtdHJhbnNpdGlvbjpub25lICFpbXBvcnRhbnQ7dHJhbnNpdGlvbjpub25lICFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtc2hhZG93OjAgMCAxMHB4IHJnYmEoMCwgMCwgMCwgMC40KTtib3gtc2hhZG93OjAgMCAxMHB4IHJnYmEoMCwgMCwgMCwgMC40KTtvcGFjaXR5OjAuODt6LWluZGV4OjEwMH0ucmVvcmRlci12aXNpYmxlIGlvbi1yZW9yZGVyIC5yZW9yZGVyLWljb257LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwgIDAsICAwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwgIDAsICAwKX1cIjtcblxuY29uc3QgUmVvcmRlckdyb3VwID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XG4gICAgcmVnaXN0ZXJJbnN0YW5jZSh0aGlzLCBob3N0UmVmKTtcbiAgICB0aGlzLmlvbkl0ZW1SZW9yZGVyID0gY3JlYXRlRXZlbnQodGhpcywgXCJpb25JdGVtUmVvcmRlclwiLCA3KTtcbiAgICB0aGlzLmxhc3RUb0luZGV4ID0gLTE7XG4gICAgdGhpcy5jYWNoZWRIZWlnaHRzID0gW107XG4gICAgdGhpcy5zY3JvbGxFbFRvcCA9IDA7XG4gICAgdGhpcy5zY3JvbGxFbEJvdHRvbSA9IDA7XG4gICAgdGhpcy5zY3JvbGxFbEluaXRpYWwgPSAwO1xuICAgIHRoaXMuY29udGFpbmVyVG9wID0gMDtcbiAgICB0aGlzLmNvbnRhaW5lckJvdHRvbSA9IDA7XG4gICAgdGhpcy5zdGF0ZSA9IDAgLyogSWRsZSAqLztcbiAgICAvKipcbiAgICAgKiBJZiBgdHJ1ZWAsIHRoZSByZW9yZGVyIHdpbGwgYmUgaGlkZGVuLlxuICAgICAqL1xuICAgIHRoaXMuZGlzYWJsZWQgPSB0cnVlO1xuICB9XG4gIGRpc2FibGVkQ2hhbmdlZCgpIHtcbiAgICBpZiAodGhpcy5nZXN0dXJlKSB7XG4gICAgICB0aGlzLmdlc3R1cmUuZW5hYmxlKCF0aGlzLmRpc2FibGVkKTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgY29uc3QgY29udGVudEVsID0gdGhpcy5lbC5jbG9zZXN0KCdpb24tY29udGVudCcpO1xuICAgIGlmIChjb250ZW50RWwpIHtcbiAgICAgIHRoaXMuc2Nyb2xsRWwgPSBhd2FpdCBjb250ZW50RWwuZ2V0U2Nyb2xsRWxlbWVudCgpO1xuICAgIH1cbiAgICB0aGlzLmdlc3R1cmUgPSAoYXdhaXQgaW1wb3J0KCcuL2luZGV4LTM0Y2IyNzQzLmpzJykpLmNyZWF0ZUdlc3R1cmUoe1xuICAgICAgZWw6IHRoaXMuZWwsXG4gICAgICBnZXN0dXJlTmFtZTogJ3Jlb3JkZXInLFxuICAgICAgZ2VzdHVyZVByaW9yaXR5OiAxMTAsXG4gICAgICB0aHJlc2hvbGQ6IDAsXG4gICAgICBkaXJlY3Rpb246ICd5JyxcbiAgICAgIHBhc3NpdmU6IGZhbHNlLFxuICAgICAgY2FuU3RhcnQ6IGRldGFpbCA9PiB0aGlzLmNhblN0YXJ0KGRldGFpbCksXG4gICAgICBvblN0YXJ0OiBldiA9PiB0aGlzLm9uU3RhcnQoZXYpLFxuICAgICAgb25Nb3ZlOiBldiA9PiB0aGlzLm9uTW92ZShldiksXG4gICAgICBvbkVuZDogKCkgPT4gdGhpcy5vbkVuZCgpLFxuICAgIH0pO1xuICAgIHRoaXMuZGlzYWJsZWRDaGFuZ2VkKCk7XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5vbkVuZCgpO1xuICAgIGlmICh0aGlzLmdlc3R1cmUpIHtcbiAgICAgIHRoaXMuZ2VzdHVyZS5kZXN0cm95KCk7XG4gICAgICB0aGlzLmdlc3R1cmUgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDb21wbGV0ZXMgdGhlIHJlb3JkZXIgb3BlcmF0aW9uLiBNdXN0IGJlIGNhbGxlZCBieSB0aGUgYGlvbkl0ZW1SZW9yZGVyYCBldmVudC5cbiAgICpcbiAgICogSWYgYSBsaXN0IG9mIGl0ZW1zIGlzIHBhc3NlZCwgdGhlIGxpc3Qgd2lsbCBiZSByZW9yZGVyZWQgYW5kIHJldHVybmVkIGluIHRoZVxuICAgKiBwcm9wZXIgb3JkZXIuXG4gICAqXG4gICAqIElmIG5vIHBhcmFtZXRlcnMgYXJlIHBhc3NlZCBvciBpZiBgdHJ1ZWAgaXMgcGFzc2VkIGluLCB0aGUgcmVvcmRlciB3aWxsIGNvbXBsZXRlXG4gICAqIGFuZCB0aGUgaXRlbSB3aWxsIHJlbWFpbiBpbiB0aGUgcG9zaXRpb24gaXQgd2FzIGRyYWdnZWQgdG8uIElmIGBmYWxzZWAgaXMgcGFzc2VkLFxuICAgKiB0aGUgcmVvcmRlciB3aWxsIGNvbXBsZXRlIGFuZCB0aGUgaXRlbSB3aWxsIGJvdW5jZSBiYWNrIHRvIGl0cyBvcmlnaW5hbCBwb3NpdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIGxpc3RPclJlb3JkZXIgQSBsaXN0IG9mIGl0ZW1zIHRvIGJlIHNvcnRlZCBhbmQgcmV0dXJuZWQgaW4gdGhlIG5ldyBvcmRlciBvciBhXG4gICAqIGJvb2xlYW4gb2Ygd2hldGhlciBvciBub3QgdGhlIHJlb3JkZXIgc2hvdWxkIHJlcG9zaXRpb24gdGhlIGl0ZW0uXG4gICAqL1xuICBjb21wbGV0ZShsaXN0T3JSZW9yZGVyKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmNvbXBsZXRlU3luYyhsaXN0T3JSZW9yZGVyKSk7XG4gIH1cbiAgY2FuU3RhcnQoZXYpIHtcbiAgICBpZiAodGhpcy5zZWxlY3RlZEl0ZW1FbCB8fCB0aGlzLnN0YXRlICE9PSAwIC8qIElkbGUgKi8pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgdGFyZ2V0ID0gZXYuZXZlbnQudGFyZ2V0O1xuICAgIGNvbnN0IHJlb3JkZXJFbCA9IHRhcmdldC5jbG9zZXN0KCdpb24tcmVvcmRlcicpO1xuICAgIGlmICghcmVvcmRlckVsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGl0ZW0gPSBmaW5kUmVvcmRlckl0ZW0ocmVvcmRlckVsLCB0aGlzLmVsKTtcbiAgICBpZiAoIWl0ZW0pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZXYuZGF0YSA9IGl0ZW07XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgb25TdGFydChldikge1xuICAgIGV2LmV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgaXRlbSA9IHRoaXMuc2VsZWN0ZWRJdGVtRWwgPSBldi5kYXRhO1xuICAgIGNvbnN0IGhlaWdodHMgPSB0aGlzLmNhY2hlZEhlaWdodHM7XG4gICAgaGVpZ2h0cy5sZW5ndGggPSAwO1xuICAgIGNvbnN0IGVsID0gdGhpcy5lbDtcbiAgICBjb25zdCBjaGlsZHJlbiA9IGVsLmNoaWxkcmVuO1xuICAgIGlmICghY2hpbGRyZW4gfHwgY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBzdW0gPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICBzdW0gKz0gY2hpbGQub2Zmc2V0SGVpZ2h0O1xuICAgICAgaGVpZ2h0cy5wdXNoKHN1bSk7XG4gICAgICBjaGlsZC4kaW9uSW5kZXggPSBpO1xuICAgIH1cbiAgICBjb25zdCBib3ggPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB0aGlzLmNvbnRhaW5lclRvcCA9IGJveC50b3A7XG4gICAgdGhpcy5jb250YWluZXJCb3R0b20gPSBib3guYm90dG9tO1xuICAgIGlmICh0aGlzLnNjcm9sbEVsKSB7XG4gICAgICBjb25zdCBzY3JvbGxCb3ggPSB0aGlzLnNjcm9sbEVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgdGhpcy5zY3JvbGxFbEluaXRpYWwgPSB0aGlzLnNjcm9sbEVsLnNjcm9sbFRvcDtcbiAgICAgIHRoaXMuc2Nyb2xsRWxUb3AgPSBzY3JvbGxCb3gudG9wICsgQVVUT19TQ1JPTExfTUFSR0lOO1xuICAgICAgdGhpcy5zY3JvbGxFbEJvdHRvbSA9IHNjcm9sbEJveC5ib3R0b20gLSBBVVRPX1NDUk9MTF9NQVJHSU47XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5zY3JvbGxFbEluaXRpYWwgPSAwO1xuICAgICAgdGhpcy5zY3JvbGxFbFRvcCA9IDA7XG4gICAgICB0aGlzLnNjcm9sbEVsQm90dG9tID0gMDtcbiAgICB9XG4gICAgdGhpcy5sYXN0VG9JbmRleCA9IGluZGV4Rm9ySXRlbShpdGVtKTtcbiAgICB0aGlzLnNlbGVjdGVkSXRlbUhlaWdodCA9IGl0ZW0ub2Zmc2V0SGVpZ2h0O1xuICAgIHRoaXMuc3RhdGUgPSAxIC8qIEFjdGl2ZSAqLztcbiAgICBpdGVtLmNsYXNzTGlzdC5hZGQoSVRFTV9SRU9SREVSX1NFTEVDVEVEKTtcbiAgICBoYXB0aWNTZWxlY3Rpb25TdGFydCgpO1xuICB9XG4gIG9uTW92ZShldikge1xuICAgIGNvbnN0IHNlbGVjdGVkSXRlbSA9IHRoaXMuc2VsZWN0ZWRJdGVtRWw7XG4gICAgaWYgKCFzZWxlY3RlZEl0ZW0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gU2Nyb2xsIGlmIHdlIHJlYWNoIHRoZSBzY3JvbGwgbWFyZ2luc1xuICAgIGNvbnN0IHNjcm9sbCA9IHRoaXMuYXV0b3Njcm9sbChldi5jdXJyZW50WSk7XG4gICAgLy8gLy8gR2V0IGNvb3JkaW5hdGVcbiAgICBjb25zdCB0b3AgPSB0aGlzLmNvbnRhaW5lclRvcCAtIHNjcm9sbDtcbiAgICBjb25zdCBib3R0b20gPSB0aGlzLmNvbnRhaW5lckJvdHRvbSAtIHNjcm9sbDtcbiAgICBjb25zdCBjdXJyZW50WSA9IE1hdGgubWF4KHRvcCwgTWF0aC5taW4oZXYuY3VycmVudFksIGJvdHRvbSkpO1xuICAgIGNvbnN0IGRlbHRhWSA9IHNjcm9sbCArIGN1cnJlbnRZIC0gZXYuc3RhcnRZO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRZID0gY3VycmVudFkgLSB0b3A7XG4gICAgY29uc3QgdG9JbmRleCA9IHRoaXMuaXRlbUluZGV4Rm9yVG9wKG5vcm1hbGl6ZWRZKTtcbiAgICBpZiAodG9JbmRleCAhPT0gdGhpcy5sYXN0VG9JbmRleCkge1xuICAgICAgY29uc3QgZnJvbUluZGV4ID0gaW5kZXhGb3JJdGVtKHNlbGVjdGVkSXRlbSk7XG4gICAgICB0aGlzLmxhc3RUb0luZGV4ID0gdG9JbmRleDtcbiAgICAgIGhhcHRpY1NlbGVjdGlvbkNoYW5nZWQoKTtcbiAgICAgIHRoaXMucmVvcmRlck1vdmUoZnJvbUluZGV4LCB0b0luZGV4KTtcbiAgICB9XG4gICAgLy8gVXBkYXRlIHNlbGVjdGVkIGl0ZW0gcG9zaXRpb25cbiAgICBzZWxlY3RlZEl0ZW0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVkoJHtkZWx0YVl9cHgpYDtcbiAgfVxuICBvbkVuZCgpIHtcbiAgICBjb25zdCBzZWxlY3RlZEl0ZW1FbCA9IHRoaXMuc2VsZWN0ZWRJdGVtRWw7XG4gICAgdGhpcy5zdGF0ZSA9IDIgLyogQ29tcGxldGUgKi87XG4gICAgaWYgKCFzZWxlY3RlZEl0ZW1FbCkge1xuICAgICAgdGhpcy5zdGF0ZSA9IDAgLyogSWRsZSAqLztcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdG9JbmRleCA9IHRoaXMubGFzdFRvSW5kZXg7XG4gICAgY29uc3QgZnJvbUluZGV4ID0gaW5kZXhGb3JJdGVtKHNlbGVjdGVkSXRlbUVsKTtcbiAgICBpZiAodG9JbmRleCA9PT0gZnJvbUluZGV4KSB7XG4gICAgICB0aGlzLmNvbXBsZXRlU3luYygpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuaW9uSXRlbVJlb3JkZXIuZW1pdCh7XG4gICAgICAgIGZyb206IGZyb21JbmRleCxcbiAgICAgICAgdG86IHRvSW5kZXgsXG4gICAgICAgIGNvbXBsZXRlOiB0aGlzLmNvbXBsZXRlU3luYy5iaW5kKHRoaXMpXG4gICAgICB9KTtcbiAgICB9XG4gICAgaGFwdGljU2VsZWN0aW9uRW5kKCk7XG4gIH1cbiAgY29tcGxldGVTeW5jKGxpc3RPclJlb3JkZXIpIHtcbiAgICBjb25zdCBzZWxlY3RlZEl0ZW1FbCA9IHRoaXMuc2VsZWN0ZWRJdGVtRWw7XG4gICAgaWYgKHNlbGVjdGVkSXRlbUVsICYmIHRoaXMuc3RhdGUgPT09IDIgLyogQ29tcGxldGUgKi8pIHtcbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5lbC5jaGlsZHJlbjtcbiAgICAgIGNvbnN0IGxlbiA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICAgIGNvbnN0IHRvSW5kZXggPSB0aGlzLmxhc3RUb0luZGV4O1xuICAgICAgY29uc3QgZnJvbUluZGV4ID0gaW5kZXhGb3JJdGVtKHNlbGVjdGVkSXRlbUVsKTtcbiAgICAgIGlmICh0b0luZGV4ICE9PSBmcm9tSW5kZXggJiYgKGxpc3RPclJlb3JkZXIgPT09IHVuZGVmaW5lZCB8fCBsaXN0T3JSZW9yZGVyID09PSB0cnVlKSkge1xuICAgICAgICBjb25zdCByZWYgPSAoZnJvbUluZGV4IDwgdG9JbmRleClcbiAgICAgICAgICA/IGNoaWxkcmVuW3RvSW5kZXggKyAxXVxuICAgICAgICAgIDogY2hpbGRyZW5bdG9JbmRleF07XG4gICAgICAgIHRoaXMuZWwuaW5zZXJ0QmVmb3JlKHNlbGVjdGVkSXRlbUVsLCByZWYpO1xuICAgICAgfVxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkobGlzdE9yUmVvcmRlcikpIHtcbiAgICAgICAgbGlzdE9yUmVvcmRlciA9IHJlb3JkZXJBcnJheShsaXN0T3JSZW9yZGVyLCBmcm9tSW5kZXgsIHRvSW5kZXgpO1xuICAgICAgfVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBjaGlsZHJlbltpXS5zdHlsZVsndHJhbnNmb3JtJ10gPSAnJztcbiAgICAgIH1cbiAgICAgIHNlbGVjdGVkSXRlbUVsLnN0eWxlLnRyYW5zaXRpb24gPSAnJztcbiAgICAgIHNlbGVjdGVkSXRlbUVsLmNsYXNzTGlzdC5yZW1vdmUoSVRFTV9SRU9SREVSX1NFTEVDVEVEKTtcbiAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtRWwgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLnN0YXRlID0gMCAvKiBJZGxlICovO1xuICAgIH1cbiAgICByZXR1cm4gbGlzdE9yUmVvcmRlcjtcbiAgfVxuICBpdGVtSW5kZXhGb3JUb3AoZGVsdGFZKSB7XG4gICAgY29uc3QgaGVpZ2h0cyA9IHRoaXMuY2FjaGVkSGVpZ2h0cztcbiAgICAvLyBUT0RPOiBzaW5jZSBoZWlnaHRzIGlzIGEgc29ydGVkIGFycmF5IG9mIGludGVnZXJzLCB3ZSBjYW4gZG9cbiAgICAvLyBzcGVlZCB1cCB0aGUgc2VhcmNoIHVzaW5nIGJpbmFyeSBzZWFyY2guIFJlbWVtYmVyIHRoYXQgbGluZWFyLXNlYXJjaCBpcyBzdGlsbFxuICAgIC8vIGZhc3RlciB0aGFuIGJpbmFyeS1zZWFyY2ggZm9yIHNtYWxsIGFycmF5cyAoPDY0KSBkdWUgQ1BVIGJyYW5jaCBtaXNwcmVkaWN0aW9uLlxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaGVpZ2h0cy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGhlaWdodHNbaV0gPiBkZWx0YVkpIHtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBoZWlnaHRzLmxlbmd0aCAtIDE7XG4gIH1cbiAgLyoqKioqKioqKiBET00gV1JJVEUgKioqKioqKioqICovXG4gIHJlb3JkZXJNb3ZlKGZyb21JbmRleCwgdG9JbmRleCkge1xuICAgIGNvbnN0IGl0ZW1IZWlnaHQgPSB0aGlzLnNlbGVjdGVkSXRlbUhlaWdodDtcbiAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuZWwuY2hpbGRyZW47XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgc3R5bGUgPSBjaGlsZHJlbltpXS5zdHlsZTtcbiAgICAgIGxldCB2YWx1ZSA9ICcnO1xuICAgICAgaWYgKGkgPiBmcm9tSW5kZXggJiYgaSA8PSB0b0luZGV4KSB7XG4gICAgICAgIHZhbHVlID0gYHRyYW5zbGF0ZVkoJHstaXRlbUhlaWdodH1weClgO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoaSA8IGZyb21JbmRleCAmJiBpID49IHRvSW5kZXgpIHtcbiAgICAgICAgdmFsdWUgPSBgdHJhbnNsYXRlWSgke2l0ZW1IZWlnaHR9cHgpYDtcbiAgICAgIH1cbiAgICAgIHN0eWxlWyd0cmFuc2Zvcm0nXSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuICBhdXRvc2Nyb2xsKHBvc1kpIHtcbiAgICBpZiAoIXRoaXMuc2Nyb2xsRWwpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBsZXQgYW1vdW50ID0gMDtcbiAgICBpZiAocG9zWSA8IHRoaXMuc2Nyb2xsRWxUb3ApIHtcbiAgICAgIGFtb3VudCA9IC1TQ1JPTExfSlVNUDtcbiAgICB9XG4gICAgZWxzZSBpZiAocG9zWSA+IHRoaXMuc2Nyb2xsRWxCb3R0b20pIHtcbiAgICAgIGFtb3VudCA9IFNDUk9MTF9KVU1QO1xuICAgIH1cbiAgICBpZiAoYW1vdW50ICE9PSAwKSB7XG4gICAgICB0aGlzLnNjcm9sbEVsLnNjcm9sbEJ5KDAsIGFtb3VudCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNjcm9sbEVsLnNjcm9sbFRvcCAtIHRoaXMuc2Nyb2xsRWxJbml0aWFsO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBtb2RlID0gZ2V0SW9uTW9kZSh0aGlzKTtcbiAgICByZXR1cm4gKGgoSG9zdCwgeyBjbGFzczoge1xuICAgICAgICBbbW9kZV06IHRydWUsXG4gICAgICAgICdyZW9yZGVyLWVuYWJsZWQnOiAhdGhpcy5kaXNhYmxlZCxcbiAgICAgICAgJ3Jlb3JkZXItbGlzdC1hY3RpdmUnOiB0aGlzLnN0YXRlICE9PSAwIC8qIElkbGUgKi8sXG4gICAgICB9IH0pKTtcbiAgfVxuICBnZXQgZWwoKSB7IHJldHVybiBnZXRFbGVtZW50KHRoaXMpOyB9XG4gIHN0YXRpYyBnZXQgd2F0Y2hlcnMoKSB7IHJldHVybiB7XG4gICAgXCJkaXNhYmxlZFwiOiBbXCJkaXNhYmxlZENoYW5nZWRcIl1cbiAgfTsgfVxufTtcbmNvbnN0IGluZGV4Rm9ySXRlbSA9IChlbGVtZW50KSA9PiB7XG4gIHJldHVybiBlbGVtZW50WyckaW9uSW5kZXgnXTtcbn07XG5jb25zdCBmaW5kUmVvcmRlckl0ZW0gPSAobm9kZSwgY29udGFpbmVyKSA9PiB7XG4gIGxldCBwYXJlbnQ7XG4gIHdoaWxlIChub2RlKSB7XG4gICAgcGFyZW50ID0gbm9kZS5wYXJlbnRFbGVtZW50O1xuICAgIGlmIChwYXJlbnQgPT09IGNvbnRhaW5lcikge1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIG5vZGUgPSBwYXJlbnQ7XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5jb25zdCBBVVRPX1NDUk9MTF9NQVJHSU4gPSA2MDtcbmNvbnN0IFNDUk9MTF9KVU1QID0gMTA7XG5jb25zdCBJVEVNX1JFT1JERVJfU0VMRUNURUQgPSAncmVvcmRlci1zZWxlY3RlZCc7XG5jb25zdCByZW9yZGVyQXJyYXkgPSAoYXJyYXksIGZyb20sIHRvKSA9PiB7XG4gIGNvbnN0IGVsZW1lbnQgPSBhcnJheVtmcm9tXTtcbiAgYXJyYXkuc3BsaWNlKGZyb20sIDEpO1xuICBhcnJheS5zcGxpY2UodG8sIDAsIGVsZW1lbnQpO1xuICByZXR1cm4gYXJyYXkuc2xpY2UoKTtcbn07XG5SZW9yZGVyR3JvdXAuc3R5bGUgPSByZW9yZGVyR3JvdXBDc3M7XG5cbmV4cG9ydCB7IFJlb3JkZXIgYXMgaW9uX3Jlb3JkZXIsIFJlb3JkZXJHcm91cCBhcyBpb25fcmVvcmRlcl9ncm91cCB9O1xuIl0sIm5hbWVzIjpbInIiLCJyZWdpc3Rlckluc3RhbmNlIiwiaCIsIkgiLCJIb3N0IiwiaSIsImdldEVsZW1lbnQiLCJlIiwiY3JlYXRlRXZlbnQiLCJiIiwiZ2V0SW9uTW9kZSIsImEiLCJoYXB0aWNTZWxlY3Rpb25TdGFydCIsImhhcHRpY1NlbGVjdGlvbkNoYW5nZWQiLCJoYXB0aWNTZWxlY3Rpb25FbmQiLCJyZW9yZGVySW9zQ3NzIiwicmVvcmRlck1kQ3NzIiwiUmVvcmRlciIsImNvbnN0cnVjdG9yIiwiaG9zdFJlZiIsIm9uQ2xpY2siLCJldiIsInJlb3JkZXJHcm91cCIsImVsIiwiY2xvc2VzdCIsInByZXZlbnREZWZhdWx0IiwiZGlzYWJsZWQiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJyZW5kZXIiLCJtb2RlIiwicmVvcmRlckljb24iLCJjbGFzcyIsIm5hbWUiLCJsYXp5IiwicGFydCIsInN0eWxlIiwiaW9zIiwibWQiLCJyZW9yZGVyR3JvdXBDc3MiLCJSZW9yZGVyR3JvdXAiLCJpb25JdGVtUmVvcmRlciIsImxhc3RUb0luZGV4IiwiY2FjaGVkSGVpZ2h0cyIsInNjcm9sbEVsVG9wIiwic2Nyb2xsRWxCb3R0b20iLCJzY3JvbGxFbEluaXRpYWwiLCJjb250YWluZXJUb3AiLCJjb250YWluZXJCb3R0b20iLCJzdGF0ZSIsImRpc2FibGVkQ2hhbmdlZCIsImdlc3R1cmUiLCJlbmFibGUiLCJjb25uZWN0ZWRDYWxsYmFjayIsImNvbnRlbnRFbCIsInNjcm9sbEVsIiwiZ2V0U2Nyb2xsRWxlbWVudCIsImNyZWF0ZUdlc3R1cmUiLCJnZXN0dXJlTmFtZSIsImdlc3R1cmVQcmlvcml0eSIsInRocmVzaG9sZCIsImRpcmVjdGlvbiIsInBhc3NpdmUiLCJjYW5TdGFydCIsImRldGFpbCIsIm9uU3RhcnQiLCJvbk1vdmUiLCJvbkVuZCIsImRpc2Nvbm5lY3RlZENhbGxiYWNrIiwiZGVzdHJveSIsInVuZGVmaW5lZCIsImNvbXBsZXRlIiwibGlzdE9yUmVvcmRlciIsIlByb21pc2UiLCJyZXNvbHZlIiwiY29tcGxldGVTeW5jIiwic2VsZWN0ZWRJdGVtRWwiLCJ0YXJnZXQiLCJldmVudCIsInJlb3JkZXJFbCIsIml0ZW0iLCJmaW5kUmVvcmRlckl0ZW0iLCJkYXRhIiwiaGVpZ2h0cyIsImxlbmd0aCIsImNoaWxkcmVuIiwic3VtIiwiY2hpbGQiLCJvZmZzZXRIZWlnaHQiLCJwdXNoIiwiJGlvbkluZGV4IiwiYm94IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidG9wIiwiYm90dG9tIiwic2Nyb2xsQm94Iiwic2Nyb2xsVG9wIiwiQVVUT19TQ1JPTExfTUFSR0lOIiwiaW5kZXhGb3JJdGVtIiwic2VsZWN0ZWRJdGVtSGVpZ2h0IiwiY2xhc3NMaXN0IiwiYWRkIiwiSVRFTV9SRU9SREVSX1NFTEVDVEVEIiwic2VsZWN0ZWRJdGVtIiwic2Nyb2xsIiwiYXV0b3Njcm9sbCIsImN1cnJlbnRZIiwiTWF0aCIsIm1heCIsIm1pbiIsImRlbHRhWSIsInN0YXJ0WSIsIm5vcm1hbGl6ZWRZIiwidG9JbmRleCIsIml0ZW1JbmRleEZvclRvcCIsImZyb21JbmRleCIsInJlb3JkZXJNb3ZlIiwidHJhbnNmb3JtIiwiZW1pdCIsImZyb20iLCJ0byIsImJpbmQiLCJsZW4iLCJyZWYiLCJpbnNlcnRCZWZvcmUiLCJBcnJheSIsImlzQXJyYXkiLCJyZW9yZGVyQXJyYXkiLCJ0cmFuc2l0aW9uIiwicmVtb3ZlIiwiaXRlbUhlaWdodCIsInZhbHVlIiwicG9zWSIsImFtb3VudCIsIlNDUk9MTF9KVU1QIiwic2Nyb2xsQnkiLCJ3YXRjaGVycyIsImVsZW1lbnQiLCJub2RlIiwiY29udGFpbmVyIiwicGFyZW50IiwicGFyZW50RWxlbWVudCIsImFycmF5Iiwic3BsaWNlIiwic2xpY2UiLCJpb25fcmVvcmRlciIsImlvbl9yZW9yZGVyX2dyb3VwIl0sInNvdXJjZVJvb3QiOiJ3ZWJwYWNrOi8vLyJ9