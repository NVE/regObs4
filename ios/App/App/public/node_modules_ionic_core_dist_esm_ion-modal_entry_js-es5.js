(function () {
  "use strict";

  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

  (self["webpackChunkregobs4"] = self["webpackChunkregobs4"] || []).push([["node_modules_ionic_core_dist_esm_ion-modal_entry_js"], {
    /***/
    15678: function _(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
      __webpack_require__.r(__webpack_exports__);
      /* harmony export */


      __webpack_require__.d(__webpack_exports__, {
        /* harmony export */
        "ion_modal": function ion_modal() {
          return (
            /* binding */
            Modal
          );
        }
        /* harmony export */

      });
      /* harmony import */


      var C_Repos_regobs_regObs4_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
      /*! ./node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator */
      80151);
      /* harmony import */


      var _index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
      /*! ./index-7a8b7a1c.js */
      76842);
      /* harmony import */


      var _ionic_global_63a97a32_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
      /*! ./ionic-global-63a97a32.js */
      33124);
      /* harmony import */


      var _framework_delegate_4392cd63_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
      /*! ./framework-delegate-4392cd63.js */
      85356);
      /* harmony import */


      var _overlays_e9ccff30_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(
      /*! ./overlays-e9ccff30.js */
      36838);
      /* harmony import */


      var _theme_ff3fc52f_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(
      /*! ./theme-ff3fc52f.js */
      43784);
      /* harmony import */


      var _index_931440b1_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(
      /*! ./index-931440b1.js */
      39546);
      /* harmony import */


      var _animation_096c6391_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(
      /*! ./animation-096c6391.js */
      93844);
      /* harmony import */


      var _cubic_bezier_eea9a7a9_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(
      /*! ./cubic-bezier-eea9a7a9.js */
      68161);
      /* harmony import */


      var _index_34cb2743_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(
      /*! ./index-34cb2743.js */
      88910);
      /* harmony import */


      var _helpers_dd7e4b7b_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(
      /*! ./helpers-dd7e4b7b.js */
      40693);
      /* harmony import */


      var _hardware_back_button_4a6b37fb_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(
      /*! ./hardware-back-button-4a6b37fb.js */
      57899);
      /* harmony import */


      var _gesture_controller_31cb6bb9_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(
      /*! ./gesture-controller-31cb6bb9.js */
      48499); // Defaults for the card swipe animation


      var SwipeToCloseDefaults = {
        MIN_PRESENTING_SCALE: 0.93
      };

      var createSwipeToCloseGesture = function createSwipeToCloseGesture(el, animation, onDismiss) {
        var height = el.offsetHeight;
        var isOpen = false;

        var canStart = function canStart(detail) {
          var target = detail.event.target;

          if (target === null || !target.closest) {
            return true;
          }

          var contentOrFooter = target.closest('ion-content, ion-footer');

          if (contentOrFooter === null) {
            return true;
          } // Target is in the content or the footer so do not start the gesture.
          // We could be more nuanced here and allow it for content that
          // does not need to scroll.


          return false;
        };

        var onStart = function onStart() {
          animation.progressStart(true, isOpen ? 1 : 0);
        };

        var onMove = function onMove(detail) {
          var step = (0, _helpers_dd7e4b7b_js__WEBPACK_IMPORTED_MODULE_10__.j)(0.0001, detail.deltaY / height, 0.9999);
          animation.progressStep(step);
        };

        var onEnd = function onEnd(detail) {
          var velocity = detail.velocityY;
          var step = (0, _helpers_dd7e4b7b_js__WEBPACK_IMPORTED_MODULE_10__.j)(0.0001, detail.deltaY / height, 0.9999);
          var threshold = (detail.deltaY + velocity * 1000) / height;
          var shouldComplete = threshold >= 0.5;
          var newStepValue = shouldComplete ? -0.001 : 0.001;

          if (!shouldComplete) {
            animation.easing('cubic-bezier(1, 0, 0.68, 0.28)');
            newStepValue += (0, _cubic_bezier_eea9a7a9_js__WEBPACK_IMPORTED_MODULE_8__.g)([0, 0], [1, 0], [0.68, 0.28], [1, 1], step)[0];
          } else {
            animation.easing('cubic-bezier(0.32, 0.72, 0, 1)');
            newStepValue += (0, _cubic_bezier_eea9a7a9_js__WEBPACK_IMPORTED_MODULE_8__.g)([0, 0], [0.32, 0.72], [0, 1], [1, 1], step)[0];
          }

          var duration = shouldComplete ? computeDuration(step * height, velocity) : computeDuration((1 - step) * height, velocity);
          isOpen = shouldComplete;
          gesture.enable(false);
          animation.onFinish(function () {
            if (!shouldComplete) {
              gesture.enable(true);
            }
          }).progressEnd(shouldComplete ? 1 : 0, newStepValue, duration);

          if (shouldComplete) {
            onDismiss();
          }
        };

        var gesture = (0, _index_34cb2743_js__WEBPACK_IMPORTED_MODULE_9__.createGesture)({
          el: el,
          gestureName: 'modalSwipeToClose',
          gesturePriority: 40,
          direction: 'y',
          threshold: 10,
          canStart: canStart,
          onStart: onStart,
          onMove: onMove,
          onEnd: onEnd
        });
        return gesture;
      };

      var computeDuration = function computeDuration(remaining, velocity) {
        return (0, _helpers_dd7e4b7b_js__WEBPACK_IMPORTED_MODULE_10__.j)(400, remaining / Math.abs(velocity * 1.1), 500);
      };
      /**
       * iOS Modal Enter Animation for the Card presentation style
       */


      var iosEnterAnimation = function iosEnterAnimation(baseEl, presentingEl) {
        var backdropAnimation = (0, _animation_096c6391_js__WEBPACK_IMPORTED_MODULE_7__.c)().addElement(baseEl.querySelector('ion-backdrop')).fromTo('opacity', 0.01, 'var(--backdrop-opacity)').beforeStyles({
          'pointer-events': 'none'
        }).afterClearStyles(['pointer-events']);
        var wrapperAnimation = (0, _animation_096c6391_js__WEBPACK_IMPORTED_MODULE_7__.c)().addElement(baseEl.querySelectorAll('.modal-wrapper, .modal-shadow')).beforeStyles({
          'opacity': 1
        }).fromTo('transform', 'translateY(100vh)', 'translateY(0vh)');
        var baseAnimation = (0, _animation_096c6391_js__WEBPACK_IMPORTED_MODULE_7__.c)().addElement(baseEl).easing('cubic-bezier(0.32,0.72,0,1)').duration(500).addAnimation(wrapperAnimation);

        if (presentingEl) {
          var isMobile = window.innerWidth < 768;
          var hasCardModal = presentingEl.tagName === 'ION-MODAL' && presentingEl.presentingElement !== undefined;
          var presentingAnimation = (0, _animation_096c6391_js__WEBPACK_IMPORTED_MODULE_7__.c)().beforeStyles({
            'transform': 'translateY(0)',
            'transform-origin': 'top center',
            'overflow': 'hidden'
          });
          var bodyEl = document.body;

          if (isMobile) {
            /**
             * Fallback for browsers that does not support `max()` (ex: Firefox)
             * No need to worry about statusbar padding since engines like Gecko
             * are not used as the engine for standlone Cordova/Capacitor apps
             */
            var transformOffset = !CSS.supports('width', 'max(0px, 1px)') ? '30px' : 'max(30px, var(--ion-safe-area-top))';
            var modalTransform = hasCardModal ? '-10px' : transformOffset;
            var toPresentingScale = SwipeToCloseDefaults.MIN_PRESENTING_SCALE;
            var finalTransform = "translateY(".concat(modalTransform, ") scale(").concat(toPresentingScale, ")");
            presentingAnimation.afterStyles({
              'transform': finalTransform
            }).beforeAddWrite(function () {
              return bodyEl.style.setProperty('background-color', 'black');
            }).addElement(presentingEl).keyframes([{
              offset: 0,
              filter: 'contrast(1)',
              transform: 'translateY(0px) scale(1)',
              borderRadius: '0px'
            }, {
              offset: 1,
              filter: 'contrast(0.85)',
              transform: finalTransform,
              borderRadius: '10px 10px 0 0'
            }]);
            baseAnimation.addAnimation(presentingAnimation);
          } else {
            baseAnimation.addAnimation(backdropAnimation);

            if (!hasCardModal) {
              wrapperAnimation.fromTo('opacity', '0', '1');
            } else {
              var _toPresentingScale = hasCardModal ? SwipeToCloseDefaults.MIN_PRESENTING_SCALE : 1;

              var _finalTransform = "translateY(-10px) scale(".concat(_toPresentingScale, ")");

              presentingAnimation.afterStyles({
                'transform': _finalTransform
              }).addElement(presentingEl.querySelector('.modal-wrapper')).keyframes([{
                offset: 0,
                filter: 'contrast(1)',
                transform: 'translateY(0) scale(1)'
              }, {
                offset: 1,
                filter: 'contrast(0.85)',
                transform: _finalTransform
              }]);
              var shadowAnimation = (0, _animation_096c6391_js__WEBPACK_IMPORTED_MODULE_7__.c)().afterStyles({
                'transform': _finalTransform
              }).addElement(presentingEl.querySelector('.modal-shadow')).keyframes([{
                offset: 0,
                opacity: '1',
                transform: 'translateY(0) scale(1)'
              }, {
                offset: 1,
                opacity: '0',
                transform: _finalTransform
              }]);
              baseAnimation.addAnimation([presentingAnimation, shadowAnimation]);
            }
          }
        } else {
          baseAnimation.addAnimation(backdropAnimation);
        }

        return baseAnimation;
      };
      /**
       * iOS Modal Leave Animation
       */


      var iosLeaveAnimation = function iosLeaveAnimation(baseEl, presentingEl) {
        var duration = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 500;
        var backdropAnimation = (0, _animation_096c6391_js__WEBPACK_IMPORTED_MODULE_7__.c)().addElement(baseEl.querySelector('ion-backdrop')).fromTo('opacity', 'var(--backdrop-opacity)', 0.0);
        var wrapperAnimation = (0, _animation_096c6391_js__WEBPACK_IMPORTED_MODULE_7__.c)().addElement(baseEl.querySelectorAll('.modal-wrapper, .modal-shadow')).beforeStyles({
          'opacity': 1
        }).fromTo('transform', 'translateY(0vh)', 'translateY(100vh)');
        var baseAnimation = (0, _animation_096c6391_js__WEBPACK_IMPORTED_MODULE_7__.c)().addElement(baseEl).easing('cubic-bezier(0.32,0.72,0,1)').duration(duration).addAnimation(wrapperAnimation);

        if (presentingEl) {
          var isMobile = window.innerWidth < 768;
          var hasCardModal = presentingEl.tagName === 'ION-MODAL' && presentingEl.presentingElement !== undefined;
          var presentingAnimation = (0, _animation_096c6391_js__WEBPACK_IMPORTED_MODULE_7__.c)().beforeClearStyles(['transform']).afterClearStyles(['transform']).onFinish(function (currentStep) {
            // only reset background color if this is the last card-style modal
            if (currentStep !== 1) {
              return;
            }

            presentingEl.style.setProperty('overflow', '');
            var numModals = Array.from(bodyEl.querySelectorAll('ion-modal')).filter(function (m) {
              return m.presentingElement !== undefined;
            }).length;

            if (numModals <= 1) {
              bodyEl.style.setProperty('background-color', '');
            }
          });
          var bodyEl = document.body;

          if (isMobile) {
            var transformOffset = !CSS.supports('width', 'max(0px, 1px)') ? '30px' : 'max(30px, var(--ion-safe-area-top))';
            var modalTransform = hasCardModal ? '-10px' : transformOffset;
            var toPresentingScale = SwipeToCloseDefaults.MIN_PRESENTING_SCALE;
            var finalTransform = "translateY(".concat(modalTransform, ") scale(").concat(toPresentingScale, ")");
            presentingAnimation.addElement(presentingEl).keyframes([{
              offset: 0,
              filter: 'contrast(0.85)',
              transform: finalTransform,
              borderRadius: '10px 10px 0 0'
            }, {
              offset: 1,
              filter: 'contrast(1)',
              transform: 'translateY(0px) scale(1)',
              borderRadius: '0px'
            }]);
            baseAnimation.addAnimation(presentingAnimation);
          } else {
            baseAnimation.addAnimation(backdropAnimation);

            if (!hasCardModal) {
              wrapperAnimation.fromTo('opacity', '1', '0');
            } else {
              var _toPresentingScale2 = hasCardModal ? SwipeToCloseDefaults.MIN_PRESENTING_SCALE : 1;

              var _finalTransform2 = "translateY(-10px) scale(".concat(_toPresentingScale2, ")");

              presentingAnimation.addElement(presentingEl.querySelector('.modal-wrapper')).afterStyles({
                'transform': 'translate3d(0, 0, 0)'
              }).keyframes([{
                offset: 0,
                filter: 'contrast(0.85)',
                transform: _finalTransform2
              }, {
                offset: 1,
                filter: 'contrast(1)',
                transform: 'translateY(0) scale(1)'
              }]);
              var shadowAnimation = (0, _animation_096c6391_js__WEBPACK_IMPORTED_MODULE_7__.c)().addElement(presentingEl.querySelector('.modal-shadow')).afterStyles({
                'transform': 'translateY(0) scale(1)'
              }).keyframes([{
                offset: 0,
                opacity: '0',
                transform: _finalTransform2
              }, {
                offset: 1,
                opacity: '1',
                transform: 'translateY(0) scale(1)'
              }]);
              baseAnimation.addAnimation([presentingAnimation, shadowAnimation]);
            }
          }
        } else {
          baseAnimation.addAnimation(backdropAnimation);
        }

        return baseAnimation;
      };
      /**
       * Md Modal Enter Animation
       */


      var mdEnterAnimation = function mdEnterAnimation(baseEl) {
        var baseAnimation = (0, _animation_096c6391_js__WEBPACK_IMPORTED_MODULE_7__.c)();
        var backdropAnimation = (0, _animation_096c6391_js__WEBPACK_IMPORTED_MODULE_7__.c)();
        var wrapperAnimation = (0, _animation_096c6391_js__WEBPACK_IMPORTED_MODULE_7__.c)();
        backdropAnimation.addElement(baseEl.querySelector('ion-backdrop')).fromTo('opacity', 0.01, 'var(--backdrop-opacity)').beforeStyles({
          'pointer-events': 'none'
        }).afterClearStyles(['pointer-events']);
        wrapperAnimation.addElement(baseEl.querySelector('.modal-wrapper')).keyframes([{
          offset: 0,
          opacity: 0.01,
          transform: 'translateY(40px)'
        }, {
          offset: 1,
          opacity: 1,
          transform: 'translateY(0px)'
        }]);
        return baseAnimation.addElement(baseEl).easing('cubic-bezier(0.36,0.66,0.04,1)').duration(280).addAnimation([backdropAnimation, wrapperAnimation]);
      };
      /**
       * Md Modal Leave Animation
       */


      var mdLeaveAnimation = function mdLeaveAnimation(baseEl) {
        var baseAnimation = (0, _animation_096c6391_js__WEBPACK_IMPORTED_MODULE_7__.c)();
        var backdropAnimation = (0, _animation_096c6391_js__WEBPACK_IMPORTED_MODULE_7__.c)();
        var wrapperAnimation = (0, _animation_096c6391_js__WEBPACK_IMPORTED_MODULE_7__.c)();
        var wrapperEl = baseEl.querySelector('.modal-wrapper');
        backdropAnimation.addElement(baseEl.querySelector('ion-backdrop')).fromTo('opacity', 'var(--backdrop-opacity)', 0.0);
        wrapperAnimation.addElement(wrapperEl).keyframes([{
          offset: 0,
          opacity: 0.99,
          transform: 'translateY(0px)'
        }, {
          offset: 1,
          opacity: 0,
          transform: 'translateY(40px)'
        }]);
        return baseAnimation.addElement(baseEl).easing('cubic-bezier(0.47,0,0.745,0.715)').duration(200).addAnimation([backdropAnimation, wrapperAnimation]);
      };

      var modalIosCss = ".sc-ion-modal-ios-h{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;contain:strict}.overlay-hidden.sc-ion-modal-ios-h{display:none}.modal-wrapper.sc-ion-modal-ios,.modal-shadow.sc-ion-modal-ios{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow.sc-ion-modal-ios{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){.sc-ion-modal-ios-h{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){.sc-ion-modal-ios-h{--width:600px;--height:600px}}.sc-ion-modal-ios-h:first-of-type{--backdrop-opacity:var(--ion-backdrop-opacity, 0.4)}@media only screen and (min-width: 768px) and (min-height: 600px){.sc-ion-modal-ios-h{--border-radius:10px}}.modal-wrapper.sc-ion-modal-ios{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0)}@media screen and (max-width: 767px){@supports (width: max(0px, 1px)){.modal-card.sc-ion-modal-ios-h{--height:calc(100% - max(30px, var(--ion-safe-area-top)) - 10px)}}@supports not (width: max(0px, 1px)){.modal-card.sc-ion-modal-ios-h{--height:calc(100% - 40px)}}.modal-card.sc-ion-modal-ios-h .modal-wrapper.sc-ion-modal-ios{border-top-left-radius:10px;border-top-right-radius:10px;border-bottom-right-radius:0;border-bottom-left-radius:0}[dir=rtl].sc-ion-modal-ios-h -no-combinator.modal-card.sc-ion-modal-ios-h .modal-wrapper.sc-ion-modal-ios,[dir=rtl] .sc-ion-modal-ios-h -no-combinator.modal-card.sc-ion-modal-ios-h .modal-wrapper.sc-ion-modal-ios,[dir=rtl].modal-card.sc-ion-modal-ios-h .modal-wrapper.sc-ion-modal-ios,[dir=rtl] .modal-card.sc-ion-modal-ios-h .modal-wrapper.sc-ion-modal-ios{border-top-left-radius:10px;border-top-right-radius:10px;border-bottom-right-radius:0;border-bottom-left-radius:0}.modal-card.sc-ion-modal-ios-h{--backdrop-opacity:0;--width:100%;-ms-flex-align:end;align-items:flex-end}.modal-card.sc-ion-modal-ios-h .modal-shadow.sc-ion-modal-ios{display:none}.modal-card.sc-ion-modal-ios-h ion-backdrop.sc-ion-modal-ios{pointer-events:none}}@media screen and (min-width: 768px){.modal-card.sc-ion-modal-ios-h{--width:calc(100% - 120px);--height:calc(100% - (120px + var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));--max-width:720px;--max-height:1000px}.modal-card.sc-ion-modal-ios-h{--backdrop-opacity:0;-webkit-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out}.modal-card.sc-ion-modal-ios-h:first-of-type{--backdrop-opacity:0.18}.modal-card.sc-ion-modal-ios-h .modal-shadow.sc-ion-modal-ios{-webkit-box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1);box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1)}}";
      var modalMdCss = ".sc-ion-modal-md-h{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;contain:strict}.overlay-hidden.sc-ion-modal-md-h{display:none}.modal-wrapper.sc-ion-modal-md,.modal-shadow.sc-ion-modal-md{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow.sc-ion-modal-md{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){.sc-ion-modal-md-h{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){.sc-ion-modal-md-h{--width:600px;--height:600px}}.sc-ion-modal-md-h:first-of-type{--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}@media only screen and (min-width: 768px) and (min-height: 600px){.sc-ion-modal-md-h{--border-radius:2px}.sc-ion-modal-md-h:first-of-type{--box-shadow:0 28px 48px rgba(0, 0, 0, 0.4)}}.modal-wrapper.sc-ion-modal-md{-webkit-transform:translate3d(0,  40px,  0);transform:translate3d(0,  40px,  0);opacity:0.01}";

      var Modal = /*#__PURE__*/function () {
        function Modal(hostRef) {
          var _this4 = this;

          _classCallCheck(this, Modal);

          (0, _index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
          this.didPresent = (0, _index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "ionModalDidPresent", 7);
          this.willPresent = (0, _index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "ionModalWillPresent", 7);
          this.willDismiss = (0, _index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "ionModalWillDismiss", 7);
          this.didDismiss = (0, _index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "ionModalDidDismiss", 7); // Whether or not modal is being dismissed via gesture

          this.gestureAnimationDismissing = false;
          this.presented = false;
          /**
           * If `true`, the keyboard will be automatically dismissed when the overlay is presented.
           */

          this.keyboardClose = true;
          /**
           * If `true`, the modal will be dismissed when the backdrop is clicked.
           */

          this.backdropDismiss = true;
          /**
           * If `true`, a backdrop will be displayed behind the modal.
           */

          this.showBackdrop = true;
          /**
           * If `true`, the modal will animate.
           */

          this.animated = true;
          /**
           * If `true`, the modal can be swiped to dismiss. Only applies in iOS mode.
           */

          this.swipeToClose = false;

          this.onBackdropTap = function () {
            _this4.dismiss(undefined, _overlays_e9ccff30_js__WEBPACK_IMPORTED_MODULE_4__.B);
          };

          this.onDismiss = function (ev) {
            ev.stopPropagation();
            ev.preventDefault();

            _this4.dismiss();
          };

          this.onLifecycle = function (modalEvent) {
            var el = _this4.usersElement;
            var name = LIFECYCLE_MAP[modalEvent.type];

            if (el && name) {
              var ev = new CustomEvent(name, {
                bubbles: false,
                cancelable: false,
                detail: modalEvent.detail
              });
              el.dispatchEvent(ev);
            }
          };
        }

        _createClass(Modal, [{
          key: "swipeToCloseChanged",
          value: function swipeToCloseChanged(enable) {
            if (this.gesture) {
              this.gesture.enable(enable);
            } else if (enable) {
              this.initSwipeToClose();
            }
          }
        }, {
          key: "connectedCallback",
          value: function connectedCallback() {
            (0, _overlays_e9ccff30_js__WEBPACK_IMPORTED_MODULE_4__.e)(this.el);
          }
          /**
           * Present the modal overlay after it has been created.
           */

        }, {
          key: "present",
          value: function present() {
            var _this = this;

            return (0, C_Repos_regobs_regObs4_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {
              var container, componentProps;
              return regeneratorRuntime.wrap(function _callee$(_context) {
                while (1) {
                  switch (_context.prev = _context.next) {
                    case 0:
                      if (!_this.presented) {
                        _context.next = 2;
                        break;
                      }

                      return _context.abrupt("return");

                    case 2:
                      container = _this.el.querySelector(".modal-wrapper");

                      if (container) {
                        _context.next = 5;
                        break;
                      }

                      throw new Error('container is undefined');

                    case 5:
                      componentProps = Object.assign(Object.assign({}, _this.componentProps), {
                        modal: _this.el
                      });
                      _context.next = 8;
                      return (0, _framework_delegate_4392cd63_js__WEBPACK_IMPORTED_MODULE_3__.a)(_this.delegate, container, _this.component, ['ion-page'], componentProps);

                    case 8:
                      _this.usersElement = _context.sent;
                      _context.next = 11;
                      return (0, _index_931440b1_js__WEBPACK_IMPORTED_MODULE_6__.e)(_this.usersElement);

                    case 11:
                      (0, _index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.c)(function () {
                        return _this.el.classList.add('show-modal');
                      });
                      _context.next = 14;
                      return (0, _overlays_e9ccff30_js__WEBPACK_IMPORTED_MODULE_4__.d)(_this, 'modalEnter', iosEnterAnimation, mdEnterAnimation, _this.presentingElement);

                    case 14:
                      if (_this.swipeToClose) {
                        _this.initSwipeToClose();
                      }

                    case 15:
                    case "end":
                      return _context.stop();
                  }
                }
              }, _callee);
            }))();
          }
        }, {
          key: "initSwipeToClose",
          value: function initSwipeToClose() {
            var _this5 = this;

            var _this2 = this;

            if ((0, _ionic_global_63a97a32_js__WEBPACK_IMPORTED_MODULE_2__.b)(this) !== 'ios') {
              return;
            } // All of the elements needed for the swipe gesture
            // should be in the DOM and referenced by now, except
            // for the presenting el


            var animationBuilder = this.leaveAnimation || _ionic_global_63a97a32_js__WEBPACK_IMPORTED_MODULE_2__.c.get('modalLeave', iosLeaveAnimation);

            var ani = this.animation = animationBuilder(this.el, this.presentingElement);
            this.gesture = createSwipeToCloseGesture(this.el, ani, function () {
              /**
               * While the gesture animation is finishing
               * it is possible for a user to tap the backdrop.
               * This would result in the dismiss animation
               * being played again. Typically this is avoided
               * by setting `presented = false` on the overlay
               * component; however, we cannot do that here as
               * that would prevent the element from being
               * removed from the DOM.
               */
              _this5.gestureAnimationDismissing = true;

              _this5.animation.onFinish( /*#__PURE__*/(0, C_Repos_regobs_regObs4_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {
                return regeneratorRuntime.wrap(function _callee2$(_context2) {
                  while (1) {
                    switch (_context2.prev = _context2.next) {
                      case 0:
                        _context2.next = 2;
                        return _this2.dismiss(undefined, 'gesture');

                      case 2:
                        _this2.gestureAnimationDismissing = false;

                      case 3:
                      case "end":
                        return _context2.stop();
                    }
                  }
                }, _callee2);
              })));
            });
            this.gesture.enable(true);
          }
          /**
           * Dismiss the modal overlay after it has been presented.
           *
           * @param data Any data to emit in the dismiss events.
           * @param role The role of the element that is dismissing the modal. For example, 'cancel' or 'backdrop'.
           */

        }, {
          key: "dismiss",
          value: function dismiss(data, role) {
            var _this3 = this;

            return (0, C_Repos_regobs_regObs4_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {
              var enteringAnimation, dismissed;
              return regeneratorRuntime.wrap(function _callee3$(_context3) {
                while (1) {
                  switch (_context3.prev = _context3.next) {
                    case 0:
                      if (!(_this3.gestureAnimationDismissing && role !== 'gesture')) {
                        _context3.next = 2;
                        break;
                      }

                      return _context3.abrupt("return", false);

                    case 2:
                      enteringAnimation = _overlays_e9ccff30_js__WEBPACK_IMPORTED_MODULE_4__.h.get(_this3) || [];
                      _context3.next = 5;
                      return (0, _overlays_e9ccff30_js__WEBPACK_IMPORTED_MODULE_4__.f)(_this3, data, role, 'modalLeave', iosLeaveAnimation, mdLeaveAnimation, _this3.presentingElement);

                    case 5:
                      dismissed = _context3.sent;

                      if (!dismissed) {
                        _context3.next = 11;
                        break;
                      }

                      _context3.next = 9;
                      return (0, _framework_delegate_4392cd63_js__WEBPACK_IMPORTED_MODULE_3__.d)(_this3.delegate, _this3.usersElement);

                    case 9:
                      if (_this3.animation) {
                        _this3.animation.destroy();
                      }

                      enteringAnimation.forEach(function (ani) {
                        return ani.destroy();
                      });

                    case 11:
                      _this3.animation = undefined;
                      return _context3.abrupt("return", dismissed);

                    case 13:
                    case "end":
                      return _context3.stop();
                  }
                }
              }, _callee3);
            }))();
          }
          /**
           * Returns a promise that resolves when the modal did dismiss.
           */

        }, {
          key: "onDidDismiss",
          value: function onDidDismiss() {
            return (0, _overlays_e9ccff30_js__WEBPACK_IMPORTED_MODULE_4__.g)(this.el, 'ionModalDidDismiss');
          }
          /**
           * Returns a promise that resolves when the modal will dismiss.
           */

        }, {
          key: "onWillDismiss",
          value: function onWillDismiss() {
            return (0, _overlays_e9ccff30_js__WEBPACK_IMPORTED_MODULE_4__.g)(this.el, 'ionModalWillDismiss');
          }
        }, {
          key: "render",
          value: function render() {
            var _Object$assign;

            var mode = (0, _ionic_global_63a97a32_js__WEBPACK_IMPORTED_MODULE_2__.b)(this);
            return (0, _index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.H, {
              "no-router": true,
              "aria-modal": "true",
              tabindex: "-1",
              "class": Object.assign((_Object$assign = {}, _defineProperty(_Object$assign, mode, true), _defineProperty(_Object$assign, "modal-card", this.presentingElement !== undefined && mode === 'ios'), _Object$assign), (0, _theme_ff3fc52f_js__WEBPACK_IMPORTED_MODULE_5__.g)(this.cssClass)),
              style: {
                zIndex: "".concat(20000 + this.overlayIndex)
              },
              onIonBackdropTap: this.onBackdropTap,
              onIonDismiss: this.onDismiss,
              onIonModalDidPresent: this.onLifecycle,
              onIonModalWillPresent: this.onLifecycle,
              onIonModalWillDismiss: this.onLifecycle,
              onIonModalDidDismiss: this.onLifecycle
            }, (0, _index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.h)("ion-backdrop", {
              visible: this.showBackdrop,
              tappable: this.backdropDismiss
            }), mode === 'ios' && (0, _index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
              "class": "modal-shadow"
            }), (0, _index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
              tabindex: "0"
            }), (0, _index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
              role: "dialog",
              "class": "modal-wrapper ion-overlay-wrapper"
            }), (0, _index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
              tabindex: "0"
            }));
          }
        }, {
          key: "el",
          get: function get() {
            return (0, _index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.i)(this);
          }
        }], [{
          key: "watchers",
          get: function get() {
            return {
              "swipeToClose": ["swipeToCloseChanged"]
            };
          }
        }]);

        return Modal;
      }();

      var LIFECYCLE_MAP = {
        'ionModalDidPresent': 'ionViewDidEnter',
        'ionModalWillPresent': 'ionViewWillEnter',
        'ionModalWillDismiss': 'ionViewWillLeave',
        'ionModalDidDismiss': 'ionViewDidLeave'
      };
      Modal.style = {
        ios: modalIosCss,
        md: modalMdCss
      };
      /***/
    }
  }]);
})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztjQWFBOzs7QUFDQSxVQUFNQSxvQkFBb0IsR0FBRztBQUMzQkMsNEJBQW9CLEVBQUU7QUFESyxPQUE3Qjs7QUFHQSxVQUFNQyx5QkFBeUIsR0FBRyxTQUE1QkEseUJBQTRCLENBQUNDLEVBQUQsRUFBS0MsU0FBTCxFQUFnQkMsU0FBaEIsRUFBOEI7QUFDOUQsWUFBTUMsTUFBTSxHQUFHSCxFQUFFLENBQUNJLFlBQWxCO0FBQ0EsWUFBSUMsTUFBTSxHQUFHLEtBQWI7O0FBQ0EsWUFBTUMsUUFBUSxHQUFJQyxTQUFaRCxRQUFZQyxPQUFELEVBQVk7QUFDM0IsY0FBTUMsTUFBTSxHQUFHRCxNQUFNLENBQUNFLEtBQVBGLENBQWFDLE1BQTVCOztBQUNBLGNBQUlBLE1BQU0sS0FBSyxJQUFYQSxJQUNGLENBQUNBLE1BQU0sQ0FBQ0UsT0FEVixFQUNtQjtBQUNqQixtQkFBTyxJQUFQO0FBQ0Q7O0FBQ0QsY0FBTUMsZUFBZSxHQUFHSCxNQUFNLENBQUNFLE9BQVBGLENBQWUseUJBQWZBLENBQXhCOztBQUNBLGNBQUlHLGVBQWUsS0FBSyxJQUF4QixFQUE4QjtBQUM1QixtQkFBTyxJQUFQO0FBUnlCLFlBVTNCO0FBQ0E7QUFDQTs7O0FBQ0EsaUJBQU8sS0FBUDtBQWJGOztBQWVBLFlBQU1DLE9BQU8sR0FBRyxTQUFWQSxPQUFVLEdBQU07QUFDcEJYLG1CQUFTLENBQUNZLGFBQVZaLENBQXdCLElBQXhCQSxFQUErQkksTUFBRCxHQUFXLENBQVgsR0FBZSxDQUE3Q0o7QUFERjs7QUFHQSxZQUFNYSxNQUFNLEdBQUlQLFNBQVZPLE1BQVVQLE9BQUQsRUFBWTtBQUN6QixjQUFNUSxJQUFJLEdBQUdDLDBEQUFNLE1BQU5BLEVBQWNULE1BQU0sQ0FBQ1UsTUFBUFYsR0FBZ0JKLE1BQTlCYSxFQUFzQyxNQUF0Q0EsQ0FBYjtBQUNBZixtQkFBUyxDQUFDaUIsWUFBVmpCLENBQXVCYyxJQUF2QmQ7QUFGRjs7QUFJQSxZQUFNa0IsS0FBSyxHQUFJWixTQUFUWSxLQUFTWixPQUFELEVBQVk7QUFDeEIsY0FBTWEsUUFBUSxHQUFHYixNQUFNLENBQUNjLFNBQXhCO0FBQ0EsY0FBTU4sSUFBSSxHQUFHQywwREFBTSxNQUFOQSxFQUFjVCxNQUFNLENBQUNVLE1BQVBWLEdBQWdCSixNQUE5QmEsRUFBc0MsTUFBdENBLENBQWI7QUFDQSxjQUFNTSxTQUFTLEdBQUcsQ0FBQ2YsTUFBTSxDQUFDVSxNQUFQVixHQUFnQmEsUUFBUSxHQUFHLElBQTVCLElBQW9DakIsTUFBdEQ7QUFDQSxjQUFNb0IsY0FBYyxHQUFHRCxTQUFTLElBQUksR0FBcEM7QUFDQSxjQUFJRSxZQUFZLEdBQUlELGNBQUQsR0FBbUIsQ0FBQyxLQUFwQixHQUE0QixLQUEvQzs7QUFDQSxjQUFJLENBQUNBLGNBQUwsRUFBcUI7QUFDbkJ0QixxQkFBUyxDQUFDd0IsTUFBVnhCLENBQWlCLGdDQUFqQkE7QUFDQXVCLHdCQUFZLElBQUlFLDhEQUF3QixDQUFDLENBQUQsRUFBSSxDQUFKLENBQXhCQSxFQUFnQyxDQUFDLENBQUQsRUFBSSxDQUFKLENBQWhDQSxFQUF3QyxDQUFDLElBQUQsRUFBTyxJQUFQLENBQXhDQSxFQUFzRCxDQUFDLENBQUQsRUFBSSxDQUFKLENBQXREQSxFQUE4RFgsSUFBOURXLEVBQW9FLENBQXBFQSxDQUFoQkY7QUFGRixpQkFJSztBQUNIdkIscUJBQVMsQ0FBQ3dCLE1BQVZ4QixDQUFpQixnQ0FBakJBO0FBQ0F1Qix3QkFBWSxJQUFJRSw4REFBd0IsQ0FBQyxDQUFELEVBQUksQ0FBSixDQUF4QkEsRUFBZ0MsQ0FBQyxJQUFELEVBQU8sSUFBUCxDQUFoQ0EsRUFBOEMsQ0FBQyxDQUFELEVBQUksQ0FBSixDQUE5Q0EsRUFBc0QsQ0FBQyxDQUFELEVBQUksQ0FBSixDQUF0REEsRUFBOERYLElBQTlEVyxFQUFvRSxDQUFwRUEsQ0FBaEJGO0FBQ0Q7O0FBQ0QsY0FBTUcsUUFBUSxHQUFJSixjQUFELEdBQW1CSyxlQUFlLENBQUNiLElBQUksR0FBR1osTUFBUixFQUFnQmlCLFFBQWhCLENBQWxDLEdBQThEUSxlQUFlLENBQUMsQ0FBQyxJQUFJYixJQUFMLElBQWFaLE1BQWQsRUFBc0JpQixRQUF0QixDQUE5RjtBQUNBZixnQkFBTSxHQUFHa0IsY0FBVGxCO0FBQ0F3QixpQkFBTyxDQUFDQyxNQUFSRCxDQUFlLEtBQWZBO0FBQ0E1QixtQkFBUyxDQUNOOEIsUUFESDlCLENBQ1ksWUFBTTtBQUNoQixnQkFBSSxDQUFDc0IsY0FBTCxFQUFxQjtBQUNuQk0scUJBQU8sQ0FBQ0MsTUFBUkQsQ0FBZSxJQUFmQTtBQUNEO0FBSkgsYUFNR0csV0FOSC9CLENBTWdCc0IsY0FBRCxHQUFtQixDQUFuQixHQUF1QixDQU50Q3RCLEVBTXlDdUIsWUFOekN2QixFQU11RDBCLFFBTnZEMUI7O0FBT0EsY0FBSXNCLGNBQUosRUFBb0I7QUFDbEJyQixxQkFBUztBQUNWO0FBMUJIOztBQTRCQSxZQUFNMkIsT0FBTyxHQUFHSSxtRUFBYztBQUM1QmpDLFlBRDRCLEVBQzVCQSxFQUQ0QjtBQUU1QmtDLHFCQUFXLEVBQUUsbUJBRmU7QUFHNUJDLHlCQUFlLEVBQUUsRUFIVztBQUk1QkMsbUJBQVMsRUFBRSxHQUppQjtBQUs1QmQsbUJBQVMsRUFBRSxFQUxpQjtBQU01QmhCLGtCQU40QixFQU01QkEsUUFONEI7QUFPNUJNLGlCQVA0QixFQU81QkEsT0FQNEI7QUFRNUJFLGdCQVI0QixFQVE1QkEsTUFSNEI7QUFTNUJLO0FBVDRCLFNBQWRjLENBQWhCO0FBV0EsZUFBT0osT0FBUDtBQWhFRjs7QUFrRUEsVUFBTUQsZUFBZSxHQUFHLFNBQWxCQSxlQUFrQixDQUFDUyxTQUFELEVBQVlqQixRQUFaLEVBQXlCO0FBQy9DLGVBQU9KLDBEQUFNLEdBQU5BLEVBQVdxQixTQUFTLEdBQUdDLElBQUksQ0FBQ0MsR0FBTEQsQ0FBU2xCLFFBQVEsR0FBRyxHQUFwQmtCLENBQXZCdEIsRUFBaUQsR0FBakRBLENBQVA7QUFERjtBQUlBO0FBQ0E7QUFDQTs7O0FBQ0EsVUFBTXdCLGlCQUFpQixHQUFHLFNBQXBCQSxpQkFBb0IsQ0FBQ0MsTUFBRCxFQUFTQyxZQUFULEVBQTBCO0FBQ2xELFlBQU1DLGlCQUFpQixHQUFHQyw2REFDdkJDLFVBRHVCRCxDQUNaSCxNQUFNLENBQUNLLGFBQVBMLENBQXFCLGNBQXJCQSxDQURZRyxFQUV2QkcsTUFGdUJILENBRWhCLFNBRmdCQSxFQUVMLElBRktBLEVBRUMseUJBRkRBLEVBR3ZCSSxZQUh1QkosQ0FHVjtBQUNkLDRCQUFrQjtBQURKLFNBSFVBLEVBTXZCSyxnQkFOdUJMLENBTU4sQ0FBQyxnQkFBRCxDQU5NQSxDQUExQjtBQU9BLFlBQU1NLGdCQUFnQixHQUFHTiw2REFDdEJDLFVBRHNCRCxDQUNYSCxNQUFNLENBQUNVLGdCQUFQVixDQUF3QiwrQkFBeEJBLENBRFdHLEVBRXRCSSxZQUZzQkosQ0FFVDtBQUFFLHFCQUFXO0FBQWIsU0FGU0EsRUFHdEJHLE1BSHNCSCxDQUdmLFdBSGVBLEVBR0YsbUJBSEVBLEVBR21CLGlCQUhuQkEsQ0FBekI7QUFJQSxZQUFNUSxhQUFhLEdBQUdSLDZEQUNuQkMsVUFEbUJELENBQ1JILE1BRFFHLEVBRW5CbkIsTUFGbUJtQixDQUVaLDZCQUZZQSxFQUduQmpCLFFBSG1CaUIsQ0FHVixHQUhVQSxFQUluQlMsWUFKbUJULENBSU5NLGdCQUpNTixDQUF0Qjs7QUFLQSxZQUFJRixZQUFKLEVBQWtCO0FBQ2hCLGNBQU1ZLFFBQVEsR0FBR0MsTUFBTSxDQUFDQyxVQUFQRCxHQUFvQixHQUFyQztBQUNBLGNBQU1FLFlBQVksR0FBSWYsWUFBWSxDQUFDZ0IsT0FBYmhCLEtBQXlCLFdBQXpCQSxJQUF3Q0EsWUFBWSxDQUFDaUIsaUJBQWJqQixLQUFtQ2tCLFNBQWpHO0FBQ0EsY0FBTUMsbUJBQW1CLEdBQUdqQiw2REFDekJJLFlBRHlCSixDQUNaO0FBQ2QseUJBQWEsZUFEQztBQUVkLGdDQUFvQixZQUZOO0FBR2Qsd0JBQVk7QUFIRSxXQURZQSxDQUE1QjtBQU1BLGNBQU1rQixNQUFNLEdBQUdDLFFBQVEsQ0FBQ0MsSUFBeEI7O0FBQ0EsY0FBSVYsUUFBSixFQUFjO0FBQ1o7QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNNLGdCQUFNVyxlQUFlLEdBQUksQ0FBQ0MsR0FBRyxDQUFDQyxRQUFKRCxDQUFhLE9BQWJBLEVBQXNCLGVBQXRCQSxDQUFELEdBQTJDLE1BQTNDLEdBQW9ELHFDQUE3RTtBQUNBLGdCQUFNRSxjQUFjLEdBQUdYLFlBQVksR0FBRyxPQUFILEdBQWFRLGVBQWhEO0FBQ0EsZ0JBQU1JLGlCQUFpQixHQUFHeEUsb0JBQW9CLENBQUNDLG9CQUEvQztBQUNBLGdCQUFNd0UsY0FBYyx3QkFBaUJGLGNBQWpCLHFCQUEwQ0MsaUJBQTFDLE1BQXBCO0FBQ0FSLCtCQUFtQixDQUNoQlUsV0FESFYsQ0FDZTtBQUNiLDJCQUFhUztBQURBLGFBRGZULEVBSUdXLGNBSkhYLENBSWtCO0FBQUEscUJBQU1DLE1BQU0sQ0FBQ1csS0FBUFgsQ0FBYVksV0FBYlosQ0FBeUIsa0JBQXpCQSxFQUE2QyxPQUE3Q0EsQ0FBTjtBQUFBLGFBSmxCRCxFQUtHaEIsVUFMSGdCLENBS2NuQixZQUxkbUIsRUFNR2MsU0FOSGQsQ0FNYSxDQUNYO0FBQUVlLG9CQUFNLEVBQUUsQ0FBVjtBQUFhQyxvQkFBTSxFQUFFLGFBQXJCO0FBQW9DQyx1QkFBUyxFQUFFLDBCQUEvQztBQUEyRUMsMEJBQVksRUFBRTtBQUF6RixhQURXLEVBRVg7QUFBRUgsb0JBQU0sRUFBRSxDQUFWO0FBQWFDLG9CQUFNLEVBQUUsZ0JBQXJCO0FBQXVDQyx1QkFBUyxFQUFFUixjQUFsRDtBQUFrRVMsMEJBQVksRUFBRTtBQUFoRixhQUZXLENBTmJsQjtBQVVBVCx5QkFBYSxDQUFDQyxZQUFkRCxDQUEyQlMsbUJBQTNCVDtBQXBCRixpQkFzQks7QUFDSEEseUJBQWEsQ0FBQ0MsWUFBZEQsQ0FBMkJULGlCQUEzQlM7O0FBQ0EsZ0JBQUksQ0FBQ0ssWUFBTCxFQUFtQjtBQUNqQlAsOEJBQWdCLENBQUNILE1BQWpCRyxDQUF3QixTQUF4QkEsRUFBbUMsR0FBbkNBLEVBQXdDLEdBQXhDQTtBQURGLG1CQUdLO0FBQ0gsa0JBQU1tQixrQkFBaUIsR0FBSVosWUFBRCxHQUFpQjVELG9CQUFvQixDQUFDQyxvQkFBdEMsR0FBNkQsQ0FBdkY7O0FBQ0Esa0JBQU13RSxlQUFjLHFDQUE4QkQsa0JBQTlCLE1BQXBCOztBQUNBUixpQ0FBbUIsQ0FDaEJVLFdBREhWLENBQ2U7QUFDYiw2QkFBYVM7QUFEQSxlQURmVCxFQUlHaEIsVUFKSGdCLENBSWNuQixZQUFZLENBQUNJLGFBQWJKLENBQTJCLGdCQUEzQkEsQ0FKZG1CLEVBS0djLFNBTEhkLENBS2EsQ0FDWDtBQUFFZSxzQkFBTSxFQUFFLENBQVY7QUFBYUMsc0JBQU0sRUFBRSxhQUFyQjtBQUFvQ0MseUJBQVMsRUFBRTtBQUEvQyxlQURXLEVBRVg7QUFBRUYsc0JBQU0sRUFBRSxDQUFWO0FBQWFDLHNCQUFNLEVBQUUsZ0JBQXJCO0FBQXVDQyx5QkFBUyxFQUFFUjtBQUFsRCxlQUZXLENBTGJUO0FBU0Esa0JBQU1tQixlQUFlLEdBQUdwQyw2REFDckIyQixXQURxQjNCLENBQ1Q7QUFDYiw2QkFBYTBCO0FBREEsZUFEUzFCLEVBSXJCQyxVQUpxQkQsQ0FJVkYsWUFBWSxDQUFDSSxhQUFiSixDQUEyQixlQUEzQkEsQ0FKVUUsRUFLckIrQixTQUxxQi9CLENBS1gsQ0FDWDtBQUFFZ0Msc0JBQU0sRUFBRSxDQUFWO0FBQWFLLHVCQUFPLEVBQUUsR0FBdEI7QUFBMkJILHlCQUFTLEVBQUU7QUFBdEMsZUFEVyxFQUVYO0FBQUVGLHNCQUFNLEVBQUUsQ0FBVjtBQUFhSyx1QkFBTyxFQUFFLEdBQXRCO0FBQTJCSCx5QkFBUyxFQUFFUjtBQUF0QyxlQUZXLENBTFcxQixDQUF4QjtBQVNBUSwyQkFBYSxDQUFDQyxZQUFkRCxDQUEyQixDQUFDUyxtQkFBRCxFQUFzQm1CLGVBQXRCLENBQTNCNUI7QUFDRDtBQUNGO0FBNURILGVBOERLO0FBQ0hBLHVCQUFhLENBQUNDLFlBQWRELENBQTJCVCxpQkFBM0JTO0FBQ0Q7O0FBQ0QsZUFBT0EsYUFBUDtBQWxGRjtBQXFGQTtBQUNBO0FBQ0E7OztBQUNBLFVBQU04QixpQkFBaUIsR0FBRyxTQUFwQkEsaUJBQW9CLENBQUN6QyxNQUFELEVBQVNDLFlBQVQsRUFBMEM7QUFBQSxZQUFuQmYsUUFBbUIsdUVBQVIsR0FBUTtBQUNsRSxZQUFNZ0IsaUJBQWlCLEdBQUdDLDZEQUN2QkMsVUFEdUJELENBQ1pILE1BQU0sQ0FBQ0ssYUFBUEwsQ0FBcUIsY0FBckJBLENBRFlHLEVBRXZCRyxNQUZ1QkgsQ0FFaEIsU0FGZ0JBLEVBRUwseUJBRktBLEVBRXNCLEdBRnRCQSxDQUExQjtBQUdBLFlBQU1NLGdCQUFnQixHQUFHTiw2REFDdEJDLFVBRHNCRCxDQUNYSCxNQUFNLENBQUNVLGdCQUFQVixDQUF3QiwrQkFBeEJBLENBRFdHLEVBRXRCSSxZQUZzQkosQ0FFVDtBQUFFLHFCQUFXO0FBQWIsU0FGU0EsRUFHdEJHLE1BSHNCSCxDQUdmLFdBSGVBLEVBR0YsaUJBSEVBLEVBR2lCLG1CQUhqQkEsQ0FBekI7QUFJQSxZQUFNUSxhQUFhLEdBQUdSLDZEQUNuQkMsVUFEbUJELENBQ1JILE1BRFFHLEVBRW5CbkIsTUFGbUJtQixDQUVaLDZCQUZZQSxFQUduQmpCLFFBSG1CaUIsQ0FHVmpCLFFBSFVpQixFQUluQlMsWUFKbUJULENBSU5NLGdCQUpNTixDQUF0Qjs7QUFLQSxZQUFJRixZQUFKLEVBQWtCO0FBQ2hCLGNBQU1ZLFFBQVEsR0FBR0MsTUFBTSxDQUFDQyxVQUFQRCxHQUFvQixHQUFyQztBQUNBLGNBQU1FLFlBQVksR0FBSWYsWUFBWSxDQUFDZ0IsT0FBYmhCLEtBQXlCLFdBQXpCQSxJQUF3Q0EsWUFBWSxDQUFDaUIsaUJBQWJqQixLQUFtQ2tCLFNBQWpHO0FBQ0EsY0FBTUMsbUJBQW1CLEdBQUdqQiw2REFDekJ1QyxpQkFEeUJ2QyxDQUNQLENBQUMsV0FBRCxDQURPQSxFQUV6QkssZ0JBRnlCTCxDQUVSLENBQUMsV0FBRCxDQUZRQSxFQUd6QmIsUUFIeUJhLENBR2hCd0MscUJBQVcsRUFBSTtBQUN6QjtBQUNBLGdCQUFJQSxXQUFXLEtBQUssQ0FBcEIsRUFBdUI7QUFDckI7QUFDRDs7QUFDRDFDLHdCQUFZLENBQUMrQixLQUFiL0IsQ0FBbUJnQyxXQUFuQmhDLENBQStCLFVBQS9CQSxFQUEyQyxFQUEzQ0E7QUFDQSxnQkFBTTJDLFNBQVMsR0FBR0MsS0FBSyxDQUFDQyxJQUFORCxDQUFXeEIsTUFBTSxDQUFDWCxnQkFBUFcsQ0FBd0IsV0FBeEJBLENBQVh3QixFQUFpRFQsTUFBakRTLENBQXdERSxXQUFDO0FBQUEscUJBQUlBLENBQUMsQ0FBQzdCLGlCQUFGNkIsS0FBd0I1QixTQUE1QjtBQUFBLGFBQXpEMEIsRUFBZ0dHLE1BQWxIOztBQUNBLGdCQUFJSixTQUFTLElBQUksQ0FBakIsRUFBb0I7QUFDbEJ2QixvQkFBTSxDQUFDVyxLQUFQWCxDQUFhWSxXQUFiWixDQUF5QixrQkFBekJBLEVBQTZDLEVBQTdDQTtBQUNEO0FBWnlCLFlBQTVCO0FBY0EsY0FBTUEsTUFBTSxHQUFHQyxRQUFRLENBQUNDLElBQXhCOztBQUNBLGNBQUlWLFFBQUosRUFBYztBQUNaLGdCQUFNVyxlQUFlLEdBQUksQ0FBQ0MsR0FBRyxDQUFDQyxRQUFKRCxDQUFhLE9BQWJBLEVBQXNCLGVBQXRCQSxDQUFELEdBQTJDLE1BQTNDLEdBQW9ELHFDQUE3RTtBQUNBLGdCQUFNRSxjQUFjLEdBQUdYLFlBQVksR0FBRyxPQUFILEdBQWFRLGVBQWhEO0FBQ0EsZ0JBQU1JLGlCQUFpQixHQUFHeEUsb0JBQW9CLENBQUNDLG9CQUEvQztBQUNBLGdCQUFNd0UsY0FBYyx3QkFBaUJGLGNBQWpCLHFCQUEwQ0MsaUJBQTFDLE1BQXBCO0FBQ0FSLCtCQUFtQixDQUNoQmhCLFVBREhnQixDQUNjbkIsWUFEZG1CLEVBRUdjLFNBRkhkLENBRWEsQ0FDWDtBQUFFZSxvQkFBTSxFQUFFLENBQVY7QUFBYUMsb0JBQU0sRUFBRSxnQkFBckI7QUFBdUNDLHVCQUFTLEVBQUVSLGNBQWxEO0FBQWtFUywwQkFBWSxFQUFFO0FBQWhGLGFBRFcsRUFFWDtBQUFFSCxvQkFBTSxFQUFFLENBQVY7QUFBYUMsb0JBQU0sRUFBRSxhQUFyQjtBQUFvQ0MsdUJBQVMsRUFBRSwwQkFBL0M7QUFBMkVDLDBCQUFZLEVBQUU7QUFBekYsYUFGVyxDQUZibEI7QUFNQVQseUJBQWEsQ0FBQ0MsWUFBZEQsQ0FBMkJTLG1CQUEzQlQ7QUFYRixpQkFhSztBQUNIQSx5QkFBYSxDQUFDQyxZQUFkRCxDQUEyQlQsaUJBQTNCUzs7QUFDQSxnQkFBSSxDQUFDSyxZQUFMLEVBQW1CO0FBQ2pCUCw4QkFBZ0IsQ0FBQ0gsTUFBakJHLENBQXdCLFNBQXhCQSxFQUFtQyxHQUFuQ0EsRUFBd0MsR0FBeENBO0FBREYsbUJBR0s7QUFDSCxrQkFBTW1CLG1CQUFpQixHQUFJWixZQUFELEdBQWlCNUQsb0JBQW9CLENBQUNDLG9CQUF0QyxHQUE2RCxDQUF2Rjs7QUFDQSxrQkFBTXdFLGdCQUFjLHFDQUE4QkQsbUJBQTlCLE1BQXBCOztBQUNBUixpQ0FBbUIsQ0FDaEJoQixVQURIZ0IsQ0FDY25CLFlBQVksQ0FBQ0ksYUFBYkosQ0FBMkIsZ0JBQTNCQSxDQURkbUIsRUFFR1UsV0FGSFYsQ0FFZTtBQUNiLDZCQUFhO0FBREEsZUFGZkEsRUFLR2MsU0FMSGQsQ0FLYSxDQUNYO0FBQUVlLHNCQUFNLEVBQUUsQ0FBVjtBQUFhQyxzQkFBTSxFQUFFLGdCQUFyQjtBQUF1Q0MseUJBQVMsRUFBRVI7QUFBbEQsZUFEVyxFQUVYO0FBQUVNLHNCQUFNLEVBQUUsQ0FBVjtBQUFhQyxzQkFBTSxFQUFFLGFBQXJCO0FBQW9DQyx5QkFBUyxFQUFFO0FBQS9DLGVBRlcsQ0FMYmpCO0FBU0Esa0JBQU1tQixlQUFlLEdBQUdwQyw2REFDckJDLFVBRHFCRCxDQUNWRixZQUFZLENBQUNJLGFBQWJKLENBQTJCLGVBQTNCQSxDQURVRSxFQUVyQjJCLFdBRnFCM0IsQ0FFVDtBQUNiLDZCQUFhO0FBREEsZUFGU0EsRUFLckIrQixTQUxxQi9CLENBS1gsQ0FDWDtBQUFFZ0Msc0JBQU0sRUFBRSxDQUFWO0FBQWFLLHVCQUFPLEVBQUUsR0FBdEI7QUFBMkJILHlCQUFTLEVBQUVSO0FBQXRDLGVBRFcsRUFFWDtBQUFFTSxzQkFBTSxFQUFFLENBQVY7QUFBYUssdUJBQU8sRUFBRSxHQUF0QjtBQUEyQkgseUJBQVMsRUFBRTtBQUF0QyxlQUZXLENBTFdsQyxDQUF4QjtBQVNBUSwyQkFBYSxDQUFDQyxZQUFkRCxDQUEyQixDQUFDUyxtQkFBRCxFQUFzQm1CLGVBQXRCLENBQTNCNUI7QUFDRDtBQUNGO0FBM0RILGVBNkRLO0FBQ0hBLHVCQUFhLENBQUNDLFlBQWRELENBQTJCVCxpQkFBM0JTO0FBQ0Q7O0FBQ0QsZUFBT0EsYUFBUDtBQTdFRjtBQWdGQTtBQUNBO0FBQ0E7OztBQUNBLFVBQU1zQyxnQkFBZ0IsR0FBSWpELFNBQXBCaUQsZ0JBQW9CakQsT0FBRCxFQUFZO0FBQ25DLFlBQU1XLGFBQWEsR0FBR1IsNERBQXRCO0FBQ0EsWUFBTUQsaUJBQWlCLEdBQUdDLDREQUExQjtBQUNBLFlBQU1NLGdCQUFnQixHQUFHTiw0REFBekI7QUFDQUQseUJBQWlCLENBQ2RFLFVBREhGLENBQ2NGLE1BQU0sQ0FBQ0ssYUFBUEwsQ0FBcUIsY0FBckJBLENBRGRFLEVBRUdJLE1BRkhKLENBRVUsU0FGVkEsRUFFcUIsSUFGckJBLEVBRTJCLHlCQUYzQkEsRUFHR0ssWUFISEwsQ0FHZ0I7QUFDZCw0QkFBa0I7QUFESixTQUhoQkEsRUFNR00sZ0JBTkhOLENBTW9CLENBQUMsZ0JBQUQsQ0FOcEJBO0FBT0FPLHdCQUFnQixDQUNiTCxVQURISyxDQUNjVCxNQUFNLENBQUNLLGFBQVBMLENBQXFCLGdCQUFyQkEsQ0FEZFMsRUFFR3lCLFNBRkh6QixDQUVhLENBQ1g7QUFBRTBCLGdCQUFNLEVBQUUsQ0FBVjtBQUFhSyxpQkFBTyxFQUFFLElBQXRCO0FBQTRCSCxtQkFBUyxFQUFFO0FBQXZDLFNBRFcsRUFFWDtBQUFFRixnQkFBTSxFQUFFLENBQVY7QUFBYUssaUJBQU8sRUFBRSxDQUF0QjtBQUF5QkgsbUJBQVMsRUFBRTtBQUFwQyxTQUZXLENBRmI1QjtBQU1BLGVBQU9FLGFBQWEsQ0FDakJQLFVBRElPLENBQ09YLE1BRFBXLEVBRUozQixNQUZJMkIsQ0FFRyxnQ0FGSEEsRUFHSnpCLFFBSEl5QixDQUdLLEdBSExBLEVBSUpDLFlBSklELENBSVMsQ0FBQ1QsaUJBQUQsRUFBb0JPLGdCQUFwQixDQUpURSxDQUFQO0FBakJGO0FBd0JBO0FBQ0E7QUFDQTs7O0FBQ0EsVUFBTXVDLGdCQUFnQixHQUFJbEQsU0FBcEJrRCxnQkFBb0JsRCxPQUFELEVBQVk7QUFDbkMsWUFBTVcsYUFBYSxHQUFHUiw0REFBdEI7QUFDQSxZQUFNRCxpQkFBaUIsR0FBR0MsNERBQTFCO0FBQ0EsWUFBTU0sZ0JBQWdCLEdBQUdOLDREQUF6QjtBQUNBLFlBQU1nRCxTQUFTLEdBQUduRCxNQUFNLENBQUNLLGFBQVBMLENBQXFCLGdCQUFyQkEsQ0FBbEI7QUFDQUUseUJBQWlCLENBQ2RFLFVBREhGLENBQ2NGLE1BQU0sQ0FBQ0ssYUFBUEwsQ0FBcUIsY0FBckJBLENBRGRFLEVBRUdJLE1BRkhKLENBRVUsU0FGVkEsRUFFcUIseUJBRnJCQSxFQUVnRCxHQUZoREE7QUFHQU8sd0JBQWdCLENBQ2JMLFVBREhLLENBQ2MwQyxTQURkMUMsRUFFR3lCLFNBRkh6QixDQUVhLENBQ1g7QUFBRTBCLGdCQUFNLEVBQUUsQ0FBVjtBQUFhSyxpQkFBTyxFQUFFLElBQXRCO0FBQTRCSCxtQkFBUyxFQUFFO0FBQXZDLFNBRFcsRUFFWDtBQUFFRixnQkFBTSxFQUFFLENBQVY7QUFBYUssaUJBQU8sRUFBRSxDQUF0QjtBQUF5QkgsbUJBQVMsRUFBRTtBQUFwQyxTQUZXLENBRmI1QjtBQU1BLGVBQU9FLGFBQWEsQ0FDakJQLFVBRElPLENBQ09YLE1BRFBXLEVBRUozQixNQUZJMkIsQ0FFRyxrQ0FGSEEsRUFHSnpCLFFBSEl5QixDQUdLLEdBSExBLEVBSUpDLFlBSklELENBSVMsQ0FBQ1QsaUJBQUQsRUFBb0JPLGdCQUFwQixDQUpURSxDQUFQO0FBZEY7O0FBcUJBLFVBQU15QyxXQUFXLEdBQUcscTZHQUFwQjtBQUVBLFVBQU1DLFVBQVUsR0FBRywyeERBQW5COztBQUVBLFVBQU1DLEtBQUs7QUFDVEMsdUJBQVlDLE9BQVpELEVBQXFCO0FBQUE7O0FBQUE7O0FBQ25CRSxpRUFBaUIsSUFBakJBLEVBQXVCRCxPQUF2QkM7QUFDQSxlQUFLQyxVQUFMLEdBQWtCQyx1REFBWSxJQUFaQSxFQUFrQixvQkFBbEJBLEVBQXdDLENBQXhDQSxDQUFsQjtBQUNBLGVBQUtDLFdBQUwsR0FBbUJELHVEQUFZLElBQVpBLEVBQWtCLHFCQUFsQkEsRUFBeUMsQ0FBekNBLENBQW5CO0FBQ0EsZUFBS0UsV0FBTCxHQUFtQkYsdURBQVksSUFBWkEsRUFBa0IscUJBQWxCQSxFQUF5QyxDQUF6Q0EsQ0FBbkI7QUFDQSxlQUFLRyxVQUFMLEdBQWtCSCx1REFBWSxJQUFaQSxFQUFrQixvQkFBbEJBLEVBQXdDLENBQXhDQSxDQUFsQixDQUxtQixDQU1uQjs7QUFDQSxlQUFLSSwwQkFBTCxHQUFrQyxLQUFsQztBQUNBLGVBQUtDLFNBQUwsR0FBaUIsS0FBakI7QUFDQTtBQUNKO0FBQ0E7O0FBQ0ksZUFBS0MsYUFBTCxHQUFxQixJQUFyQjtBQUNBO0FBQ0o7QUFDQTs7QUFDSSxlQUFLQyxlQUFMLEdBQXVCLElBQXZCO0FBQ0E7QUFDSjtBQUNBOztBQUNJLGVBQUtDLFlBQUwsR0FBb0IsSUFBcEI7QUFDQTtBQUNKO0FBQ0E7O0FBQ0ksZUFBS0MsUUFBTCxHQUFnQixJQUFoQjtBQUNBO0FBQ0o7QUFDQTs7QUFDSSxlQUFLQyxZQUFMLEdBQW9CLEtBQXBCOztBQUNBLGVBQUtDLGFBQUwsR0FBcUIsWUFBTTtBQUN6QixtQkFBS0MsT0FBTCxDQUFhcEQsU0FBYixFQUF3QnFELG9EQUF4QjtBQURGOztBQUdBLGVBQUsvRyxTQUFMLEdBQWtCZ0gsWUFBRCxFQUFRO0FBQ3ZCQSxjQUFFLENBQUNDLGVBQUhEO0FBQ0FBLGNBQUUsQ0FBQ0UsY0FBSEY7O0FBQ0EsbUJBQUtGLE9BQUw7QUFIRjs7QUFLQSxlQUFLSyxXQUFMLEdBQW9CQyxvQkFBRCxFQUFnQjtBQUNqQyxnQkFBTXRILEVBQUUsR0FBRyxPQUFLdUgsWUFBaEI7QUFDQSxnQkFBTUMsSUFBSSxHQUFHQyxhQUFhLENBQUNILFVBQVUsQ0FBQ0ksSUFBWixDQUExQjs7QUFDQSxnQkFBSTFILEVBQUUsSUFBSXdILElBQVYsRUFBZ0I7QUFDZCxrQkFBTU4sRUFBRSxHQUFHLElBQUlTLFdBQUosQ0FBZ0JILElBQWhCLEVBQXNCO0FBQy9CSSx1QkFBTyxFQUFFLEtBRHNCO0FBRS9CQywwQkFBVSxFQUFFLEtBRm1CO0FBRy9CdEgsc0JBQU0sRUFBRStHLFVBQVUsQ0FBQy9HO0FBSFksZUFBdEIsQ0FBWDtBQUtBUCxnQkFBRSxDQUFDOEgsYUFBSDlILENBQWlCa0gsRUFBakJsSDtBQUNEO0FBVkg7QUFZRDs7QUFsRFE7QUFBQTtBQUFBLGlCQW1EVCtILDZCQUFvQmpHLE1BQXBCaUcsRUFBNEI7QUFDMUIsZ0JBQUksS0FBS2xHLE9BQVQsRUFBa0I7QUFDaEIsbUJBQUtBLE9BQUwsQ0FBYUMsTUFBYixDQUFvQkEsTUFBcEI7QUFERixtQkFHSyxJQUFJQSxNQUFKLEVBQVk7QUFDZixtQkFBS2tHLGdCQUFMO0FBQ0Q7QUFDRjtBQTFEUTtBQUFBO0FBQUEsaUJBMkRUQyw2QkFBb0I7QUFDbEJDLHNFQUFlLEtBQUtsSSxFQUFwQmtJO0FBQ0Q7QUFDRDtBQUNGO0FBQ0E7O0FBaEVXO0FBQUE7QUFBQSxpQkFpRUhDLG1CQUFVO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsMkJBQ1ZDLEtBQUksQ0FBQzNCLFNBREs7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBQUE7QUFJUjRCLCtCQUpRLEdBSUlELEtBQUksQ0FBQ3BJLEVBQUwsQ0FBUThDLGFBQVIsa0JBSko7O0FBQUEsMEJBS1R1RixTQUxTO0FBQUE7QUFBQTtBQUFBOztBQUFBLDRCQU1OLElBQUlDLEtBQUosQ0FBVSx3QkFBVixDQU5NOztBQUFBO0FBUVJDLG9DQVJRLEdBUVNDLE1BQU0sQ0FBQ0MsTUFBUEQsQ0FBY0EsTUFBTSxDQUFDQyxNQUFQRCxDQUFjLEVBQWRBLEVBQWtCSixLQUFJLENBQUNHLGNBQXZCQyxDQUFkQSxFQUFzRDtBQUFFRSw2QkFBSyxFQUFFTixLQUFJLENBQUNwSTtBQUFkLHVCQUF0RHdJLENBUlQ7QUFBQTtBQVNkLDZCQUEwQkcsb0VBQWdCUCxLQUFJLENBQUNRLFFBQXJCRCxFQUErQk4sU0FBL0JNLEVBQTBDUCxLQUFJLENBQUNTLFNBQS9DRixFQUEwRCxDQUFDLFVBQUQsQ0FBMURBLEVBQXdFSixjQUF4RUksQ0FBMUI7O0FBVGM7QUFTZFAsMkJBQUksQ0FBQ2IsWUFUUztBQUFBO0FBVWQsNkJBQU11Qix1REFBVVYsS0FBSSxDQUFDYixZQUFmdUIsQ0FBTjs7QUFWYztBQVdkQyw2RUFBVTtBQUFBLCtCQUFNWCxLQUFJLENBQUNwSSxFQUFMLENBQVFnSixTQUFSLENBQWtCQyxHQUFsQixDQUFzQixZQUF0QixDQUFOO0FBQUEsdUJBQVZGO0FBWGM7QUFZZCw2QkFBTVosMERBQVFDLEtBQVJELEVBQWMsWUFBZEEsRUFBNEIzRixpQkFBNUIyRixFQUErQ3pDLGdCQUEvQ3lDLEVBQWlFQyxLQUFJLENBQUN6RSxpQkFBdEV3RSxDQUFOOztBQVpjO0FBYWQsMEJBQUlDLEtBQUksQ0FBQ3RCLFlBQVQsRUFBdUI7QUFDckJzQiw2QkFBSSxDQUFDSixnQkFBTDtBQUNEOztBQWZhO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBZ0JmO0FBakZRO0FBQUE7QUFBQSxpQkFrRlRBLDRCQUFtQjtBQUFBOztBQUFBOztBQUNqQixnQkFBSWtCLDhEQUFXLElBQVhBLE1BQXFCLEtBQXpCLEVBQWdDO0FBQzlCO0FBRmUsY0FJakI7QUFDQTtBQUNBOzs7QUFDQSxnQkFBTUMsZ0JBQWdCLEdBQUcsS0FBS0MsY0FBTCxJQUF1QkMsNkRBQVcsWUFBWEEsRUFBeUJuRSxpQkFBekJtRSxDQUFoRDs7QUFDQSxnQkFBTUMsR0FBRyxHQUFHLEtBQUtySixTQUFMLEdBQWlCa0osZ0JBQWdCLENBQUMsS0FBS25KLEVBQU4sRUFBVSxLQUFLMkQsaUJBQWYsQ0FBN0M7QUFDQSxpQkFBSzlCLE9BQUwsR0FBZTlCLHlCQUF5QixDQUFDLEtBQUtDLEVBQU4sRUFBVXNKLEdBQVYsRUFBZSxZQUFNO0FBQzNEO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ00scUJBQUs5QywwQkFBTCxHQUFrQyxJQUFsQzs7QUFDQSxxQkFBS3ZHLFNBQUwsQ0FBZThCLFFBQWYsMk5BQXdCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUN0QiwrQkFBTXdILE1BQUksQ0FBQ3ZDLE9BQUwsQ0FBYXBELFNBQWIsRUFBd0IsU0FBeEIsQ0FBTjs7QUFEc0I7QUFFdEIyRiw4QkFBSSxDQUFDL0MsMEJBQUwsR0FBa0MsS0FBbEM7O0FBRnNCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGVBQXhCO0FBWnNDLGNBQXhDO0FBaUJBLGlCQUFLM0UsT0FBTCxDQUFhQyxNQUFiLENBQW9CLElBQXBCO0FBQ0Q7QUFDRDtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBbkhXO0FBQUE7QUFBQSxpQkFvSEhrRixpQkFBUXdDLElBQVJ4QyxFQUFjeUMsSUFBZHpDLEVBQW9CO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsNEJBQ3BCMEMsTUFBSSxDQUFDbEQsMEJBQUwsSUFBbUNpRCxJQUFJLEtBQUssU0FEeEI7QUFBQTtBQUFBO0FBQUE7O0FBQUEsd0RBRWYsS0FGZTs7QUFBQTtBQUlsQkUsdUNBSmtCLEdBSUVDLHlEQUFxQkYsTUFBckJFLEtBQThCLEVBSmhDO0FBQUE7QUFLVCw2QkFBUzVDLDBEQUFRMEMsTUFBUjFDLEVBQWN3QyxJQUFkeEMsRUFBb0J5QyxJQUFwQnpDLEVBQTBCLFlBQTFCQSxFQUF3QzlCLGlCQUF4QzhCLEVBQTJEckIsZ0JBQTNEcUIsRUFBNkUwQyxNQUFJLENBQUMvRixpQkFBbEZxRCxDQUFUOztBQUxTO0FBS2xCNkMsK0JBTGtCOztBQUFBLDJCQU1wQkEsU0FOb0I7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFPdEIsNkJBQU1DLG9FQUFnQkosTUFBSSxDQUFDZCxRQUFyQmtCLEVBQStCSixNQUFJLENBQUNuQyxZQUFwQ3VDLENBQU47O0FBUHNCO0FBUXRCLDBCQUFJSixNQUFJLENBQUN6SixTQUFULEVBQW9CO0FBQ2xCeUosOEJBQUksQ0FBQ3pKLFNBQUwsQ0FBZThKLE9BQWY7QUFDRDs7QUFDREosdUNBQWlCLENBQUNLLE9BQWxCTCxDQUEwQkwsYUFBRztBQUFBLCtCQUFJQSxHQUFHLENBQUNTLE9BQUpULEVBQUo7QUFBQSx1QkFBN0JLOztBQVhzQjtBQWF4QkQsNEJBQUksQ0FBQ3pKLFNBQUwsR0FBaUIyRCxTQUFqQjtBQWJ3Qix3REFjakJpRyxTQWRpQjs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQWV6QjtBQUNEO0FBQ0Y7QUFDQTs7QUF0SVc7QUFBQTtBQUFBLGlCQXVJVEksd0JBQWU7QUFDYixtQkFBT0MsMERBQVksS0FBS2xLLEVBQWpCa0ssRUFBcUIsb0JBQXJCQSxDQUFQO0FBQ0Q7QUFDRDtBQUNGO0FBQ0E7O0FBNUlXO0FBQUE7QUFBQSxpQkE2SVRDLHlCQUFnQjtBQUNkLG1CQUFPRCwwREFBWSxLQUFLbEssRUFBakJrSyxFQUFxQixxQkFBckJBLENBQVA7QUFDRDtBQS9JUTtBQUFBO0FBQUEsaUJBZ0pURSxrQkFBUztBQUFBOztBQUNQLGdCQUFNQyxJQUFJLEdBQUduQiw4REFBVyxJQUFYQSxDQUFiO0FBQ0EsbUJBQVFvQix1REFBRUMsaURBQUZELEVBQVE7QUFBRSwyQkFBYSxJQUFmO0FBQXFCLDRCQUFjLE1BQW5DO0FBQTJDRSxzQkFBUSxFQUFFLElBQXJEO0FBQTJEQyx1QkFBT2pDLE1BQU0sQ0FBQ0MsTUFBUEQsdURBQWlCNkIsSUFBakI3QixFQUF3QixJQUF4QkEsaURBQThDLEtBQUs3RSxpQkFBTCxLQUEyQkMsU0FBM0IsSUFBd0N5RyxJQUFJLEtBQUssS0FBL0Y3QixvQkFBd0drQyx1REFBWSxLQUFLQyxRQUFqQkQsQ0FBeEdsQyxDQUFsRTtBQUF1TS9ELG1CQUFLLEVBQUU7QUFDMU5tRyxzQkFBTSxZQUFLLFFBQVEsS0FBS0MsWUFBbEI7QUFEb04sZUFBOU07QUFFWEMsOEJBQWdCLEVBQUUsS0FBSy9ELGFBRlo7QUFFMkJnRSwwQkFBWSxFQUFFLEtBQUs3SyxTQUY5QztBQUV5RDhLLGtDQUFvQixFQUFFLEtBQUszRCxXQUZwRjtBQUVpRzRELG1DQUFxQixFQUFFLEtBQUs1RCxXQUY3SDtBQUUwSTZELG1DQUFxQixFQUFFLEtBQUs3RCxXQUZ0SztBQUVtTDhELGtDQUFvQixFQUFFLEtBQUs5RDtBQUY5TSxhQUFSaUQsRUFFcU9BLHVEQUFFLGNBQUZBLEVBQWtCO0FBQUVjLHFCQUFPLEVBQUUsS0FBS3hFLFlBQWhCO0FBQThCeUUsc0JBQVEsRUFBRSxLQUFLMUU7QUFBN0MsYUFBbEIyRCxDQUZyT0EsRUFFd1RELElBQUksS0FBSyxLQUFUQSxJQUFrQkMsdURBQUUsS0FBRkEsRUFBUztBQUFFRyx1QkFBTztBQUFULGFBQVRILENBRjFVQSxFQUUrV0EsdURBQUUsS0FBRkEsRUFBUztBQUFFRSxzQkFBUSxFQUFFO0FBQVosYUFBVEYsQ0FGL1dBLEVBRTRZQSx1REFBRSxLQUFGQSxFQUFTO0FBQUViLGtCQUFJLEVBQUUsUUFBUjtBQUFrQmdCLHVCQUFPO0FBQXpCLGFBQVRILENBRjVZQSxFQUVzZEEsdURBQUUsS0FBRkEsRUFBUztBQUFFRSxzQkFBUSxFQUFFO0FBQVosYUFBVEYsQ0FGdGRBLENBQVI7QUFHRDtBQXJKUTtBQUFBO0FBQUEsZUFzSkgsZUFBRztBQUFFLG1CQUFPZ0IsdURBQVcsSUFBWEEsQ0FBUDtBQUEwQjtBQXRKNUI7QUFBQTtBQUFBLGVBdUpVLGVBQUc7QUFBRSxtQkFBTztBQUM3Qiw4QkFBZ0IsQ0FBQyxxQkFBRDtBQURhLGFBQVA7QUFFcEI7QUF6Sks7O0FBQUE7QUFBQSxTQUFYOztBQTJKQSxVQUFNN0QsYUFBYSxHQUFHO0FBQ3BCLDhCQUFzQixpQkFERjtBQUVwQiwrQkFBdUIsa0JBRkg7QUFHcEIsK0JBQXVCLGtCQUhIO0FBSXBCLDhCQUFzQjtBQUpGLE9BQXRCO0FBTUExQixXQUFLLENBQUN0QixLQUFOc0IsR0FBYztBQUNad0YsV0FBRyxFQUFFMUYsV0FETztBQUVaMkYsVUFBRSxFQUFFMUY7QUFGUSxPQUFkQzs7OyIsIm5hbWVzIjpbIlN3aXBlVG9DbG9zZURlZmF1bHRzIiwiTUlOX1BSRVNFTlRJTkdfU0NBTEUiLCJjcmVhdGVTd2lwZVRvQ2xvc2VHZXN0dXJlIiwiZWwiLCJhbmltYXRpb24iLCJvbkRpc21pc3MiLCJoZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJpc09wZW4iLCJjYW5TdGFydCIsImRldGFpbCIsInRhcmdldCIsImV2ZW50IiwiY2xvc2VzdCIsImNvbnRlbnRPckZvb3RlciIsIm9uU3RhcnQiLCJwcm9ncmVzc1N0YXJ0Iiwib25Nb3ZlIiwic3RlcCIsImNsYW1wIiwiZGVsdGFZIiwicHJvZ3Jlc3NTdGVwIiwib25FbmQiLCJ2ZWxvY2l0eSIsInZlbG9jaXR5WSIsInRocmVzaG9sZCIsInNob3VsZENvbXBsZXRlIiwibmV3U3RlcFZhbHVlIiwiZWFzaW5nIiwiZ2V0VGltZUdpdmVuUHJvZ3Jlc3Npb24iLCJkdXJhdGlvbiIsImNvbXB1dGVEdXJhdGlvbiIsImdlc3R1cmUiLCJlbmFibGUiLCJvbkZpbmlzaCIsInByb2dyZXNzRW5kIiwiY3JlYXRlR2VzdHVyZSIsImdlc3R1cmVOYW1lIiwiZ2VzdHVyZVByaW9yaXR5IiwiZGlyZWN0aW9uIiwicmVtYWluaW5nIiwiTWF0aCIsImFicyIsImlvc0VudGVyQW5pbWF0aW9uIiwiYmFzZUVsIiwicHJlc2VudGluZ0VsIiwiYmFja2Ryb3BBbmltYXRpb24iLCJjcmVhdGVBbmltYXRpb24iLCJhZGRFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImZyb21UbyIsImJlZm9yZVN0eWxlcyIsImFmdGVyQ2xlYXJTdHlsZXMiLCJ3cmFwcGVyQW5pbWF0aW9uIiwicXVlcnlTZWxlY3RvckFsbCIsImJhc2VBbmltYXRpb24iLCJhZGRBbmltYXRpb24iLCJpc01vYmlsZSIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJoYXNDYXJkTW9kYWwiLCJ0YWdOYW1lIiwicHJlc2VudGluZ0VsZW1lbnQiLCJ1bmRlZmluZWQiLCJwcmVzZW50aW5nQW5pbWF0aW9uIiwiYm9keUVsIiwiZG9jdW1lbnQiLCJib2R5IiwidHJhbnNmb3JtT2Zmc2V0IiwiQ1NTIiwic3VwcG9ydHMiLCJtb2RhbFRyYW5zZm9ybSIsInRvUHJlc2VudGluZ1NjYWxlIiwiZmluYWxUcmFuc2Zvcm0iLCJhZnRlclN0eWxlcyIsImJlZm9yZUFkZFdyaXRlIiwic3R5bGUiLCJzZXRQcm9wZXJ0eSIsImtleWZyYW1lcyIsIm9mZnNldCIsImZpbHRlciIsInRyYW5zZm9ybSIsImJvcmRlclJhZGl1cyIsInNoYWRvd0FuaW1hdGlvbiIsIm9wYWNpdHkiLCJpb3NMZWF2ZUFuaW1hdGlvbiIsImJlZm9yZUNsZWFyU3R5bGVzIiwiY3VycmVudFN0ZXAiLCJudW1Nb2RhbHMiLCJBcnJheSIsImZyb20iLCJtIiwibGVuZ3RoIiwibWRFbnRlckFuaW1hdGlvbiIsIm1kTGVhdmVBbmltYXRpb24iLCJ3cmFwcGVyRWwiLCJtb2RhbElvc0NzcyIsIm1vZGFsTWRDc3MiLCJNb2RhbCIsImNvbnN0cnVjdG9yIiwiaG9zdFJlZiIsInJlZ2lzdGVySW5zdGFuY2UiLCJkaWRQcmVzZW50IiwiY3JlYXRlRXZlbnQiLCJ3aWxsUHJlc2VudCIsIndpbGxEaXNtaXNzIiwiZGlkRGlzbWlzcyIsImdlc3R1cmVBbmltYXRpb25EaXNtaXNzaW5nIiwicHJlc2VudGVkIiwia2V5Ym9hcmRDbG9zZSIsImJhY2tkcm9wRGlzbWlzcyIsInNob3dCYWNrZHJvcCIsImFuaW1hdGVkIiwic3dpcGVUb0Nsb3NlIiwib25CYWNrZHJvcFRhcCIsImRpc21pc3MiLCJCQUNLRFJPUCIsImV2Iiwic3RvcFByb3BhZ2F0aW9uIiwicHJldmVudERlZmF1bHQiLCJvbkxpZmVjeWNsZSIsIm1vZGFsRXZlbnQiLCJ1c2Vyc0VsZW1lbnQiLCJuYW1lIiwiTElGRUNZQ0xFX01BUCIsInR5cGUiLCJDdXN0b21FdmVudCIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwiZGlzcGF0Y2hFdmVudCIsInN3aXBlVG9DbG9zZUNoYW5nZWQiLCJpbml0U3dpcGVUb0Nsb3NlIiwiY29ubmVjdGVkQ2FsbGJhY2siLCJwcmVwYXJlT3ZlcmxheSIsInByZXNlbnQiLCJfdGhpcyIsImNvbnRhaW5lciIsIkVycm9yIiwiY29tcG9uZW50UHJvcHMiLCJPYmplY3QiLCJhc3NpZ24iLCJtb2RhbCIsImF0dGFjaENvbXBvbmVudCIsImRlbGVnYXRlIiwiY29tcG9uZW50IiwiZGVlcFJlYWR5Iiwid3JpdGVUYXNrIiwiY2xhc3NMaXN0IiwiYWRkIiwiZ2V0SW9uTW9kZSIsImFuaW1hdGlvbkJ1aWxkZXIiLCJsZWF2ZUFuaW1hdGlvbiIsImNvbmZpZyIsImFuaSIsIl90aGlzMiIsImRhdGEiLCJyb2xlIiwiX3RoaXMzIiwiZW50ZXJpbmdBbmltYXRpb24iLCJhY3RpdmVBbmltYXRpb25zIiwiZGlzbWlzc2VkIiwiZGV0YWNoQ29tcG9uZW50IiwiZGVzdHJveSIsImZvckVhY2giLCJvbkRpZERpc21pc3MiLCJldmVudE1ldGhvZCIsIm9uV2lsbERpc21pc3MiLCJyZW5kZXIiLCJtb2RlIiwiaCIsIkhvc3QiLCJ0YWJpbmRleCIsImNsYXNzIiwiZ2V0Q2xhc3NNYXAiLCJjc3NDbGFzcyIsInpJbmRleCIsIm92ZXJsYXlJbmRleCIsIm9uSW9uQmFja2Ryb3BUYXAiLCJvbklvbkRpc21pc3MiLCJvbklvbk1vZGFsRGlkUHJlc2VudCIsIm9uSW9uTW9kYWxXaWxsUHJlc2VudCIsIm9uSW9uTW9kYWxXaWxsRGlzbWlzcyIsIm9uSW9uTW9kYWxEaWREaXNtaXNzIiwidmlzaWJsZSIsInRhcHBhYmxlIiwiZ2V0RWxlbWVudCIsImlvcyIsIm1kIl0sInNvdXJjZXMiOlsid2VicGFjazovLy9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vaW9uLW1vZGFsLmVudHJ5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHIgYXMgcmVnaXN0ZXJJbnN0YW5jZSwgZSBhcyBjcmVhdGVFdmVudCwgYyBhcyB3cml0ZVRhc2ssIGgsIEggYXMgSG9zdCwgaSBhcyBnZXRFbGVtZW50IH0gZnJvbSAnLi9pbmRleC03YThiN2ExYy5qcyc7XG5pbXBvcnQgeyBiIGFzIGdldElvbk1vZGUsIGMgYXMgY29uZmlnIH0gZnJvbSAnLi9pb25pYy1nbG9iYWwtNjNhOTdhMzIuanMnO1xuaW1wb3J0IHsgYSBhcyBhdHRhY2hDb21wb25lbnQsIGQgYXMgZGV0YWNoQ29tcG9uZW50IH0gZnJvbSAnLi9mcmFtZXdvcmstZGVsZWdhdGUtNDM5MmNkNjMuanMnO1xuaW1wb3J0IHsgQiBhcyBCQUNLRFJPUCwgZSBhcyBwcmVwYXJlT3ZlcmxheSwgZCBhcyBwcmVzZW50LCBoIGFzIGFjdGl2ZUFuaW1hdGlvbnMsIGYgYXMgZGlzbWlzcywgZyBhcyBldmVudE1ldGhvZCB9IGZyb20gJy4vb3ZlcmxheXMtZTljY2ZmMzAuanMnO1xuaW1wb3J0IHsgZyBhcyBnZXRDbGFzc01hcCB9IGZyb20gJy4vdGhlbWUtZmYzZmM1MmYuanMnO1xuaW1wb3J0IHsgZSBhcyBkZWVwUmVhZHkgfSBmcm9tICcuL2luZGV4LTkzMTQ0MGIxLmpzJztcbmltcG9ydCB7IGMgYXMgY3JlYXRlQW5pbWF0aW9uIH0gZnJvbSAnLi9hbmltYXRpb24tMDk2YzYzOTEuanMnO1xuaW1wb3J0IHsgZyBhcyBnZXRUaW1lR2l2ZW5Qcm9ncmVzc2lvbiB9IGZyb20gJy4vY3ViaWMtYmV6aWVyLWVlYTlhN2E5LmpzJztcbmltcG9ydCB7IGNyZWF0ZUdlc3R1cmUgfSBmcm9tICcuL2luZGV4LTM0Y2IyNzQzLmpzJztcbmltcG9ydCB7IGogYXMgY2xhbXAgfSBmcm9tICcuL2hlbHBlcnMtZGQ3ZTRiN2IuanMnO1xuaW1wb3J0ICcuL2hhcmR3YXJlLWJhY2stYnV0dG9uLTRhNmIzN2ZiLmpzJztcbmltcG9ydCAnLi9nZXN0dXJlLWNvbnRyb2xsZXItMzFjYjZiYjkuanMnO1xuXG4vLyBEZWZhdWx0cyBmb3IgdGhlIGNhcmQgc3dpcGUgYW5pbWF0aW9uXG5jb25zdCBTd2lwZVRvQ2xvc2VEZWZhdWx0cyA9IHtcbiAgTUlOX1BSRVNFTlRJTkdfU0NBTEU6IDAuOTMsXG59O1xuY29uc3QgY3JlYXRlU3dpcGVUb0Nsb3NlR2VzdHVyZSA9IChlbCwgYW5pbWF0aW9uLCBvbkRpc21pc3MpID0+IHtcbiAgY29uc3QgaGVpZ2h0ID0gZWwub2Zmc2V0SGVpZ2h0O1xuICBsZXQgaXNPcGVuID0gZmFsc2U7XG4gIGNvbnN0IGNhblN0YXJ0ID0gKGRldGFpbCkgPT4ge1xuICAgIGNvbnN0IHRhcmdldCA9IGRldGFpbC5ldmVudC50YXJnZXQ7XG4gICAgaWYgKHRhcmdldCA9PT0gbnVsbCB8fFxuICAgICAgIXRhcmdldC5jbG9zZXN0KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudE9yRm9vdGVyID0gdGFyZ2V0LmNsb3Nlc3QoJ2lvbi1jb250ZW50LCBpb24tZm9vdGVyJyk7XG4gICAgaWYgKGNvbnRlbnRPckZvb3RlciA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vIFRhcmdldCBpcyBpbiB0aGUgY29udGVudCBvciB0aGUgZm9vdGVyIHNvIGRvIG5vdCBzdGFydCB0aGUgZ2VzdHVyZS5cbiAgICAvLyBXZSBjb3VsZCBiZSBtb3JlIG51YW5jZWQgaGVyZSBhbmQgYWxsb3cgaXQgZm9yIGNvbnRlbnQgdGhhdFxuICAgIC8vIGRvZXMgbm90IG5lZWQgdG8gc2Nyb2xsLlxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbiAgY29uc3Qgb25TdGFydCA9ICgpID0+IHtcbiAgICBhbmltYXRpb24ucHJvZ3Jlc3NTdGFydCh0cnVlLCAoaXNPcGVuKSA/IDEgOiAwKTtcbiAgfTtcbiAgY29uc3Qgb25Nb3ZlID0gKGRldGFpbCkgPT4ge1xuICAgIGNvbnN0IHN0ZXAgPSBjbGFtcCgwLjAwMDEsIGRldGFpbC5kZWx0YVkgLyBoZWlnaHQsIDAuOTk5OSk7XG4gICAgYW5pbWF0aW9uLnByb2dyZXNzU3RlcChzdGVwKTtcbiAgfTtcbiAgY29uc3Qgb25FbmQgPSAoZGV0YWlsKSA9PiB7XG4gICAgY29uc3QgdmVsb2NpdHkgPSBkZXRhaWwudmVsb2NpdHlZO1xuICAgIGNvbnN0IHN0ZXAgPSBjbGFtcCgwLjAwMDEsIGRldGFpbC5kZWx0YVkgLyBoZWlnaHQsIDAuOTk5OSk7XG4gICAgY29uc3QgdGhyZXNob2xkID0gKGRldGFpbC5kZWx0YVkgKyB2ZWxvY2l0eSAqIDEwMDApIC8gaGVpZ2h0O1xuICAgIGNvbnN0IHNob3VsZENvbXBsZXRlID0gdGhyZXNob2xkID49IDAuNTtcbiAgICBsZXQgbmV3U3RlcFZhbHVlID0gKHNob3VsZENvbXBsZXRlKSA/IC0wLjAwMSA6IDAuMDAxO1xuICAgIGlmICghc2hvdWxkQ29tcGxldGUpIHtcbiAgICAgIGFuaW1hdGlvbi5lYXNpbmcoJ2N1YmljLWJlemllcigxLCAwLCAwLjY4LCAwLjI4KScpO1xuICAgICAgbmV3U3RlcFZhbHVlICs9IGdldFRpbWVHaXZlblByb2dyZXNzaW9uKFswLCAwXSwgWzEsIDBdLCBbMC42OCwgMC4yOF0sIFsxLCAxXSwgc3RlcClbMF07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgYW5pbWF0aW9uLmVhc2luZygnY3ViaWMtYmV6aWVyKDAuMzIsIDAuNzIsIDAsIDEpJyk7XG4gICAgICBuZXdTdGVwVmFsdWUgKz0gZ2V0VGltZUdpdmVuUHJvZ3Jlc3Npb24oWzAsIDBdLCBbMC4zMiwgMC43Ml0sIFswLCAxXSwgWzEsIDFdLCBzdGVwKVswXTtcbiAgICB9XG4gICAgY29uc3QgZHVyYXRpb24gPSAoc2hvdWxkQ29tcGxldGUpID8gY29tcHV0ZUR1cmF0aW9uKHN0ZXAgKiBoZWlnaHQsIHZlbG9jaXR5KSA6IGNvbXB1dGVEdXJhdGlvbigoMSAtIHN0ZXApICogaGVpZ2h0LCB2ZWxvY2l0eSk7XG4gICAgaXNPcGVuID0gc2hvdWxkQ29tcGxldGU7XG4gICAgZ2VzdHVyZS5lbmFibGUoZmFsc2UpO1xuICAgIGFuaW1hdGlvblxuICAgICAgLm9uRmluaXNoKCgpID0+IHtcbiAgICAgIGlmICghc2hvdWxkQ29tcGxldGUpIHtcbiAgICAgICAgZ2VzdHVyZS5lbmFibGUodHJ1ZSk7XG4gICAgICB9XG4gICAgfSlcbiAgICAgIC5wcm9ncmVzc0VuZCgoc2hvdWxkQ29tcGxldGUpID8gMSA6IDAsIG5ld1N0ZXBWYWx1ZSwgZHVyYXRpb24pO1xuICAgIGlmIChzaG91bGRDb21wbGV0ZSkge1xuICAgICAgb25EaXNtaXNzKCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBnZXN0dXJlID0gY3JlYXRlR2VzdHVyZSh7XG4gICAgZWwsXG4gICAgZ2VzdHVyZU5hbWU6ICdtb2RhbFN3aXBlVG9DbG9zZScsXG4gICAgZ2VzdHVyZVByaW9yaXR5OiA0MCxcbiAgICBkaXJlY3Rpb246ICd5JyxcbiAgICB0aHJlc2hvbGQ6IDEwLFxuICAgIGNhblN0YXJ0LFxuICAgIG9uU3RhcnQsXG4gICAgb25Nb3ZlLFxuICAgIG9uRW5kXG4gIH0pO1xuICByZXR1cm4gZ2VzdHVyZTtcbn07XG5jb25zdCBjb21wdXRlRHVyYXRpb24gPSAocmVtYWluaW5nLCB2ZWxvY2l0eSkgPT4ge1xuICByZXR1cm4gY2xhbXAoNDAwLCByZW1haW5pbmcgLyBNYXRoLmFicyh2ZWxvY2l0eSAqIDEuMSksIDUwMCk7XG59O1xuXG4vKipcbiAqIGlPUyBNb2RhbCBFbnRlciBBbmltYXRpb24gZm9yIHRoZSBDYXJkIHByZXNlbnRhdGlvbiBzdHlsZVxuICovXG5jb25zdCBpb3NFbnRlckFuaW1hdGlvbiA9IChiYXNlRWwsIHByZXNlbnRpbmdFbCkgPT4ge1xuICBjb25zdCBiYWNrZHJvcEFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpXG4gICAgLmFkZEVsZW1lbnQoYmFzZUVsLnF1ZXJ5U2VsZWN0b3IoJ2lvbi1iYWNrZHJvcCcpKVxuICAgIC5mcm9tVG8oJ29wYWNpdHknLCAwLjAxLCAndmFyKC0tYmFja2Ryb3Atb3BhY2l0eSknKVxuICAgIC5iZWZvcmVTdHlsZXMoe1xuICAgICdwb2ludGVyLWV2ZW50cyc6ICdub25lJ1xuICB9KVxuICAgIC5hZnRlckNsZWFyU3R5bGVzKFsncG9pbnRlci1ldmVudHMnXSk7XG4gIGNvbnN0IHdyYXBwZXJBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKVxuICAgIC5hZGRFbGVtZW50KGJhc2VFbC5xdWVyeVNlbGVjdG9yQWxsKCcubW9kYWwtd3JhcHBlciwgLm1vZGFsLXNoYWRvdycpKVxuICAgIC5iZWZvcmVTdHlsZXMoeyAnb3BhY2l0eSc6IDEgfSlcbiAgICAuZnJvbVRvKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlWSgxMDB2aCknLCAndHJhbnNsYXRlWSgwdmgpJyk7XG4gIGNvbnN0IGJhc2VBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKVxuICAgIC5hZGRFbGVtZW50KGJhc2VFbClcbiAgICAuZWFzaW5nKCdjdWJpYy1iZXppZXIoMC4zMiwwLjcyLDAsMSknKVxuICAgIC5kdXJhdGlvbig1MDApXG4gICAgLmFkZEFuaW1hdGlvbih3cmFwcGVyQW5pbWF0aW9uKTtcbiAgaWYgKHByZXNlbnRpbmdFbCkge1xuICAgIGNvbnN0IGlzTW9iaWxlID0gd2luZG93LmlubmVyV2lkdGggPCA3Njg7XG4gICAgY29uc3QgaGFzQ2FyZE1vZGFsID0gKHByZXNlbnRpbmdFbC50YWdOYW1lID09PSAnSU9OLU1PREFMJyAmJiBwcmVzZW50aW5nRWwucHJlc2VudGluZ0VsZW1lbnQgIT09IHVuZGVmaW5lZCk7XG4gICAgY29uc3QgcHJlc2VudGluZ0FuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpXG4gICAgICAuYmVmb3JlU3R5bGVzKHtcbiAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlWSgwKScsXG4gICAgICAndHJhbnNmb3JtLW9yaWdpbic6ICd0b3AgY2VudGVyJyxcbiAgICAgICdvdmVyZmxvdyc6ICdoaWRkZW4nXG4gICAgfSk7XG4gICAgY29uc3QgYm9keUVsID0gZG9jdW1lbnQuYm9keTtcbiAgICBpZiAoaXNNb2JpbGUpIHtcbiAgICAgIC8qKlxuICAgICAgICogRmFsbGJhY2sgZm9yIGJyb3dzZXJzIHRoYXQgZG9lcyBub3Qgc3VwcG9ydCBgbWF4KClgIChleDogRmlyZWZveClcbiAgICAgICAqIE5vIG5lZWQgdG8gd29ycnkgYWJvdXQgc3RhdHVzYmFyIHBhZGRpbmcgc2luY2UgZW5naW5lcyBsaWtlIEdlY2tvXG4gICAgICAgKiBhcmUgbm90IHVzZWQgYXMgdGhlIGVuZ2luZSBmb3Igc3RhbmRsb25lIENvcmRvdmEvQ2FwYWNpdG9yIGFwcHNcbiAgICAgICAqL1xuICAgICAgY29uc3QgdHJhbnNmb3JtT2Zmc2V0ID0gKCFDU1Muc3VwcG9ydHMoJ3dpZHRoJywgJ21heCgwcHgsIDFweCknKSkgPyAnMzBweCcgOiAnbWF4KDMwcHgsIHZhcigtLWlvbi1zYWZlLWFyZWEtdG9wKSknO1xuICAgICAgY29uc3QgbW9kYWxUcmFuc2Zvcm0gPSBoYXNDYXJkTW9kYWwgPyAnLTEwcHgnIDogdHJhbnNmb3JtT2Zmc2V0O1xuICAgICAgY29uc3QgdG9QcmVzZW50aW5nU2NhbGUgPSBTd2lwZVRvQ2xvc2VEZWZhdWx0cy5NSU5fUFJFU0VOVElOR19TQ0FMRTtcbiAgICAgIGNvbnN0IGZpbmFsVHJhbnNmb3JtID0gYHRyYW5zbGF0ZVkoJHttb2RhbFRyYW5zZm9ybX0pIHNjYWxlKCR7dG9QcmVzZW50aW5nU2NhbGV9KWA7XG4gICAgICBwcmVzZW50aW5nQW5pbWF0aW9uXG4gICAgICAgIC5hZnRlclN0eWxlcyh7XG4gICAgICAgICd0cmFuc2Zvcm0nOiBmaW5hbFRyYW5zZm9ybVxuICAgICAgfSlcbiAgICAgICAgLmJlZm9yZUFkZFdyaXRlKCgpID0+IGJvZHlFbC5zdHlsZS5zZXRQcm9wZXJ0eSgnYmFja2dyb3VuZC1jb2xvcicsICdibGFjaycpKVxuICAgICAgICAuYWRkRWxlbWVudChwcmVzZW50aW5nRWwpXG4gICAgICAgIC5rZXlmcmFtZXMoW1xuICAgICAgICB7IG9mZnNldDogMCwgZmlsdGVyOiAnY29udHJhc3QoMSknLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKDBweCkgc2NhbGUoMSknLCBib3JkZXJSYWRpdXM6ICcwcHgnIH0sXG4gICAgICAgIHsgb2Zmc2V0OiAxLCBmaWx0ZXI6ICdjb250cmFzdCgwLjg1KScsIHRyYW5zZm9ybTogZmluYWxUcmFuc2Zvcm0sIGJvcmRlclJhZGl1czogJzEwcHggMTBweCAwIDAnIH1cbiAgICAgIF0pO1xuICAgICAgYmFzZUFuaW1hdGlvbi5hZGRBbmltYXRpb24ocHJlc2VudGluZ0FuaW1hdGlvbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgYmFzZUFuaW1hdGlvbi5hZGRBbmltYXRpb24oYmFja2Ryb3BBbmltYXRpb24pO1xuICAgICAgaWYgKCFoYXNDYXJkTW9kYWwpIHtcbiAgICAgICAgd3JhcHBlckFuaW1hdGlvbi5mcm9tVG8oJ29wYWNpdHknLCAnMCcsICcxJyk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgdG9QcmVzZW50aW5nU2NhbGUgPSAoaGFzQ2FyZE1vZGFsKSA/IFN3aXBlVG9DbG9zZURlZmF1bHRzLk1JTl9QUkVTRU5USU5HX1NDQUxFIDogMTtcbiAgICAgICAgY29uc3QgZmluYWxUcmFuc2Zvcm0gPSBgdHJhbnNsYXRlWSgtMTBweCkgc2NhbGUoJHt0b1ByZXNlbnRpbmdTY2FsZX0pYDtcbiAgICAgICAgcHJlc2VudGluZ0FuaW1hdGlvblxuICAgICAgICAgIC5hZnRlclN0eWxlcyh7XG4gICAgICAgICAgJ3RyYW5zZm9ybSc6IGZpbmFsVHJhbnNmb3JtXG4gICAgICAgIH0pXG4gICAgICAgICAgLmFkZEVsZW1lbnQocHJlc2VudGluZ0VsLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC13cmFwcGVyJykpXG4gICAgICAgICAgLmtleWZyYW1lcyhbXG4gICAgICAgICAgeyBvZmZzZXQ6IDAsIGZpbHRlcjogJ2NvbnRyYXN0KDEpJywgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgwKSBzY2FsZSgxKScgfSxcbiAgICAgICAgICB7IG9mZnNldDogMSwgZmlsdGVyOiAnY29udHJhc3QoMC44NSknLCB0cmFuc2Zvcm06IGZpbmFsVHJhbnNmb3JtIH1cbiAgICAgICAgXSk7XG4gICAgICAgIGNvbnN0IHNoYWRvd0FuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpXG4gICAgICAgICAgLmFmdGVyU3R5bGVzKHtcbiAgICAgICAgICAndHJhbnNmb3JtJzogZmluYWxUcmFuc2Zvcm1cbiAgICAgICAgfSlcbiAgICAgICAgICAuYWRkRWxlbWVudChwcmVzZW50aW5nRWwucXVlcnlTZWxlY3RvcignLm1vZGFsLXNoYWRvdycpKVxuICAgICAgICAgIC5rZXlmcmFtZXMoW1xuICAgICAgICAgIHsgb2Zmc2V0OiAwLCBvcGFjaXR5OiAnMScsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoMCkgc2NhbGUoMSknIH0sXG4gICAgICAgICAgeyBvZmZzZXQ6IDEsIG9wYWNpdHk6ICcwJywgdHJhbnNmb3JtOiBmaW5hbFRyYW5zZm9ybSB9XG4gICAgICAgIF0pO1xuICAgICAgICBiYXNlQW5pbWF0aW9uLmFkZEFuaW1hdGlvbihbcHJlc2VudGluZ0FuaW1hdGlvbiwgc2hhZG93QW5pbWF0aW9uXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGVsc2Uge1xuICAgIGJhc2VBbmltYXRpb24uYWRkQW5pbWF0aW9uKGJhY2tkcm9wQW5pbWF0aW9uKTtcbiAgfVxuICByZXR1cm4gYmFzZUFuaW1hdGlvbjtcbn07XG5cbi8qKlxuICogaU9TIE1vZGFsIExlYXZlIEFuaW1hdGlvblxuICovXG5jb25zdCBpb3NMZWF2ZUFuaW1hdGlvbiA9IChiYXNlRWwsIHByZXNlbnRpbmdFbCwgZHVyYXRpb24gPSA1MDApID0+IHtcbiAgY29uc3QgYmFja2Ryb3BBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKVxuICAgIC5hZGRFbGVtZW50KGJhc2VFbC5xdWVyeVNlbGVjdG9yKCdpb24tYmFja2Ryb3AnKSlcbiAgICAuZnJvbVRvKCdvcGFjaXR5JywgJ3ZhcigtLWJhY2tkcm9wLW9wYWNpdHkpJywgMC4wKTtcbiAgY29uc3Qgd3JhcHBlckFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpXG4gICAgLmFkZEVsZW1lbnQoYmFzZUVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5tb2RhbC13cmFwcGVyLCAubW9kYWwtc2hhZG93JykpXG4gICAgLmJlZm9yZVN0eWxlcyh7ICdvcGFjaXR5JzogMSB9KVxuICAgIC5mcm9tVG8oJ3RyYW5zZm9ybScsICd0cmFuc2xhdGVZKDB2aCknLCAndHJhbnNsYXRlWSgxMDB2aCknKTtcbiAgY29uc3QgYmFzZUFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpXG4gICAgLmFkZEVsZW1lbnQoYmFzZUVsKVxuICAgIC5lYXNpbmcoJ2N1YmljLWJlemllcigwLjMyLDAuNzIsMCwxKScpXG4gICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxuICAgIC5hZGRBbmltYXRpb24od3JhcHBlckFuaW1hdGlvbik7XG4gIGlmIChwcmVzZW50aW5nRWwpIHtcbiAgICBjb25zdCBpc01vYmlsZSA9IHdpbmRvdy5pbm5lcldpZHRoIDwgNzY4O1xuICAgIGNvbnN0IGhhc0NhcmRNb2RhbCA9IChwcmVzZW50aW5nRWwudGFnTmFtZSA9PT0gJ0lPTi1NT0RBTCcgJiYgcHJlc2VudGluZ0VsLnByZXNlbnRpbmdFbGVtZW50ICE9PSB1bmRlZmluZWQpO1xuICAgIGNvbnN0IHByZXNlbnRpbmdBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKVxuICAgICAgLmJlZm9yZUNsZWFyU3R5bGVzKFsndHJhbnNmb3JtJ10pXG4gICAgICAuYWZ0ZXJDbGVhclN0eWxlcyhbJ3RyYW5zZm9ybSddKVxuICAgICAgLm9uRmluaXNoKGN1cnJlbnRTdGVwID0+IHtcbiAgICAgIC8vIG9ubHkgcmVzZXQgYmFja2dyb3VuZCBjb2xvciBpZiB0aGlzIGlzIHRoZSBsYXN0IGNhcmQtc3R5bGUgbW9kYWxcbiAgICAgIGlmIChjdXJyZW50U3RlcCAhPT0gMSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcmVzZW50aW5nRWwuc3R5bGUuc2V0UHJvcGVydHkoJ292ZXJmbG93JywgJycpO1xuICAgICAgY29uc3QgbnVtTW9kYWxzID0gQXJyYXkuZnJvbShib2R5RWwucXVlcnlTZWxlY3RvckFsbCgnaW9uLW1vZGFsJykpLmZpbHRlcihtID0+IG0ucHJlc2VudGluZ0VsZW1lbnQgIT09IHVuZGVmaW5lZCkubGVuZ3RoO1xuICAgICAgaWYgKG51bU1vZGFscyA8PSAxKSB7XG4gICAgICAgIGJvZHlFbC5zdHlsZS5zZXRQcm9wZXJ0eSgnYmFja2dyb3VuZC1jb2xvcicsICcnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBib2R5RWwgPSBkb2N1bWVudC5ib2R5O1xuICAgIGlmIChpc01vYmlsZSkge1xuICAgICAgY29uc3QgdHJhbnNmb3JtT2Zmc2V0ID0gKCFDU1Muc3VwcG9ydHMoJ3dpZHRoJywgJ21heCgwcHgsIDFweCknKSkgPyAnMzBweCcgOiAnbWF4KDMwcHgsIHZhcigtLWlvbi1zYWZlLWFyZWEtdG9wKSknO1xuICAgICAgY29uc3QgbW9kYWxUcmFuc2Zvcm0gPSBoYXNDYXJkTW9kYWwgPyAnLTEwcHgnIDogdHJhbnNmb3JtT2Zmc2V0O1xuICAgICAgY29uc3QgdG9QcmVzZW50aW5nU2NhbGUgPSBTd2lwZVRvQ2xvc2VEZWZhdWx0cy5NSU5fUFJFU0VOVElOR19TQ0FMRTtcbiAgICAgIGNvbnN0IGZpbmFsVHJhbnNmb3JtID0gYHRyYW5zbGF0ZVkoJHttb2RhbFRyYW5zZm9ybX0pIHNjYWxlKCR7dG9QcmVzZW50aW5nU2NhbGV9KWA7XG4gICAgICBwcmVzZW50aW5nQW5pbWF0aW9uXG4gICAgICAgIC5hZGRFbGVtZW50KHByZXNlbnRpbmdFbClcbiAgICAgICAgLmtleWZyYW1lcyhbXG4gICAgICAgIHsgb2Zmc2V0OiAwLCBmaWx0ZXI6ICdjb250cmFzdCgwLjg1KScsIHRyYW5zZm9ybTogZmluYWxUcmFuc2Zvcm0sIGJvcmRlclJhZGl1czogJzEwcHggMTBweCAwIDAnIH0sXG4gICAgICAgIHsgb2Zmc2V0OiAxLCBmaWx0ZXI6ICdjb250cmFzdCgxKScsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoMHB4KSBzY2FsZSgxKScsIGJvcmRlclJhZGl1czogJzBweCcgfVxuICAgICAgXSk7XG4gICAgICBiYXNlQW5pbWF0aW9uLmFkZEFuaW1hdGlvbihwcmVzZW50aW5nQW5pbWF0aW9uKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBiYXNlQW5pbWF0aW9uLmFkZEFuaW1hdGlvbihiYWNrZHJvcEFuaW1hdGlvbik7XG4gICAgICBpZiAoIWhhc0NhcmRNb2RhbCkge1xuICAgICAgICB3cmFwcGVyQW5pbWF0aW9uLmZyb21Ubygnb3BhY2l0eScsICcxJywgJzAnKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBjb25zdCB0b1ByZXNlbnRpbmdTY2FsZSA9IChoYXNDYXJkTW9kYWwpID8gU3dpcGVUb0Nsb3NlRGVmYXVsdHMuTUlOX1BSRVNFTlRJTkdfU0NBTEUgOiAxO1xuICAgICAgICBjb25zdCBmaW5hbFRyYW5zZm9ybSA9IGB0cmFuc2xhdGVZKC0xMHB4KSBzY2FsZSgke3RvUHJlc2VudGluZ1NjYWxlfSlgO1xuICAgICAgICBwcmVzZW50aW5nQW5pbWF0aW9uXG4gICAgICAgICAgLmFkZEVsZW1lbnQocHJlc2VudGluZ0VsLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC13cmFwcGVyJykpXG4gICAgICAgICAgLmFmdGVyU3R5bGVzKHtcbiAgICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZTNkKDAsIDAsIDApJ1xuICAgICAgICB9KVxuICAgICAgICAgIC5rZXlmcmFtZXMoW1xuICAgICAgICAgIHsgb2Zmc2V0OiAwLCBmaWx0ZXI6ICdjb250cmFzdCgwLjg1KScsIHRyYW5zZm9ybTogZmluYWxUcmFuc2Zvcm0gfSxcbiAgICAgICAgICB7IG9mZnNldDogMSwgZmlsdGVyOiAnY29udHJhc3QoMSknLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKDApIHNjYWxlKDEpJyB9XG4gICAgICAgIF0pO1xuICAgICAgICBjb25zdCBzaGFkb3dBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKVxuICAgICAgICAgIC5hZGRFbGVtZW50KHByZXNlbnRpbmdFbC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtc2hhZG93JykpXG4gICAgICAgICAgLmFmdGVyU3R5bGVzKHtcbiAgICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVkoMCkgc2NhbGUoMSknXG4gICAgICAgIH0pXG4gICAgICAgICAgLmtleWZyYW1lcyhbXG4gICAgICAgICAgeyBvZmZzZXQ6IDAsIG9wYWNpdHk6ICcwJywgdHJhbnNmb3JtOiBmaW5hbFRyYW5zZm9ybSB9LFxuICAgICAgICAgIHsgb2Zmc2V0OiAxLCBvcGFjaXR5OiAnMScsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoMCkgc2NhbGUoMSknIH1cbiAgICAgICAgXSk7XG4gICAgICAgIGJhc2VBbmltYXRpb24uYWRkQW5pbWF0aW9uKFtwcmVzZW50aW5nQW5pbWF0aW9uLCBzaGFkb3dBbmltYXRpb25dKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZWxzZSB7XG4gICAgYmFzZUFuaW1hdGlvbi5hZGRBbmltYXRpb24oYmFja2Ryb3BBbmltYXRpb24pO1xuICB9XG4gIHJldHVybiBiYXNlQW5pbWF0aW9uO1xufTtcblxuLyoqXG4gKiBNZCBNb2RhbCBFbnRlciBBbmltYXRpb25cbiAqL1xuY29uc3QgbWRFbnRlckFuaW1hdGlvbiA9IChiYXNlRWwpID0+IHtcbiAgY29uc3QgYmFzZUFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICBjb25zdCBiYWNrZHJvcEFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICBjb25zdCB3cmFwcGVyQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gIGJhY2tkcm9wQW5pbWF0aW9uXG4gICAgLmFkZEVsZW1lbnQoYmFzZUVsLnF1ZXJ5U2VsZWN0b3IoJ2lvbi1iYWNrZHJvcCcpKVxuICAgIC5mcm9tVG8oJ29wYWNpdHknLCAwLjAxLCAndmFyKC0tYmFja2Ryb3Atb3BhY2l0eSknKVxuICAgIC5iZWZvcmVTdHlsZXMoe1xuICAgICdwb2ludGVyLWV2ZW50cyc6ICdub25lJ1xuICB9KVxuICAgIC5hZnRlckNsZWFyU3R5bGVzKFsncG9pbnRlci1ldmVudHMnXSk7XG4gIHdyYXBwZXJBbmltYXRpb25cbiAgICAuYWRkRWxlbWVudChiYXNlRWwucXVlcnlTZWxlY3RvcignLm1vZGFsLXdyYXBwZXInKSlcbiAgICAua2V5ZnJhbWVzKFtcbiAgICB7IG9mZnNldDogMCwgb3BhY2l0eTogMC4wMSwgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSg0MHB4KScgfSxcbiAgICB7IG9mZnNldDogMSwgb3BhY2l0eTogMSwgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgwcHgpJyB9XG4gIF0pO1xuICByZXR1cm4gYmFzZUFuaW1hdGlvblxuICAgIC5hZGRFbGVtZW50KGJhc2VFbClcbiAgICAuZWFzaW5nKCdjdWJpYy1iZXppZXIoMC4zNiwwLjY2LDAuMDQsMSknKVxuICAgIC5kdXJhdGlvbigyODApXG4gICAgLmFkZEFuaW1hdGlvbihbYmFja2Ryb3BBbmltYXRpb24sIHdyYXBwZXJBbmltYXRpb25dKTtcbn07XG5cbi8qKlxuICogTWQgTW9kYWwgTGVhdmUgQW5pbWF0aW9uXG4gKi9cbmNvbnN0IG1kTGVhdmVBbmltYXRpb24gPSAoYmFzZUVsKSA9PiB7XG4gIGNvbnN0IGJhc2VBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgY29uc3QgYmFja2Ryb3BBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgY29uc3Qgd3JhcHBlckFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICBjb25zdCB3cmFwcGVyRWwgPSBiYXNlRWwucXVlcnlTZWxlY3RvcignLm1vZGFsLXdyYXBwZXInKTtcbiAgYmFja2Ryb3BBbmltYXRpb25cbiAgICAuYWRkRWxlbWVudChiYXNlRWwucXVlcnlTZWxlY3RvcignaW9uLWJhY2tkcm9wJykpXG4gICAgLmZyb21Ubygnb3BhY2l0eScsICd2YXIoLS1iYWNrZHJvcC1vcGFjaXR5KScsIDAuMCk7XG4gIHdyYXBwZXJBbmltYXRpb25cbiAgICAuYWRkRWxlbWVudCh3cmFwcGVyRWwpXG4gICAgLmtleWZyYW1lcyhbXG4gICAgeyBvZmZzZXQ6IDAsIG9wYWNpdHk6IDAuOTksIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoMHB4KScgfSxcbiAgICB7IG9mZnNldDogMSwgb3BhY2l0eTogMCwgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSg0MHB4KScgfVxuICBdKTtcbiAgcmV0dXJuIGJhc2VBbmltYXRpb25cbiAgICAuYWRkRWxlbWVudChiYXNlRWwpXG4gICAgLmVhc2luZygnY3ViaWMtYmV6aWVyKDAuNDcsMCwwLjc0NSwwLjcxNSknKVxuICAgIC5kdXJhdGlvbigyMDApXG4gICAgLmFkZEFuaW1hdGlvbihbYmFja2Ryb3BBbmltYXRpb24sIHdyYXBwZXJBbmltYXRpb25dKTtcbn07XG5cbmNvbnN0IG1vZGFsSW9zQ3NzID0gXCIuc2MtaW9uLW1vZGFsLWlvcy1oey0td2lkdGg6MTAwJTstLW1pbi13aWR0aDphdXRvOy0tbWF4LXdpZHRoOmF1dG87LS1oZWlnaHQ6MTAwJTstLW1pbi1oZWlnaHQ6YXV0bzstLW1heC1oZWlnaHQ6YXV0bzstLW92ZXJmbG93OmhpZGRlbjstLWJvcmRlci1yYWRpdXM6MDstLWJvcmRlci13aWR0aDowOy0tYm9yZGVyLXN0eWxlOm5vbmU7LS1ib3JkZXItY29sb3I6dHJhbnNwYXJlbnQ7LS1iYWNrZ3JvdW5kOnZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLCAjZmZmKTstLWJveC1zaGFkb3c6bm9uZTstLWJhY2tkcm9wLW9wYWNpdHk6MDtsZWZ0OjA7cmlnaHQ6MDt0b3A6MDtib3R0b206MDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjphYnNvbHV0ZTstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7b3V0bGluZTpub25lO2NvbnRhaW46c3RyaWN0fS5vdmVybGF5LWhpZGRlbi5zYy1pb24tbW9kYWwtaW9zLWh7ZGlzcGxheTpub25lfS5tb2RhbC13cmFwcGVyLnNjLWlvbi1tb2RhbC1pb3MsLm1vZGFsLXNoYWRvdy5zYy1pb24tbW9kYWwtaW9ze2JvcmRlci1yYWRpdXM6dmFyKC0tYm9yZGVyLXJhZGl1cyk7d2lkdGg6dmFyKC0td2lkdGgpO21pbi13aWR0aDp2YXIoLS1taW4td2lkdGgpO21heC13aWR0aDp2YXIoLS1tYXgtd2lkdGgpO2hlaWdodDp2YXIoLS1oZWlnaHQpO21pbi1oZWlnaHQ6dmFyKC0tbWluLWhlaWdodCk7bWF4LWhlaWdodDp2YXIoLS1tYXgtaGVpZ2h0KTtib3JkZXItd2lkdGg6dmFyKC0tYm9yZGVyLXdpZHRoKTtib3JkZXItc3R5bGU6dmFyKC0tYm9yZGVyLXN0eWxlKTtib3JkZXItY29sb3I6dmFyKC0tYm9yZGVyLWNvbG9yKTtiYWNrZ3JvdW5kOnZhcigtLWJhY2tncm91bmQpOy13ZWJraXQtYm94LXNoYWRvdzp2YXIoLS1ib3gtc2hhZG93KTtib3gtc2hhZG93OnZhcigtLWJveC1zaGFkb3cpO292ZXJmbG93OnZhcigtLW92ZXJmbG93KTt6LWluZGV4OjEwfS5tb2RhbC1zaGFkb3cuc2MtaW9uLW1vZGFsLWlvc3twb3NpdGlvbjphYnNvbHV0ZTtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50fUBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNzY4cHgpIGFuZCAobWluLWhlaWdodDogNjAwcHgpey5zYy1pb24tbW9kYWwtaW9zLWh7LS13aWR0aDo2MDBweDstLWhlaWdodDo1MDBweDstLWlvbi1zYWZlLWFyZWEtdG9wOjBweDstLWlvbi1zYWZlLWFyZWEtYm90dG9tOjBweDstLWlvbi1zYWZlLWFyZWEtcmlnaHQ6MHB4Oy0taW9uLXNhZmUtYXJlYS1sZWZ0OjBweH19QG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA3NjhweCkgYW5kIChtaW4taGVpZ2h0OiA3NjhweCl7LnNjLWlvbi1tb2RhbC1pb3MtaHstLXdpZHRoOjYwMHB4Oy0taGVpZ2h0OjYwMHB4fX0uc2MtaW9uLW1vZGFsLWlvcy1oOmZpcnN0LW9mLXR5cGV7LS1iYWNrZHJvcC1vcGFjaXR5OnZhcigtLWlvbi1iYWNrZHJvcC1vcGFjaXR5LCAwLjQpfUBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNzY4cHgpIGFuZCAobWluLWhlaWdodDogNjAwcHgpey5zYy1pb24tbW9kYWwtaW9zLWh7LS1ib3JkZXItcmFkaXVzOjEwcHh9fS5tb2RhbC13cmFwcGVyLnNjLWlvbi1tb2RhbC1pb3N7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwgIDEwMCUsICAwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwgIDEwMCUsICAwKX1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA3NjdweCl7QHN1cHBvcnRzICh3aWR0aDogbWF4KDBweCwgMXB4KSl7Lm1vZGFsLWNhcmQuc2MtaW9uLW1vZGFsLWlvcy1oey0taGVpZ2h0OmNhbGMoMTAwJSAtIG1heCgzMHB4LCB2YXIoLS1pb24tc2FmZS1hcmVhLXRvcCkpIC0gMTBweCl9fUBzdXBwb3J0cyBub3QgKHdpZHRoOiBtYXgoMHB4LCAxcHgpKXsubW9kYWwtY2FyZC5zYy1pb24tbW9kYWwtaW9zLWh7LS1oZWlnaHQ6Y2FsYygxMDAlIC0gNDBweCl9fS5tb2RhbC1jYXJkLnNjLWlvbi1tb2RhbC1pb3MtaCAubW9kYWwtd3JhcHBlci5zYy1pb24tbW9kYWwtaW9ze2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MTBweDtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czoxMHB4O2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjA7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czowfVtkaXI9cnRsXS5zYy1pb24tbW9kYWwtaW9zLWggLW5vLWNvbWJpbmF0b3IubW9kYWwtY2FyZC5zYy1pb24tbW9kYWwtaW9zLWggLm1vZGFsLXdyYXBwZXIuc2MtaW9uLW1vZGFsLWlvcyxbZGlyPXJ0bF0gLnNjLWlvbi1tb2RhbC1pb3MtaCAtbm8tY29tYmluYXRvci5tb2RhbC1jYXJkLnNjLWlvbi1tb2RhbC1pb3MtaCAubW9kYWwtd3JhcHBlci5zYy1pb24tbW9kYWwtaW9zLFtkaXI9cnRsXS5tb2RhbC1jYXJkLnNjLWlvbi1tb2RhbC1pb3MtaCAubW9kYWwtd3JhcHBlci5zYy1pb24tbW9kYWwtaW9zLFtkaXI9cnRsXSAubW9kYWwtY2FyZC5zYy1pb24tbW9kYWwtaW9zLWggLm1vZGFsLXdyYXBwZXIuc2MtaW9uLW1vZGFsLWlvc3tib3JkZXItdG9wLWxlZnQtcmFkaXVzOjEwcHg7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MTBweDtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czowO2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6MH0ubW9kYWwtY2FyZC5zYy1pb24tbW9kYWwtaW9zLWh7LS1iYWNrZHJvcC1vcGFjaXR5OjA7LS13aWR0aDoxMDAlOy1tcy1mbGV4LWFsaWduOmVuZDthbGlnbi1pdGVtczpmbGV4LWVuZH0ubW9kYWwtY2FyZC5zYy1pb24tbW9kYWwtaW9zLWggLm1vZGFsLXNoYWRvdy5zYy1pb24tbW9kYWwtaW9ze2Rpc3BsYXk6bm9uZX0ubW9kYWwtY2FyZC5zYy1pb24tbW9kYWwtaW9zLWggaW9uLWJhY2tkcm9wLnNjLWlvbi1tb2RhbC1pb3N7cG9pbnRlci1ldmVudHM6bm9uZX19QG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNzY4cHgpey5tb2RhbC1jYXJkLnNjLWlvbi1tb2RhbC1pb3MtaHstLXdpZHRoOmNhbGMoMTAwJSAtIDEyMHB4KTstLWhlaWdodDpjYWxjKDEwMCUgLSAoMTIwcHggKyB2YXIoLS1pb24tc2FmZS1hcmVhLXRvcCkgKyB2YXIoLS1pb24tc2FmZS1hcmVhLWJvdHRvbSkpKTstLW1heC13aWR0aDo3MjBweDstLW1heC1oZWlnaHQ6MTAwMHB4fS5tb2RhbC1jYXJkLnNjLWlvbi1tb2RhbC1pb3MtaHstLWJhY2tkcm9wLW9wYWNpdHk6MDstd2Via2l0LXRyYW5zaXRpb246YWxsIDAuNXMgZWFzZS1pbi1vdXQ7dHJhbnNpdGlvbjphbGwgMC41cyBlYXNlLWluLW91dH0ubW9kYWwtY2FyZC5zYy1pb24tbW9kYWwtaW9zLWg6Zmlyc3Qtb2YtdHlwZXstLWJhY2tkcm9wLW9wYWNpdHk6MC4xOH0ubW9kYWwtY2FyZC5zYy1pb24tbW9kYWwtaW9zLWggLm1vZGFsLXNoYWRvdy5zYy1pb24tbW9kYWwtaW9zey13ZWJraXQtYm94LXNoYWRvdzowcHggMHB4IDMwcHggMTBweCByZ2JhKDAsIDAsIDAsIDAuMSk7Ym94LXNoYWRvdzowcHggMHB4IDMwcHggMTBweCByZ2JhKDAsIDAsIDAsIDAuMSl9fVwiO1xuXG5jb25zdCBtb2RhbE1kQ3NzID0gXCIuc2MtaW9uLW1vZGFsLW1kLWh7LS13aWR0aDoxMDAlOy0tbWluLXdpZHRoOmF1dG87LS1tYXgtd2lkdGg6YXV0bzstLWhlaWdodDoxMDAlOy0tbWluLWhlaWdodDphdXRvOy0tbWF4LWhlaWdodDphdXRvOy0tb3ZlcmZsb3c6aGlkZGVuOy0tYm9yZGVyLXJhZGl1czowOy0tYm9yZGVyLXdpZHRoOjA7LS1ib3JkZXItc3R5bGU6bm9uZTstLWJvcmRlci1jb2xvcjp0cmFuc3BhcmVudDstLWJhY2tncm91bmQ6dmFyKC0taW9uLWJhY2tncm91bmQtY29sb3IsICNmZmYpOy0tYm94LXNoYWRvdzpub25lOy0tYmFja2Ryb3Atb3BhY2l0eTowO2xlZnQ6MDtyaWdodDowO3RvcDowO2JvdHRvbTowO2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O3Bvc2l0aW9uOmFic29sdXRlOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtvdXRsaW5lOm5vbmU7Y29udGFpbjpzdHJpY3R9Lm92ZXJsYXktaGlkZGVuLnNjLWlvbi1tb2RhbC1tZC1oe2Rpc3BsYXk6bm9uZX0ubW9kYWwtd3JhcHBlci5zYy1pb24tbW9kYWwtbWQsLm1vZGFsLXNoYWRvdy5zYy1pb24tbW9kYWwtbWR7Ym9yZGVyLXJhZGl1czp2YXIoLS1ib3JkZXItcmFkaXVzKTt3aWR0aDp2YXIoLS13aWR0aCk7bWluLXdpZHRoOnZhcigtLW1pbi13aWR0aCk7bWF4LXdpZHRoOnZhcigtLW1heC13aWR0aCk7aGVpZ2h0OnZhcigtLWhlaWdodCk7bWluLWhlaWdodDp2YXIoLS1taW4taGVpZ2h0KTttYXgtaGVpZ2h0OnZhcigtLW1heC1oZWlnaHQpO2JvcmRlci13aWR0aDp2YXIoLS1ib3JkZXItd2lkdGgpO2JvcmRlci1zdHlsZTp2YXIoLS1ib3JkZXItc3R5bGUpO2JvcmRlci1jb2xvcjp2YXIoLS1ib3JkZXItY29sb3IpO2JhY2tncm91bmQ6dmFyKC0tYmFja2dyb3VuZCk7LXdlYmtpdC1ib3gtc2hhZG93OnZhcigtLWJveC1zaGFkb3cpO2JveC1zaGFkb3c6dmFyKC0tYm94LXNoYWRvdyk7b3ZlcmZsb3c6dmFyKC0tb3ZlcmZsb3cpO3otaW5kZXg6MTB9Lm1vZGFsLXNoYWRvdy5zYy1pb24tbW9kYWwtbWR7cG9zaXRpb246YWJzb2x1dGU7YmFja2dyb3VuZDp0cmFuc3BhcmVudH1AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDc2OHB4KSBhbmQgKG1pbi1oZWlnaHQ6IDYwMHB4KXsuc2MtaW9uLW1vZGFsLW1kLWh7LS13aWR0aDo2MDBweDstLWhlaWdodDo1MDBweDstLWlvbi1zYWZlLWFyZWEtdG9wOjBweDstLWlvbi1zYWZlLWFyZWEtYm90dG9tOjBweDstLWlvbi1zYWZlLWFyZWEtcmlnaHQ6MHB4Oy0taW9uLXNhZmUtYXJlYS1sZWZ0OjBweH19QG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA3NjhweCkgYW5kIChtaW4taGVpZ2h0OiA3NjhweCl7LnNjLWlvbi1tb2RhbC1tZC1oey0td2lkdGg6NjAwcHg7LS1oZWlnaHQ6NjAwcHh9fS5zYy1pb24tbW9kYWwtbWQtaDpmaXJzdC1vZi10eXBley0tYmFja2Ryb3Atb3BhY2l0eTp2YXIoLS1pb24tYmFja2Ryb3Atb3BhY2l0eSwgMC4zMil9QG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA3NjhweCkgYW5kIChtaW4taGVpZ2h0OiA2MDBweCl7LnNjLWlvbi1tb2RhbC1tZC1oey0tYm9yZGVyLXJhZGl1czoycHh9LnNjLWlvbi1tb2RhbC1tZC1oOmZpcnN0LW9mLXR5cGV7LS1ib3gtc2hhZG93OjAgMjhweCA0OHB4IHJnYmEoMCwgMCwgMCwgMC40KX19Lm1vZGFsLXdyYXBwZXIuc2MtaW9uLW1vZGFsLW1key13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsICA0MHB4LCAgMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsICA0MHB4LCAgMCk7b3BhY2l0eTowLjAxfVwiO1xuXG5jb25zdCBNb2RhbCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgIHJlZ2lzdGVySW5zdGFuY2UodGhpcywgaG9zdFJlZik7XG4gICAgdGhpcy5kaWRQcmVzZW50ID0gY3JlYXRlRXZlbnQodGhpcywgXCJpb25Nb2RhbERpZFByZXNlbnRcIiwgNyk7XG4gICAgdGhpcy53aWxsUHJlc2VudCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiaW9uTW9kYWxXaWxsUHJlc2VudFwiLCA3KTtcbiAgICB0aGlzLndpbGxEaXNtaXNzID0gY3JlYXRlRXZlbnQodGhpcywgXCJpb25Nb2RhbFdpbGxEaXNtaXNzXCIsIDcpO1xuICAgIHRoaXMuZGlkRGlzbWlzcyA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiaW9uTW9kYWxEaWREaXNtaXNzXCIsIDcpO1xuICAgIC8vIFdoZXRoZXIgb3Igbm90IG1vZGFsIGlzIGJlaW5nIGRpc21pc3NlZCB2aWEgZ2VzdHVyZVxuICAgIHRoaXMuZ2VzdHVyZUFuaW1hdGlvbkRpc21pc3NpbmcgPSBmYWxzZTtcbiAgICB0aGlzLnByZXNlbnRlZCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgdGhlIGtleWJvYXJkIHdpbGwgYmUgYXV0b21hdGljYWxseSBkaXNtaXNzZWQgd2hlbiB0aGUgb3ZlcmxheSBpcyBwcmVzZW50ZWQuXG4gICAgICovXG4gICAgdGhpcy5rZXlib2FyZENsb3NlID0gdHJ1ZTtcbiAgICAvKipcbiAgICAgKiBJZiBgdHJ1ZWAsIHRoZSBtb2RhbCB3aWxsIGJlIGRpc21pc3NlZCB3aGVuIHRoZSBiYWNrZHJvcCBpcyBjbGlja2VkLlxuICAgICAqL1xuICAgIHRoaXMuYmFja2Ryb3BEaXNtaXNzID0gdHJ1ZTtcbiAgICAvKipcbiAgICAgKiBJZiBgdHJ1ZWAsIGEgYmFja2Ryb3Agd2lsbCBiZSBkaXNwbGF5ZWQgYmVoaW5kIHRoZSBtb2RhbC5cbiAgICAgKi9cbiAgICB0aGlzLnNob3dCYWNrZHJvcCA9IHRydWU7XG4gICAgLyoqXG4gICAgICogSWYgYHRydWVgLCB0aGUgbW9kYWwgd2lsbCBhbmltYXRlLlxuICAgICAqL1xuICAgIHRoaXMuYW5pbWF0ZWQgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgdGhlIG1vZGFsIGNhbiBiZSBzd2lwZWQgdG8gZGlzbWlzcy4gT25seSBhcHBsaWVzIGluIGlPUyBtb2RlLlxuICAgICAqL1xuICAgIHRoaXMuc3dpcGVUb0Nsb3NlID0gZmFsc2U7XG4gICAgdGhpcy5vbkJhY2tkcm9wVGFwID0gKCkgPT4ge1xuICAgICAgdGhpcy5kaXNtaXNzKHVuZGVmaW5lZCwgQkFDS0RST1ApO1xuICAgIH07XG4gICAgdGhpcy5vbkRpc21pc3MgPSAoZXYpID0+IHtcbiAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuZGlzbWlzcygpO1xuICAgIH07XG4gICAgdGhpcy5vbkxpZmVjeWNsZSA9IChtb2RhbEV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBlbCA9IHRoaXMudXNlcnNFbGVtZW50O1xuICAgICAgY29uc3QgbmFtZSA9IExJRkVDWUNMRV9NQVBbbW9kYWxFdmVudC50eXBlXTtcbiAgICAgIGlmIChlbCAmJiBuYW1lKSB7XG4gICAgICAgIGNvbnN0IGV2ID0gbmV3IEN1c3RvbUV2ZW50KG5hbWUsIHtcbiAgICAgICAgICBidWJibGVzOiBmYWxzZSxcbiAgICAgICAgICBjYW5jZWxhYmxlOiBmYWxzZSxcbiAgICAgICAgICBkZXRhaWw6IG1vZGFsRXZlbnQuZGV0YWlsXG4gICAgICAgIH0pO1xuICAgICAgICBlbC5kaXNwYXRjaEV2ZW50KGV2KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIHN3aXBlVG9DbG9zZUNoYW5nZWQoZW5hYmxlKSB7XG4gICAgaWYgKHRoaXMuZ2VzdHVyZSkge1xuICAgICAgdGhpcy5nZXN0dXJlLmVuYWJsZShlbmFibGUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChlbmFibGUpIHtcbiAgICAgIHRoaXMuaW5pdFN3aXBlVG9DbG9zZSgpO1xuICAgIH1cbiAgfVxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBwcmVwYXJlT3ZlcmxheSh0aGlzLmVsKTtcbiAgfVxuICAvKipcbiAgICogUHJlc2VudCB0aGUgbW9kYWwgb3ZlcmxheSBhZnRlciBpdCBoYXMgYmVlbiBjcmVhdGVkLlxuICAgKi9cbiAgYXN5bmMgcHJlc2VudCgpIHtcbiAgICBpZiAodGhpcy5wcmVzZW50ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKGAubW9kYWwtd3JhcHBlcmApO1xuICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvbnRhaW5lciBpcyB1bmRlZmluZWQnKTtcbiAgICB9XG4gICAgY29uc3QgY29tcG9uZW50UHJvcHMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRoaXMuY29tcG9uZW50UHJvcHMpLCB7IG1vZGFsOiB0aGlzLmVsIH0pO1xuICAgIHRoaXMudXNlcnNFbGVtZW50ID0gYXdhaXQgYXR0YWNoQ29tcG9uZW50KHRoaXMuZGVsZWdhdGUsIGNvbnRhaW5lciwgdGhpcy5jb21wb25lbnQsIFsnaW9uLXBhZ2UnXSwgY29tcG9uZW50UHJvcHMpO1xuICAgIGF3YWl0IGRlZXBSZWFkeSh0aGlzLnVzZXJzRWxlbWVudCk7XG4gICAgd3JpdGVUYXNrKCgpID0+IHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgnc2hvdy1tb2RhbCcpKTtcbiAgICBhd2FpdCBwcmVzZW50KHRoaXMsICdtb2RhbEVudGVyJywgaW9zRW50ZXJBbmltYXRpb24sIG1kRW50ZXJBbmltYXRpb24sIHRoaXMucHJlc2VudGluZ0VsZW1lbnQpO1xuICAgIGlmICh0aGlzLnN3aXBlVG9DbG9zZSkge1xuICAgICAgdGhpcy5pbml0U3dpcGVUb0Nsb3NlKCk7XG4gICAgfVxuICB9XG4gIGluaXRTd2lwZVRvQ2xvc2UoKSB7XG4gICAgaWYgKGdldElvbk1vZGUodGhpcykgIT09ICdpb3MnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIEFsbCBvZiB0aGUgZWxlbWVudHMgbmVlZGVkIGZvciB0aGUgc3dpcGUgZ2VzdHVyZVxuICAgIC8vIHNob3VsZCBiZSBpbiB0aGUgRE9NIGFuZCByZWZlcmVuY2VkIGJ5IG5vdywgZXhjZXB0XG4gICAgLy8gZm9yIHRoZSBwcmVzZW50aW5nIGVsXG4gICAgY29uc3QgYW5pbWF0aW9uQnVpbGRlciA9IHRoaXMubGVhdmVBbmltYXRpb24gfHwgY29uZmlnLmdldCgnbW9kYWxMZWF2ZScsIGlvc0xlYXZlQW5pbWF0aW9uKTtcbiAgICBjb25zdCBhbmkgPSB0aGlzLmFuaW1hdGlvbiA9IGFuaW1hdGlvbkJ1aWxkZXIodGhpcy5lbCwgdGhpcy5wcmVzZW50aW5nRWxlbWVudCk7XG4gICAgdGhpcy5nZXN0dXJlID0gY3JlYXRlU3dpcGVUb0Nsb3NlR2VzdHVyZSh0aGlzLmVsLCBhbmksICgpID0+IHtcbiAgICAgIC8qKlxuICAgICAgICogV2hpbGUgdGhlIGdlc3R1cmUgYW5pbWF0aW9uIGlzIGZpbmlzaGluZ1xuICAgICAgICogaXQgaXMgcG9zc2libGUgZm9yIGEgdXNlciB0byB0YXAgdGhlIGJhY2tkcm9wLlxuICAgICAgICogVGhpcyB3b3VsZCByZXN1bHQgaW4gdGhlIGRpc21pc3MgYW5pbWF0aW9uXG4gICAgICAgKiBiZWluZyBwbGF5ZWQgYWdhaW4uIFR5cGljYWxseSB0aGlzIGlzIGF2b2lkZWRcbiAgICAgICAqIGJ5IHNldHRpbmcgYHByZXNlbnRlZCA9IGZhbHNlYCBvbiB0aGUgb3ZlcmxheVxuICAgICAgICogY29tcG9uZW50OyBob3dldmVyLCB3ZSBjYW5ub3QgZG8gdGhhdCBoZXJlIGFzXG4gICAgICAgKiB0aGF0IHdvdWxkIHByZXZlbnQgdGhlIGVsZW1lbnQgZnJvbSBiZWluZ1xuICAgICAgICogcmVtb3ZlZCBmcm9tIHRoZSBET00uXG4gICAgICAgKi9cbiAgICAgIHRoaXMuZ2VzdHVyZUFuaW1hdGlvbkRpc21pc3NpbmcgPSB0cnVlO1xuICAgICAgdGhpcy5hbmltYXRpb24ub25GaW5pc2goYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCB0aGlzLmRpc21pc3ModW5kZWZpbmVkLCAnZ2VzdHVyZScpO1xuICAgICAgICB0aGlzLmdlc3R1cmVBbmltYXRpb25EaXNtaXNzaW5nID0gZmFsc2U7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICB0aGlzLmdlc3R1cmUuZW5hYmxlKHRydWUpO1xuICB9XG4gIC8qKlxuICAgKiBEaXNtaXNzIHRoZSBtb2RhbCBvdmVybGF5IGFmdGVyIGl0IGhhcyBiZWVuIHByZXNlbnRlZC5cbiAgICpcbiAgICogQHBhcmFtIGRhdGEgQW55IGRhdGEgdG8gZW1pdCBpbiB0aGUgZGlzbWlzcyBldmVudHMuXG4gICAqIEBwYXJhbSByb2xlIFRoZSByb2xlIG9mIHRoZSBlbGVtZW50IHRoYXQgaXMgZGlzbWlzc2luZyB0aGUgbW9kYWwuIEZvciBleGFtcGxlLCAnY2FuY2VsJyBvciAnYmFja2Ryb3AnLlxuICAgKi9cbiAgYXN5bmMgZGlzbWlzcyhkYXRhLCByb2xlKSB7XG4gICAgaWYgKHRoaXMuZ2VzdHVyZUFuaW1hdGlvbkRpc21pc3NpbmcgJiYgcm9sZSAhPT0gJ2dlc3R1cmUnKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGVudGVyaW5nQW5pbWF0aW9uID0gYWN0aXZlQW5pbWF0aW9ucy5nZXQodGhpcykgfHwgW107XG4gICAgY29uc3QgZGlzbWlzc2VkID0gYXdhaXQgZGlzbWlzcyh0aGlzLCBkYXRhLCByb2xlLCAnbW9kYWxMZWF2ZScsIGlvc0xlYXZlQW5pbWF0aW9uLCBtZExlYXZlQW5pbWF0aW9uLCB0aGlzLnByZXNlbnRpbmdFbGVtZW50KTtcbiAgICBpZiAoZGlzbWlzc2VkKSB7XG4gICAgICBhd2FpdCBkZXRhY2hDb21wb25lbnQodGhpcy5kZWxlZ2F0ZSwgdGhpcy51c2Vyc0VsZW1lbnQpO1xuICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uKSB7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uLmRlc3Ryb3koKTtcbiAgICAgIH1cbiAgICAgIGVudGVyaW5nQW5pbWF0aW9uLmZvckVhY2goYW5pID0+IGFuaS5kZXN0cm95KCkpO1xuICAgIH1cbiAgICB0aGlzLmFuaW1hdGlvbiA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gZGlzbWlzc2VkO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIG1vZGFsIGRpZCBkaXNtaXNzLlxuICAgKi9cbiAgb25EaWREaXNtaXNzKCkge1xuICAgIHJldHVybiBldmVudE1ldGhvZCh0aGlzLmVsLCAnaW9uTW9kYWxEaWREaXNtaXNzJyk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgbW9kYWwgd2lsbCBkaXNtaXNzLlxuICAgKi9cbiAgb25XaWxsRGlzbWlzcygpIHtcbiAgICByZXR1cm4gZXZlbnRNZXRob2QodGhpcy5lbCwgJ2lvbk1vZGFsV2lsbERpc21pc3MnKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgbW9kZSA9IGdldElvbk1vZGUodGhpcyk7XG4gICAgcmV0dXJuIChoKEhvc3QsIHsgXCJuby1yb3V0ZXJcIjogdHJ1ZSwgXCJhcmlhLW1vZGFsXCI6IFwidHJ1ZVwiLCB0YWJpbmRleDogXCItMVwiLCBjbGFzczogT2JqZWN0LmFzc2lnbih7IFttb2RlXTogdHJ1ZSwgW2Btb2RhbC1jYXJkYF06IHRoaXMucHJlc2VudGluZ0VsZW1lbnQgIT09IHVuZGVmaW5lZCAmJiBtb2RlID09PSAnaW9zJyB9LCBnZXRDbGFzc01hcCh0aGlzLmNzc0NsYXNzKSksIHN0eWxlOiB7XG4gICAgICAgIHpJbmRleDogYCR7MjAwMDAgKyB0aGlzLm92ZXJsYXlJbmRleH1gLFxuICAgICAgfSwgb25Jb25CYWNrZHJvcFRhcDogdGhpcy5vbkJhY2tkcm9wVGFwLCBvbklvbkRpc21pc3M6IHRoaXMub25EaXNtaXNzLCBvbklvbk1vZGFsRGlkUHJlc2VudDogdGhpcy5vbkxpZmVjeWNsZSwgb25Jb25Nb2RhbFdpbGxQcmVzZW50OiB0aGlzLm9uTGlmZWN5Y2xlLCBvbklvbk1vZGFsV2lsbERpc21pc3M6IHRoaXMub25MaWZlY3ljbGUsIG9uSW9uTW9kYWxEaWREaXNtaXNzOiB0aGlzLm9uTGlmZWN5Y2xlIH0sIGgoXCJpb24tYmFja2Ryb3BcIiwgeyB2aXNpYmxlOiB0aGlzLnNob3dCYWNrZHJvcCwgdGFwcGFibGU6IHRoaXMuYmFja2Ryb3BEaXNtaXNzIH0pLCBtb2RlID09PSAnaW9zJyAmJiBoKFwiZGl2XCIsIHsgY2xhc3M6IFwibW9kYWwtc2hhZG93XCIgfSksIGgoXCJkaXZcIiwgeyB0YWJpbmRleDogXCIwXCIgfSksIGgoXCJkaXZcIiwgeyByb2xlOiBcImRpYWxvZ1wiLCBjbGFzczogXCJtb2RhbC13cmFwcGVyIGlvbi1vdmVybGF5LXdyYXBwZXJcIiB9KSwgaChcImRpdlwiLCB7IHRhYmluZGV4OiBcIjBcIiB9KSkpO1xuICB9XG4gIGdldCBlbCgpIHsgcmV0dXJuIGdldEVsZW1lbnQodGhpcyk7IH1cbiAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICBcInN3aXBlVG9DbG9zZVwiOiBbXCJzd2lwZVRvQ2xvc2VDaGFuZ2VkXCJdXG4gIH07IH1cbn07XG5jb25zdCBMSUZFQ1lDTEVfTUFQID0ge1xuICAnaW9uTW9kYWxEaWRQcmVzZW50JzogJ2lvblZpZXdEaWRFbnRlcicsXG4gICdpb25Nb2RhbFdpbGxQcmVzZW50JzogJ2lvblZpZXdXaWxsRW50ZXInLFxuICAnaW9uTW9kYWxXaWxsRGlzbWlzcyc6ICdpb25WaWV3V2lsbExlYXZlJyxcbiAgJ2lvbk1vZGFsRGlkRGlzbWlzcyc6ICdpb25WaWV3RGlkTGVhdmUnLFxufTtcbk1vZGFsLnN0eWxlID0ge1xuICBpb3M6IG1vZGFsSW9zQ3NzLFxuICBtZDogbW9kYWxNZENzc1xufTtcblxuZXhwb3J0IHsgTW9kYWwgYXMgaW9uX21vZGFsIH07XG4iXX0=