{"version":3,"file":"src_app_modules_registration_pages_ice_ice-thickness_ice-thickness_module_ts-es2015.js","mappings":"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","sources":["./src/app/modules/registration/pages/base-page-service.ts","./src/app/modules/registration/pages/base.page.ts","./src/app/modules/registration/pages/ice/ice-thickness/ice-layer/ice-layer.module.ts","./src/app/modules/registration/pages/ice/ice-thickness/ice-layer/ice-layer.page.ts","./src/app/modules/registration/pages/ice/ice-thickness/ice-layer/ice-layer.page.html","./src/app/modules/registration/pages/ice/ice-thickness/ice-thickness.module.ts","./src/app/modules/registration/pages/ice/ice-thickness/ice-thickness.page.ts","./src/app/modules/registration/pages/ice/ice-thickness/ice-thickness.page.html"],"sourcesContent":["import { Injectable, NgZone } from '@angular/core';\r\nimport { IRegistration, RegistrationTid } from 'src/app/modules/common-registration/registration.models';\r\nimport { getPropertyName, isArrayType } from 'src/app/modules/common-registration/registration.helpers';\r\nimport { NewAttachmentService, RegistrationService as CommonRegistrationService } from 'src/app/modules/common-registration/registration.services';\r\nimport { RegistrationService } from '../services/registration.service';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { switchMap } from 'rxjs/operators';\r\nimport { forkJoin } from 'rxjs';\r\nimport { LoggingService } from '../../shared/services/logging/logging.service';\r\n\r\nconst DEBUG_TAG = 'BasePageService';\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class BasePageService {\r\n  get Zone() {\r\n    return this.ngZone;\r\n  }\r\n\r\n  get RegistrationService() {\r\n    return this.registrationService;\r\n  }\r\n\r\n  get AlertController() {\r\n    return this.alertController;\r\n  }\r\n\r\n  get TranslateService() {\r\n    return this.translateService;\r\n  }\r\n\r\n  get CommonRegistrationService() {\r\n    return this.commonRegistrationService;\r\n  }\r\n\r\n  constructor(\r\n    private registrationService: RegistrationService,\r\n    private newAttachmentService: NewAttachmentService,\r\n    private commonRegistrationService: CommonRegistrationService,\r\n    private ngZone: NgZone,\r\n    private alertController: AlertController,\r\n    private translateService: TranslateService,\r\n    private loggingService: LoggingService\r\n  ) {}\r\n\r\n  async confirmLeave(registration: IRegistration, registrationTid: RegistrationTid, onReset?: () => void) {\r\n    const leaveText = await this.translateService.get('REGISTRATION.REQUIRED_FIELDS_MISSING').toPromise();\r\n    return this.createResetDialog(leaveText, registration, registrationTid, onReset);\r\n  }\r\n\r\n  async confirmReset(registration: IRegistration, registrationTid: RegistrationTid, onReset?: () => void) {\r\n    const leaveText = await this.translateService.get('REGISTRATION.CONFIRM_RESET').toPromise();\r\n    return this.createResetDialog(leaveText, registration, registrationTid, onReset);\r\n  }\r\n\r\n  private async createResetDialog(message: string, registration: IRegistration, registrationTid: RegistrationTid, onReset?: () => void) {\r\n    const translations = await this.translateService.get(['DIALOGS.CANCEL', 'DIALOGS.YES']).toPromise();\r\n    const alert = await this.alertController.create({\r\n      message,\r\n      buttons: [\r\n        {\r\n          text: translations['DIALOGS.CANCEL'],\r\n          role: 'cancel'\r\n        },\r\n        {\r\n          text: translations['DIALOGS.YES']\r\n        }\r\n      ]\r\n    });\r\n    await alert.present();\r\n    const result = await alert.onDidDismiss();\r\n    const reset: boolean = result.role !== 'cancel';\r\n    if (reset) {\r\n      await this.reset(registration, registrationTid, onReset);\r\n    }\r\n    return reset;\r\n  }\r\n\r\n  async reset(registration: IRegistration, registrationTid: RegistrationTid, onReset?: () => void) {\r\n    this.Zone.run(() => {\r\n      if (registrationTid) {\r\n        registration.request[getPropertyName(registrationTid)] = this.getDefaultValue(registrationTid);\r\n        this.resetImages(registration);\r\n      }\r\n      if (onReset) {\r\n        onReset();\r\n      }\r\n    });\r\n    await this.registrationService.saveRegistrationAsync(registration);\r\n  }\r\n\r\n  createDefaultProps(registration: IRegistration, registrationTid: RegistrationTid) {\r\n    const propName = getPropertyName(registrationTid);\r\n    if (!registration.request[propName]) {\r\n      // Init to new object if null\r\n      registration.request[propName] = this.getDefaultValue(registrationTid);\r\n    }\r\n  }\r\n\r\n  getDefaultValue(registrationTid: RegistrationTid) {\r\n    if (isArrayType(registrationTid)) {\r\n      return [];\r\n    } else {\r\n      return {};\r\n    }\r\n  }\r\n\r\n  resetImages(registration: IRegistration) {\r\n    this.newAttachmentService\r\n      .getAttachments(registration.id)\r\n      .pipe(switchMap((attachments) => forkJoin(attachments.map((a) => this.newAttachmentService.removeAttachment(registration.id, a.id)))))\r\n      .subscribe(\r\n        () => {\r\n          this.loggingService.debug('Reset images complete', DEBUG_TAG);\r\n        },\r\n        (error) => {\r\n          this.loggingService.error(error, DEBUG_TAG, 'Could not reset images');\r\n        }\r\n      );\r\n  }\r\n}\r\n","import { Directive, OnInit } from '@angular/core';\r\nimport { from, of } from 'rxjs';\r\nimport { BasePageService } from './base-page-service';\r\nimport { IRegistration, RegistrationTid, SyncStatus } from 'src/app/modules/common-registration/registration.models';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { take, takeUntil, map, switchMap, tap } from 'rxjs/operators';\r\nimport { NgDestoryBase } from '../../../core/helpers/observable-helper';\r\n\r\n@Directive()\r\nexport abstract class BasePage extends NgDestoryBase implements OnInit {\r\n  registration: IRegistration;\r\n  basePageService: BasePageService;\r\n  registrationTid: RegistrationTid;\r\n  activatedRoute: ActivatedRoute;\r\n\r\n  constructor(registrationTid: RegistrationTid, basePageService: BasePageService, activatedRoute: ActivatedRoute) {\r\n    super();\r\n    this.basePageService = basePageService;\r\n    this.activatedRoute = activatedRoute;\r\n    this.registrationTid = registrationTid;\r\n  }\r\n\r\n  ngOnInit() {}\r\n\r\n  ionViewDidEnter() {\r\n    const id = this.activatedRoute.snapshot.params['id'];\r\n    this.basePageService.CommonRegistrationService.getRegistrationByIdShared$(id)\r\n      .pipe(\r\n        take(1),\r\n        map((reg) => {\r\n          this.basePageService.createDefaultProps(reg, this.registrationTid);\r\n          return reg;\r\n        }),\r\n        tap((reg) => {\r\n          this.registration = reg;\r\n        }),\r\n        switchMap(() => this.createInitObservable()),\r\n        takeUntil(this.ngDestroy$)\r\n      )\r\n      .subscribe();\r\n  }\r\n\r\n  onInit?(): void | Promise<any>;\r\n\r\n  onBeforeLeave?(): void | Promise<any>;\r\n\r\n  onReset?(): void;\r\n\r\n  isValid?(): boolean | Promise<boolean>;\r\n\r\n  // NOTE: Remember to add canDeactivate: [CanDeactivateRouteGuard] in page module\r\n  async canLeave() {\r\n    // Check if implementation page has implemented custom isValid logic\r\n    const valid = await Promise.resolve(this.isValid ? this.isValid() : true);\r\n    // Only return alert if page is not empty and invalid\r\n    const isEmpty = await Promise.resolve(this.isEmpty());\r\n    if (!isEmpty && !valid) {\r\n      return this.basePageService.confirmLeave(this.registration, this.registrationTid, () => (this.onReset ? this.onReset() : null));\r\n    }\r\n    return true;\r\n  }\r\n\r\n  private createInitObservable() {\r\n    if (this.onInit) {\r\n      return from(Promise.resolve(this.onInit()));\r\n    }\r\n    return of({});\r\n  }\r\n\r\n  async ionViewWillLeave() {\r\n    if (this.onBeforeLeave) {\r\n      await Promise.resolve(this.onBeforeLeave());\r\n    }\r\n    await this.save(true);\r\n  }\r\n\r\n  save(clean = false) {\r\n    this.registration.syncStatus = SyncStatus.Draft;\r\n    return this.basePageService.RegistrationService.saveRegistrationAsync(this.registration, clean);\r\n  }\r\n\r\n  getSaveFunc() {\r\n    return () => this.save();\r\n  }\r\n\r\n  async isEmpty(): Promise<boolean> {\r\n    return !(await this.basePageService.CommonRegistrationService.hasAnyDataToShowInRegistrationTypes(\r\n      this.registration,\r\n      this.registrationTid\r\n    )\r\n      .pipe(take(1))\r\n      .toPromise());\r\n  }\r\n\r\n  reset() {\r\n    return this.basePageService.confirmReset(this.registration, this.registrationTid, () => (this.onReset ? this.onReset() : null));\r\n  }\r\n\r\n  getResolvedUrl(): string {\r\n    return (\r\n      '/' +\r\n      this.activatedRoute.snapshot.pathFromRoot\r\n        .map((v) => v.url.map((segment) => segment.toString()).join('/'))\r\n        .filter((path) => !!path)\r\n        .join('/')\r\n    );\r\n  }\r\n\r\n  // getConfiguredUrl(): string {\r\n  //     return '/' + this.activatedRoute.snapshot.pathFromRoot\r\n  //         .filter(v => v.routeConfig)\r\n  //         .map(v => v.routeConfig.path)\r\n  //         .join('/');\r\n  // }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { SharedComponentsModule } from '../../../../shared-components.module';\r\nimport { IceLayerPage } from './ice-layer.page';\r\n\r\n@NgModule({\r\n  imports: [SharedComponentsModule],\r\n  declarations: [IceLayerPage],\r\n  entryComponents: [IceLayerPage]\r\n})\r\nexport class IceLayerPageModule {}\r\n","import { Component, OnInit, Input, NgZone } from '@angular/core';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { IceThicknessLayerEditModel } from '@varsom-regobs-common/regobs-api';\r\n\r\n@Component({\r\n  selector: 'app-ice-layer',\r\n  templateUrl: './ice-layer.page.html',\r\n  styleUrls: ['./ice-layer.page.scss']\r\n})\r\nexport class IceLayerPage implements OnInit {\r\n  @Input() iceThicknessLayer: IceThicknessLayerEditModel;\r\n\r\n  isNew = false;\r\n  get isValid() {\r\n    return this.layerCopy.IceLayerThickness !== undefined;\r\n  }\r\n\r\n  layerCopy: IceThicknessLayerEditModel; // Using object copy so cancel does not change input object\r\n\r\n  constructor(\r\n    private modalController: ModalController,\r\n    private ngZone: NgZone\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    if (!this.iceThicknessLayer) {\r\n      this.layerCopy = {};\r\n      this.isNew = true;\r\n    } else {\r\n      this.layerCopy = { ...this.iceThicknessLayer };\r\n    }\r\n  }\r\n\r\n  cancel() {\r\n    this.modalController.dismiss();\r\n  }\r\n\r\n  ok() {\r\n    this.modalController.dismiss(this.layerCopy);\r\n  }\r\n\r\n  delete() {\r\n    this.modalController.dismiss({ delete: true });\r\n  }\r\n}\r\n","<ion-header>\r\n  <ion-toolbar appHeaderColor mode=\"ios\">\r\n    <ion-buttons slot=\"start\">\r\n      <ion-button (click)=\"cancel()\">{{ 'DIALOGS.CANCEL' | translate }}</ion-button>\r\n    </ion-buttons>\r\n    <ion-title>{{'REGISTRATION.ICE.ICE_THICKNESS.ADD_ICE_LAYER' | translate}}</ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content>\r\n  <ion-list lines=\"full\">\r\n    <ion-list-header>\r\n      <ion-label>\r\n        {{'REGISTRATION.ICE.ICE_THICKNESS.ADD_ICE_LAYER_TITLE' | translate}}\r\n      </ion-label>\r\n    </ion-list-header>\r\n    <app-kdv-select title=\"{{'REGISTRATION.ICE.ICE_THICKNESS.ICE_TYPE' | translate}}\" kdvKey=\"Ice_IceLayerKDV\"\r\n      [(value)]=\"layerCopy.IceLayerTID\"></app-kdv-select>\r\n    <app-numeric-input [(value)]=\"layerCopy.IceLayerThickness\"\r\n      title=\"REGISTRATION.ICE.ICE_THICKNESS.ICE_LAYER_THICKNESS\" [min]=\"0\" [max]=\"999\" [decimalPlaces]=\"2\"\r\n      [convertRatio]=\"100\" suffix=\"cm\" placeholder=\"REGISTRATION.SNOW.WEATHER.AIR_TEMPERATURE_PLACEHOLDER\">\r\n    </app-numeric-input>\r\n  </ion-list>\r\n  <app-modal-save-or-delete-buttons [saveDisabled]=\"!isValid\" (saveClicked)=\"ok()\" (deleteClicked)=\"delete()\"\r\n    [showDelete]=\"!isNew\">\r\n  </app-modal-save-or-delete-buttons>\r\n</ion-content>","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { IceThicknessPage } from './ice-thickness.page';\r\nimport { SharedComponentsModule } from '../../../shared-components.module';\r\nimport { IceLayerPageModule } from './ice-layer/ice-layer.module';\r\nimport { CanDeactivateRouteGuard } from '../../can-deactivate-route.guard';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: IceThicknessPage,\r\n    canDeactivate: [CanDeactivateRouteGuard]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedComponentsModule,\r\n    IceLayerPageModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [IceThicknessPage]\r\n})\r\nexport class IceThicknessPageModule {}\r\n","import { Component, NgZone } from '@angular/core';\r\nimport { RegistrationTid } from 'src/app/modules/common-registration/registration.models';\r\nimport { BasePage } from '../../base.page';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { IceLayerPage } from './ice-layer/ice-layer.page';\r\nimport { IceThicknessLayerEditModel } from '@varsom-regobs-common/regobs-api';\r\nimport { BasePageService } from '../../base-page-service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { NumberHelper } from '../../../../../core/helpers/number-helper';\r\n\r\n@Component({\r\n  selector: 'app-ice-thickness',\r\n  templateUrl: './ice-thickness.page.html',\r\n  styleUrls: ['./ice-thickness.page.scss']\r\n})\r\nexport class IceThicknessPage extends BasePage {\r\n  iceHeightBefore: boolean = undefined;\r\n  iceHeightAfter: boolean = undefined;\r\n\r\n  constructor(\r\n    basePageService: BasePageService,\r\n    activatedRoute: ActivatedRoute,\r\n    private modalController: ModalController,\r\n    private ngZone: NgZone\r\n  ) {\r\n    super(RegistrationTid.IceThickness, basePageService, activatedRoute);\r\n  }\r\n\r\n  onInit() {\r\n    if (!this.registration.request.IceThickness.IceThicknessLayers) {\r\n      this.registration.request.IceThickness.IceThicknessLayers = [];\r\n    }\r\n    if (this.registration.request.IceThickness.IceHeightBefore < 0) {\r\n      this.registration.request.IceThickness.IceHeightBefore =\r\n        this.registration.request.IceThickness.IceHeightBefore * -1;\r\n      this.iceHeightBefore = true;\r\n    } else if (this.registration.request.IceThickness.IceHeightBefore === 0) {\r\n      this.iceHeightBefore = false;\r\n    }\r\n    if (this.registration.request.IceThickness.IceHeightAfter > 0) {\r\n      this.iceHeightAfter = false;\r\n    } else if (this.registration.request.IceThickness.IceHeightAfter < 0) {\r\n      this.registration.request.IceThickness.IceHeightAfter =\r\n        this.registration.request.IceThickness.IceHeightAfter * -1;\r\n      this.iceHeightAfter = true;\r\n    }\r\n  }\r\n\r\n  onBeforeLeave() {\r\n    if (this.registration) {\r\n      if (this.iceHeightBefore !== true) {\r\n        this.registration.request.IceThickness.IceHeightBefore = undefined;\r\n      } else if (this.registration.request.IceThickness.IceHeightBefore > 0) {\r\n        this.registration.request.IceThickness.IceHeightBefore =\r\n          this.registration.request.IceThickness.IceHeightBefore * -1;\r\n      } else {\r\n        this.registration.request.IceThickness.IceHeightBefore = 0;\r\n      }\r\n      if (this.iceHeightAfter === undefined) {\r\n        this.registration.request.IceThickness.IceHeightAfter = undefined;\r\n      } else if (\r\n        this.iceHeightAfter === true &&\r\n        NumberHelper.isNumeric(\r\n          this.registration.request.IceThickness.IceHeightAfter\r\n        )\r\n      ) {\r\n        this.registration.request.IceThickness.IceHeightAfter =\r\n          this.registration.request.IceThickness.IceHeightAfter * -1;\r\n      }\r\n    }\r\n  }\r\n\r\n  async isEmpty() {\r\n    const isEmptyResult = \r\n      (!await this.basePageService.CommonRegistrationService.hasAnyDataToShowInRegistrationTypes(\r\n        this.registration,\r\n        this.registrationTid\r\n      )) &&\r\n      this.iceHeightAfter === undefined &&\r\n      this.iceHeightBefore === undefined;\r\n    return isEmptyResult;\r\n  }\r\n\r\n  onReset() {\r\n    this.iceHeightAfter = undefined;\r\n    this.iceHeightBefore = undefined;\r\n    this.registration.request.IceThickness.IceThicknessLayers = [];\r\n  }\r\n\r\n  async addOrEditThicknessLayer(index?: number) {\r\n    const modal = await this.modalController.create({\r\n      component: IceLayerPage,\r\n      componentProps: {\r\n        iceThicknessLayer: this.registration.request.IceThickness\r\n          .IceThicknessLayers[index]\r\n      }\r\n    });\r\n    modal.present();\r\n    const result = await modal.onDidDismiss();\r\n    if (result.data) {\r\n      if (result.data.delete) {\r\n        this.removeLayerAtIndex(index);\r\n      } else {\r\n        const iceThicknessLayerCopy: IceThicknessLayerEditModel = result.data;\r\n        if (index !== undefined) {\r\n          this.setIceThicknessLayer(index, iceThicknessLayerCopy);\r\n        } else {\r\n          this.addIceThicknessLayer(iceThicknessLayerCopy);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  onIceThicknessReorder(event: CustomEvent) {\r\n    this.ngZone.run(() => {\r\n      this.reorderList(\r\n        this.registration.request.IceThickness.IceThicknessLayers,\r\n        event.detail.from,\r\n        event.detail.to\r\n      );\r\n    });\r\n    event.detail.complete();\r\n  }\r\n\r\n  reorderList(array: Array<any>, fromIndex: number, toIndex: number) {\r\n    array.splice(toIndex, 0, array.splice(fromIndex, 1)[0]);\r\n  }\r\n\r\n  setIceThicknessLayer(index: number, iceThicknessLayer: IceThicknessLayerEditModel) {\r\n    this.ngZone.run(() => {\r\n      this.registration.request.IceThickness.IceThicknessLayers[\r\n        index\r\n      ] = iceThicknessLayer;\r\n    });\r\n    this.calculateIceThicknessSum();\r\n  }\r\n\r\n  addIceThicknessLayer(iceThicknessLayer: IceThicknessLayerEditModel) {\r\n    this.ngZone.run(() => {\r\n      this.registration.request.IceThickness.IceThicknessLayers.push(\r\n        iceThicknessLayer\r\n      );\r\n    });\r\n    this.calculateIceThicknessSum();\r\n  }\r\n\r\n  calculateIceThicknessSum() {\r\n    const newSum = (\r\n      this.registration.request.IceThickness.IceThicknessLayers || []\r\n    ).reduce((p, c) => p + (c.IceLayerThickness || 0), 0);\r\n    this.ngZone.run(() => {\r\n      this.registration.request.IceThickness.IceThicknessSum = newSum;\r\n    });\r\n  }\r\n\r\n  removeLayerAtIndex(index: number) {\r\n    this.ngZone.run(() => {\r\n      this.registration.request.IceThickness.IceThicknessLayers.splice(index, 1);\r\n    });\r\n    this.calculateIceThicknessSum();\r\n  }\r\n}\r\n","<ion-header>\r\n  <ion-toolbar appHeaderColor mode=\"ios\">\r\n    <ion-buttons slot=\"start\">\r\n      <ion-back-button text=\"\" defaultHref=\"/\"></ion-back-button>\r\n    </ion-buttons>\r\n    <ion-title>\r\n      {{'REGISTRATION.ICE.ICE_THICKNESS.TITLE' | translate}}\r\n    </ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n<ion-content>\r\n  <app-registration-content-wrapper *ngIf=\"registration && registration.request.IceThickness\"\r\n    [registration]=\"registration\" [registrationTid]=\"registrationTid\" (reset)=\"reset()\">\r\n    <ion-list lines=\"full\" reorder=\"true\">\r\n      <app-numeric-input [(value)]=\"registration.request.IceThickness.SnowDepth\"\r\n        title=\"REGISTRATION.ICE.ICE_THICKNESS.DRY_SNOW_BEFORE_DRILL\" [min]=\"0\" [max]=\"999\" [decimalPlaces]=\"2\"\r\n        [convertRatio]=\"100\" placeholder=\"REGISTRATION.IN_CM\" suffix=\"cm\"></app-numeric-input>\r\n      <app-numeric-input [(value)]=\"registration.request.IceThickness.SlushSnow\"\r\n        title=\"REGISTRATION.ICE.ICE_THICKNESS.SLUSH_SNOW_BEFORE_DRILL\" [min]=\"0\" [max]=\"999\" [decimalPlaces]=\"2\"\r\n        [convertRatio]=\"100\" placeholder=\"REGISTRATION.IN_CM\" suffix=\"cm\"></app-numeric-input>\r\n      <ion-list-header class=\"ion-text-uppercase\">\r\n        <ion-label>\r\n          {{ 'REGISTRATION.ICE.ICE_THICKNESS.ICE_LAYER' | translate }}\r\n        </ion-label>\r\n      </ion-list-header>\r\n      <ion-reorder-group disabled=\"false\" (ionItemReorder)=\"onIceThicknessReorder($event)\">\r\n        <ion-item (click)=\"addOrEditThicknessLayer(i)\"\r\n          *ngFor=\"let layer of registration.request.IceThickness.IceThicknessLayers; let i = index\">\r\n          <ion-label> {{ layer.IceLayerTID | kdvDescription:'Ice_IceLayerKDV' | async }} -\r\n            {{ layer.IceLayerThickness | metersToCm }} cm</ion-label>\r\n          <ion-reorder slot=\"end\"></ion-reorder>\r\n        </ion-item>\r\n      </ion-reorder-group>\r\n      <ion-item (click)=\"addOrEditThicknessLayer()\">\r\n        <ion-icon color=\"primary\" name=\"add-circle-outline\" slot=\"start\"></ion-icon>\r\n        <ion-label>{{'REGISTRATION.ICE.ICE_THICKNESS.ADD_ICE_LAYER' | translate}}</ion-label>\r\n      </ion-item>\r\n      <app-numeric-input [readonly]=\"true\" [(value)]=\"registration.request.IceThickness.IceThicknessSum\"\r\n        title=\"REGISTRATION.ICE.ICE_THICKNESS.ICE_THICKNESS_SUM\" [min]=\"0\" [max]=\"999\" [decimalPlaces]=\"2\"\r\n        [convertRatio]=\"100\" suffix=\"cm\"></app-numeric-input>\r\n      <app-yes-no-select [(value)]=\"iceHeightBefore\" title=\"REGISTRATION.ICE.ICE_THICKNESS.ICE_HEIGHT_BEFORE_TOGGLE\">\r\n      </app-yes-no-select>\r\n      <app-numeric-input *ngIf=\"iceHeightBefore\" [(value)]=\"registration.request.IceThickness.IceHeightBefore\"\r\n        title=\"REGISTRATION.ICE.ICE_THICKNESS.ICE_HEIGHT_BEFORE_INPUT\" [min]=\"0\" [max]=\"999\" [decimalPlaces]=\"2\"\r\n        [convertRatio]=\"100\" placeholder=\"REGISTRATION.IN_CM\" suffix=\"cm\"></app-numeric-input>\r\n      <app-yes-no-select [(value)]=\"iceHeightAfter\" title=\"REGISTRATION.ICE.ICE_THICKNESS.ICE_HEIGHT_AFTER_TOGGLE\">\r\n      </app-yes-no-select>\r\n      <app-numeric-input *ngIf=\"iceHeightAfter !== undefined\"\r\n        [(value)]=\"registration.request.IceThickness.IceHeightAfter\"\r\n        [title]=\"iceHeightAfter === true ? 'REGISTRATION.ICE.ICE_THICKNESS.ICE_HEIGHT_BEFORE_INPUT' : 'REGISTRATION.ICE.ICE_THICKNESS.ICE_HEIGHT_AFTER_NO'\"\r\n        [min]=\"0\" [max]=\"999\" [decimalPlaces]=\"2\" [convertRatio]=\"100\" suffix=\"cm\" placeholder=\"REGISTRATION.IN_CM\">\r\n      </app-numeric-input>\r\n      <ion-list-header class=\"ion-text-uppercase\">\r\n        <ion-label>\r\n          {{ 'REGISTRATION.GENERAL_COMMENT.COMMENT_TITLE' | translate}}\r\n        </ion-label>\r\n      </ion-list-header>\r\n      <app-text-comment [(value)]=\"registration.request.IceThickness.Comment\"\r\n        placeholder=\"{{'REGISTRATION.GENERAL_COMMENT.COMMENT_PLACEHOLDER' | translate }}\"></app-text-comment>\r\n      <ion-list-header class=\"ion-text-uppercase\">\r\n        <ion-label>\r\n          {{ 'REGISTRATION.ADD_IMAGES' | translate}}\r\n        </ion-label>\r\n      </ion-list-header>\r\n      <app-add-picture-item [geoHazard]=\"registration.geoHazard\" [registrationId]=\"registration.id\"\r\n        [registrationTid]=\"registrationTid\" [onBeforeAdd]=\"getSaveFunc()\">\r\n      </app-add-picture-item>\r\n    </ion-list>\r\n  </app-registration-content-wrapper>\r\n</ion-content>"],"names":[],"sourceRoot":"webpack:///"}