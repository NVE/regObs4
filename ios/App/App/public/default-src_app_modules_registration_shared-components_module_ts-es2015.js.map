{"version":3,"file":"default-src_app_modules_registration_shared-components_module_ts-es2015.js","mappings":"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","sources":["./src/app/core/helpers/is-empty.helper.ts","./src/app/core/services/location/location.service.ts","./src/app/core/services/user-group/user-group.service.ts","./src/app/modules/map/helpers/leaflet-cluser.helper.ts","./src/app/modules/registration/components/add-picture-item/add-picture-item.component.ts","./src/app/modules/registration/components/add-picture-item/add-picture-item.component.html","./src/app/modules/registration/components/add-web-url-item/add-web-url-item.component.ts","./src/app/modules/registration/components/add-web-url-item/add-web-url-item.component.html","./src/app/modules/registration/components/base64-image/base64-image.component.ts","./src/app/modules/registration/components/base64-image/base64-image.component.html","./src/app/modules/registration/components/blob-image/blob-image.component.ts","./src/app/modules/registration/components/blob-image/blob-image.component.html","./src/app/modules/registration/components/help-text/help-text.component.ts","./src/app/modules/registration/components/help-text/help-text.component.html","./src/app/modules/registration/components/kdv-radiobutton-list/kdv-radiobutton-list.component.ts","./src/app/modules/registration/components/kdv-radiobutton-list/kdv-radiobutton-list.component.html","./src/app/modules/registration/components/kdv-select/kdv-select.component.ts","./src/app/modules/registration/components/kdv-select/kdv-select.component.html","./src/app/modules/registration/components/modal-save-or-delete-buttons/modal-save-or-delete-buttons.component.ts","./src/app/modules/registration/components/modal-save-or-delete-buttons/modal-save-or-delete-buttons.component.html","./src/app/modules/registration/components/navigation-buttons/navigation-buttons.component.ts","./src/app/modules/registration/components/navigation-buttons/navigation-buttons.component.html","./src/app/modules/registration/components/numeric-input/numeric-input.component.ts","./src/app/modules/registration/components/numeric-input/numeric-input.component.html","./src/app/modules/registration/components/registration-content-wrapper/registration-content-wrapper.component.ts","./src/app/modules/registration/components/registration-content-wrapper/registration-content-wrapper.component.html","./src/app/modules/registration/components/save-and-go-back-button/save-and-go-back-button.component.ts","./src/app/modules/registration/components/save-and-go-back-button/save-and-go-back-button.component.html","./src/app/modules/registration/components/set-location-in-map/set-location-in-map.component.ts","./src/app/modules/registration/components/set-location-in-map/set-location-in-map.component.html","./src/app/modules/registration/components/snow/compression-test-list/compression-test-list.component.ts","./src/app/modules/registration/components/snow/compression-test-list/compression-test-list.component.html","./src/app/modules/registration/components/snow/compression-test-list/compression-test-modal/compression-test-modal.page.ts","./src/app/modules/registration/components/snow/compression-test-list/compression-test-modal/compression-test-modal.page.html","./src/app/modules/registration/components/snow/exposed-height/exposed-height.component.ts","./src/app/modules/registration/components/snow/exposed-height/exposed-height.component.html","./src/app/modules/registration/components/snow/valid-exposition/valid-exposition.component.ts","./src/app/modules/registration/components/snow/valid-exposition/valid-exposition.component.html","./src/app/modules/registration/components/text-comment/text-comment.component.ts","./src/app/modules/registration/components/text-comment/text-comment.component.html","./src/app/modules/registration/components/yes-no-select/yes-no-select.component.ts","./src/app/modules/registration/components/yes-no-select/yes-no-select.component.html","./src/app/modules/registration/pages/add-web-url-modal/add-web-url-modal.page.ts","./src/app/modules/registration/pages/add-web-url-modal/add-web-url-modal.page.html","./src/app/modules/registration/pages/modal-pages/help-modal/help-modal.module.ts","./src/app/modules/registration/pages/modal-pages/help-modal/help-modal.page.ts","./src/app/modules/registration/pages/modal-pages/help-modal/help-modal.page.html","./src/app/modules/registration/pages/modal-pages/numeric-input-modal/numeric-input-modal.module.ts","./src/app/modules/registration/pages/modal-pages/numeric-input-modal/numeric-input-modal.page.ts","./src/app/modules/registration/pages/modal-pages/numeric-input-modal/numeric-input-modal.page.html","./src/app/modules/registration/pages/obs-location/utm-source.enum.ts","./src/app/modules/registration/pipes/kdv-description.pipe.ts","./src/app/modules/registration/pipes/meters-to-cm.pipe.ts","./src/app/modules/registration/services/summary-item.service.ts","./src/app/modules/registration/shared-components.module.ts"],"sourcesContent":["const stringify = require('json-stringify-safe');\r\nexport class IsEmptyHelper {\r\n  static isEmpty(obj: Object | Array<Object | Array<Object>>) {\r\n    if (obj === null || obj === undefined) {\r\n      return true;\r\n    } else if (typeof obj === 'string') {\r\n      return obj.length === 0;\r\n    } else if (typeof obj === 'number' || typeof obj === 'boolean') {\r\n      return false;\r\n    } else if (obj instanceof Array) {\r\n      const arr = <Array<Object | Array<Object>>>obj;\r\n      return arr.length === 0 || !arr.some((x) => !IsEmptyHelper.isEmpty(x));\r\n    } else {\r\n      const props = Object.getOwnPropertyNames(obj);\r\n      if (props.length === 0) {\r\n        return stringify(obj) === '{}';\r\n      } else {\r\n        return !props.some((x) => !IsEmptyHelper.isEmpty(obj[x]));\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { LocationService as RegobsApiLocationService } from '@varsom-regobs-common/regobs-api';\r\nimport { GeoHazard } from '@varsom-regobs-common/core';\r\nimport { switchMap } from 'rxjs/operators';\r\nimport { RegobsAuthService } from '../../../modules/auth/services/regobs-auth.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LocationService {\r\n  constructor(\r\n    private regobsAuthService: RegobsAuthService,\r\n    private apiLocationService: RegobsApiLocationService\r\n  ) {}\r\n\r\n  getLocationWithinRadiusObservable(\r\n    geoHazard: GeoHazard,\r\n    lat: number,\r\n    lng: number,\r\n    radius: number\r\n  ) {\r\n    return this.regobsAuthService.loggedInUser$.pipe(\r\n      switchMap((loggedInUser) =>\r\n        this.apiLocationService.LocationWithinRadius({\r\n          geoHazardTypeIds: [geoHazard],\r\n          radius,\r\n          latitude: lat,\r\n          longitude: lng,\r\n          observerGuid: null, // loggedInUser.isLoggedIn ? loggedInUser.user.Guid : null, // TODO: Fix api to use access token if provided\r\n          returnCount: 100\r\n        })\r\n      )\r\n    );\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { UserSettingService } from '../user-setting/user-setting.service';\r\nimport { NanoSql } from '../../../../nanosql';\r\nimport { AppMode } from '@varsom-regobs-common/core';\r\nimport { DataLoadService } from '../../../modules/data-load/services/data-load.service';\r\nimport {\r\n  ObserverGroupDto,\r\n  AccountService as RegobsApiAccountService\r\n} from '@varsom-regobs-common/regobs-api';\r\nimport moment from 'moment';\r\nimport { from, combineLatest, Observable, lastValueFrom, firstValueFrom } from 'rxjs';\r\nimport { switchMap, take } from 'rxjs/operators';\r\nimport { RegobsAuthService } from '../../../modules/auth/services/regobs-auth.service';\r\nimport { nSQL } from '@nano-sql/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UserGroupService {\r\n  constructor(\r\n    private regobsAuthService: RegobsAuthService,\r\n    private userSettingService: UserSettingService,\r\n    private accountApiService: RegobsApiAccountService,\r\n    private dataLoadService: DataLoadService\r\n  ) {}\r\n\r\n  async updateUserGroups() {\r\n    const loggedInUser = await this.regobsAuthService.getLoggedInUserAsPromise();\r\n    if (loggedInUser.isLoggedIn) {\r\n      const appMode = await firstValueFrom(this.userSettingService.appMode$);\r\n      await this.checkLastUpdatedAndUpdateDataIfNeeded(\r\n        appMode,\r\n        loggedInUser.email\r\n      );\r\n    }\r\n  }\r\n\r\n  private async checkLastUpdatedAndUpdateDataIfNeeded(\r\n    appMode: AppMode,\r\n    email: string\r\n  ) {\r\n    const dataLoadId = this.getDataLoadId(appMode, email);\r\n    const dataLoad = await this.dataLoadService.getState(dataLoadId);\r\n    const lastUpdateLimit = moment().subtract(1, 'hour');\r\n    if (\r\n      !dataLoad.lastUpdated ||\r\n      moment(dataLoad.lastUpdated).isBefore(lastUpdateLimit)\r\n    ) {\r\n      await this.updateUserGroupsForUser(appMode, email);\r\n    }\r\n  }\r\n\r\n  async updateUserGroupsForUser(appMode: AppMode, email: string) {\r\n    const dataLoadId = this.getDataLoadId(appMode, email);\r\n    await this.dataLoadService.startLoading(dataLoadId);\r\n    const result = await lastValueFrom(this.accountApiService\r\n      .AccountGetObserverGroups());\r\n    this.saveUserGroups(appMode, email, result);\r\n    await this.dataLoadService.loadingCompleted(dataLoadId, result.length);\r\n  }\r\n\r\n  async saveUserGroups(\r\n    appMode: AppMode,\r\n    email: string,\r\n    observerGroups: ObserverGroupDto[]\r\n  ): Promise<void> {\r\n    const userGroups = (observerGroups || []).map((val) => {\r\n      return {\r\n        key: `${email}_${val.Id}`,\r\n        userId: email,\r\n        Id: val.Id,\r\n        Name: val.Name\r\n      };\r\n    });\r\n    const instanceName = NanoSql.getInstanceName(\r\n      NanoSql.TABLES.OBSERVER_GROUPS.name,\r\n      appMode\r\n    );\r\n    await nSQL(instanceName).loadJS(userGroups);\r\n    await this.deleteUserGroupsNoLongerInResult(\r\n      appMode,\r\n      userGroups.map((ug) => ug.key)\r\n    );\r\n  }\r\n\r\n  private async deleteUserGroupsNoLongerInResult(\r\n    appMode: AppMode,\r\n    ids: string[]\r\n  ) {\r\n    await NanoSql.getInstance(NanoSql.TABLES.OBSERVER_GROUPS.name, appMode)\r\n      .query('delete')\r\n      .where(\r\n        (dbGroup: { key: string; userId: string; Id: number; Name: string }) =>\r\n          ids.indexOf(dbGroup.key) < 0\r\n      )\r\n      .exec();\r\n  }\r\n\r\n  private getDataLoadId(appMode: AppMode, email: string) {\r\n    return `${NanoSql.TABLES.OBSERVER_GROUPS.name}_${appMode}_${email}`;\r\n  }\r\n\r\n  getUserGroupsAsObservable(): Observable<ObserverGroupDto[]> {\r\n    return combineLatest([\r\n      this.regobsAuthService.loggedInUser$,\r\n      this.userSettingService.appMode$\r\n    ]).pipe(\r\n      switchMap(([loggedInUser, appMode]) =>\r\n        loggedInUser.isLoggedIn\r\n          ? from(this.getUserGroupsFromDb(appMode, loggedInUser.email))\r\n          : from(Promise.resolve([]))\r\n      )\r\n    );\r\n  }\r\n\r\n  getUserGroups(): Promise<ObserverGroupDto[]> {\r\n    return this.getUserGroupsAsObservable().pipe(take(1)).toPromise();\r\n  }\r\n\r\n  private async getUserGroupsFromDb(\r\n    appMode: AppMode,\r\n    email: string\r\n  ): Promise<ObserverGroupDto[]> {\r\n    return NanoSql.getInstance(NanoSql.TABLES.OBSERVER_GROUPS.name, appMode)\r\n      .query('select')\r\n      .where((x) => x.userId === email)\r\n      .exec();\r\n  }\r\n}\r\n","import * as L from 'leaflet';\r\nimport { settings } from '../../../../settings';\r\n\r\nexport class LeafletClusterHelper {\r\n  static createMarkerClusterGroup(options?: L.MarkerClusterGroupOptions) {\r\n    const defaultOptions = {\r\n      spiderfyOnMaxZoom: true,\r\n      showCoverageOnHover: false,\r\n      zoomToBoundsOnClick: true,\r\n      maxClusterRadius: settings.map.maxClusterRadius,\r\n      iconCreateFunction: LeafletClusterHelper.createClusterIcon\r\n    };\r\n    return L.markerClusterGroup({ ...defaultOptions, ...(options || {}) });\r\n  }\r\n\r\n  static createClusterIcon(cluster: L.MarkerCluster) {\r\n    const length = cluster.getAllChildMarkers().length;\r\n    const size = length < 100 ? 35 : length < 1000 ? 50 : 70;\r\n    return L.divIcon({\r\n      html: '<div>' + length + '</div>',\r\n      iconSize: [size, size],\r\n      iconAnchor: [size / 2.0, size / 2.0],\r\n      className: 'circle-marker-cluster'\r\n    });\r\n  }\r\n}\r\n","import { Component, OnInit, Input, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ActionSheetController, Platform, ToastController } from '@ionic/angular';\r\nimport { Camera, CameraOptions, PictureSourceType } from '@ionic-native/camera/ngx';\r\nimport { settings } from '../../../../../settings';\r\nimport { AttachmentType, AttachmentUploadEditModel, RegistrationTid } from 'src/app/modules/common-registration/registration.models';\r\nimport { NewAttachmentService } from 'src/app/modules/common-registration/registration.services';\r\nimport { DataUrlHelper } from '../../../../core/helpers/data-url.helper';\r\nimport { WebView } from '@ionic-native/ionic-webview/ngx';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { File } from '@ionic-native/file/ngx';\r\nimport { LoggingService } from '../../../shared/services/logging/logging.service';\r\nimport { LogLevel } from '../../../shared/services/logging/log-level.model';\r\nimport { GeoHazard } from '@varsom-regobs-common/core';\r\nimport { forkJoin, of } from 'rxjs';\r\nimport { catchError, map, switchMap, take, takeUntil } from 'rxjs/operators';\r\nimport { NgDestoryBase } from 'src/app/core/helpers/observable-helper';\r\n\r\nconst DEBUG_TAG = 'AddPictureItemComponent';\r\nconst MIME_TYPE = 'image/jpeg';\r\n\r\nexport interface AttachmentUploadEditModelWithBlob extends AttachmentUploadEditModel {\r\n  blob: Blob;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-add-picture-item',\r\n  templateUrl: './add-picture-item.component.html',\r\n  styleUrls: ['./add-picture-item.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class AddPictureItemComponent extends NgDestoryBase implements OnInit {\r\n  @Input() registrationId: string;\r\n  @Input() registrationTid: RegistrationTid;\r\n  @Input() geoHazard: GeoHazard;\r\n  @Input() title = 'REGISTRATION.ADD_IMAGES';\r\n  @Input() pictureCommentText = 'REGISTRATION.IMAGE_DESCRIPTION';\r\n  @Input() pictureCommentPlaceholder = 'REGISTRATION.IMAGE_DESCRIPTION_PLACEHOLDER';\r\n  @Input() icon = 'camera';\r\n  @Input() showIcon = true;\r\n  @Input() iconColor = 'dark';\r\n  @Input() onBeforeAdd: () => Promise<void> | void;\r\n  @Input() attachmentType: AttachmentType = 'Attachment';\r\n  @Input() ref?: string;\r\n\r\n  attachments: AttachmentUploadEditModelWithBlob[];\r\n\r\n  constructor(\r\n    private translateService: TranslateService,\r\n    private camera: Camera,\r\n    private platform: Platform,\r\n    private file: File,\r\n    private logger: LoggingService,\r\n    private webView: WebView,\r\n    private toastController: ToastController,\r\n    private domSanitizer: DomSanitizer,\r\n    private actionSheetController: ActionSheetController,\r\n    private newAttachmentService: NewAttachmentService,\r\n    private cdr: ChangeDetectorRef\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.newAttachmentService\r\n      .getAttachments(this.registrationId)\r\n      .pipe(\r\n        map((attachments) =>\r\n          attachments.filter((a) => a.RegistrationTID === this.registrationTid && a.type === this.attachmentType && a.ref === this.ref)\r\n        ),\r\n        switchMap((attachments) =>\r\n          attachments.length === 0\r\n            ? of([])\r\n            : forkJoin([\r\n              ...attachments.map((a) =>\r\n                this.newAttachmentService.getBlob(this.registrationId, a.id).pipe(\r\n                  take(1),\r\n                  map((blob) => ({ ...a, blob })),\r\n                  catchError((err) => {\r\n                    this.logger.error(err, DEBUG_TAG, 'Could not get blob from attachment');\r\n                    return of({ ...a, blob: undefined });\r\n                  })\r\n                )\r\n              )\r\n            ])\r\n        ),\r\n        takeUntil(this.ngDestroy$)\r\n      )\r\n      .subscribe((result) => {\r\n        this.attachments = result;\r\n        this.cdr.detectChanges();\r\n      });\r\n  }\r\n\r\n  async addClick() {\r\n    if (this.onBeforeAdd !== undefined) {\r\n      await Promise.resolve(this.onBeforeAdd());\r\n    }\r\n    const translations = await this.translateService\r\n      .get([\r\n        'REGISTRATION.GENERAL_COMMENT.ADD_PICTURE',\r\n        'REGISTRATION.GENERAL_COMMENT.TAKE_NEW_PHOTO',\r\n        'REGISTRATION.GENERAL_COMMENT.CHOOSE_FROM_LIBRARY',\r\n        'DIALOGS.CANCEL'\r\n      ])\r\n      .toPromise();\r\n    const actionSheet = await this.actionSheetController.create({\r\n      header: translations['REGISTRATION.GENERAL_COMMENT.ADD_PICTURE'],\r\n      buttons: [\r\n        {\r\n          text: translations['REGISTRATION.GENERAL_COMMENT.TAKE_NEW_PHOTO'],\r\n          handler: () => this.getPicture(this.camera.PictureSourceType.CAMERA)\r\n        },\r\n        {\r\n          text: translations['REGISTRATION.GENERAL_COMMENT.CHOOSE_FROM_LIBRARY'],\r\n          handler: () => this.getPicture(this.camera.PictureSourceType.PHOTOLIBRARY)\r\n        },\r\n        {\r\n          text: translations['DIALOGS.CANCEL'],\r\n          role: 'cancel'\r\n        }\r\n      ]\r\n    });\r\n    actionSheet.present();\r\n  }\r\n\r\n  async getPicture(sourceType: PictureSourceType) {\r\n    if (!this.platform.is('hybrid')) {\r\n      await this.addDummyImage();\r\n      return true;\r\n    }\r\n    try {\r\n      const options: CameraOptions = {\r\n        quality: settings.images.quality,\r\n        destinationType: this.camera.DestinationType.FILE_URI,\r\n        sourceType: sourceType,\r\n        encodingType: this.camera.EncodingType.JPEG,\r\n        mediaType: this.camera.MediaType.PICTURE,\r\n        targetHeight: settings.images.size,\r\n        targetWidth: settings.images.size,\r\n        correctOrientation: true,\r\n        saveToPhotoAlbum: sourceType === PictureSourceType.CAMERA\r\n        // NOTE: saveToPhotoAlbum=true causes a bug in latest cordova cameraplugin\r\n      };\r\n      const imageUrl = await this.camera.getPicture(options);\r\n      if (!(await this.validateImage(imageUrl))) {\r\n        this.showErrorToast('REGISTRATION.INVALID_IMAGE'); //TODO: Vis bedre feilmelding\r\n        return true;\r\n      }\r\n\r\n      this.logger.debug(`Got image url from camera plugin: ${imageUrl}`, DEBUG_TAG);\r\n      const arrayBuffer = await this.getArrayBuffer(imageUrl);\r\n      await this.addImage(new Blob([arrayBuffer]), MIME_TYPE);\r\n    } catch (err) {\r\n      this.logger.log('User could not add image, most likely no access or invalid image', err, LogLevel.Warning, DEBUG_TAG);\r\n      this.showErrorToast('Could not save image. Do you have enough space?'); //TODO: Vis bedre feilmelding og på flere språk\r\n    }\r\n    return true;\r\n  }\r\n\r\n  private async getArrayBuffer(fileUrl: string): Promise<ArrayBuffer> {\r\n    const entry = await this.file.resolveLocalFilesystemUrl(fileUrl);\r\n    if (!entry.isFile) {\r\n      throw Error(`${fileUrl} is not a file!`);\r\n    }\r\n    const pathSplitted = entry.nativeURL.split('/');\r\n    const filename = pathSplitted.pop();\r\n    const directory = pathSplitted.join('/');\r\n    const arrayBuffer = await this.file.readAsArrayBuffer(directory, filename);\r\n    return arrayBuffer;\r\n  }\r\n\r\n  private async validateImage(src: string) {\r\n    if (src) {\r\n      const entry = await this.file.resolveLocalFilesystemUrl(src);\r\n      return entry.name.endsWith('jpg');\r\n    }\r\n    return false;\r\n  }\r\n\r\n  showErrorToast(messageKey: string) {\r\n    this.translateService.get(messageKey).subscribe(async (translation) => {\r\n      const toast = await this.toastController.create({\r\n        message: translation,\r\n        mode: 'md',\r\n        duration: 4000\r\n      });\r\n      toast.present();\r\n    });\r\n  }\r\n\r\n  private async addDummyImage() {\r\n    const dummyImage = await DataUrlHelper.getDataUrlFromSrcUrl('/assets/images/dummyregobsimage.jpeg');\r\n    const blob = DataUrlHelper.convertDataURIToBinary(dummyImage);\r\n    await this.addImage(new Blob([blob]), 'image/jpeg');\r\n  }\r\n\r\n  async addImage(data: Blob, mimeType: string) {\r\n    await this.newAttachmentService.addAttachment(\r\n      this.registrationId,\r\n      data,\r\n      mimeType,\r\n      this.geoHazard,\r\n      this.registrationTid,\r\n      this.attachmentType,\r\n      this.ref\r\n    );\r\n  }\r\n\r\n  removeImage(image: AttachmentUploadEditModel) {\r\n    this.newAttachmentService.removeAttachment(this.registrationId, image.id);\r\n  }\r\n}\r\n","<div class=\"images\">\r\n  <div class=\"image-wrapper\" *ngFor=\"let attachment of attachments; let i = index\">\r\n    <!-- <img [src]=\"convertFileSrc(image.PictureImageBase64)\" /> -->\r\n    <ro-blob-image [imgBlob]=\"attachment.blob\"></ro-blob-image>\r\n    <ion-fab class=\"ion-no-margin\" slot=\"fixed\" vertical=\"top\" horizontal=\"end\">\r\n      <ion-fab-button size=\"small\" color=\"dark\" class=\"map-control-fab\" (click)=\"removeImage(attachment)\">\r\n        <ion-icon name=\"close\"></ion-icon>\r\n      </ion-fab-button>\r\n    </ion-fab>\r\n    <app-text-comment [(value)]=\"attachment.Comment\" title=\"{{ pictureCommentText | translate}}\" rows=\"2\"\r\n      placeholder=\"{{ pictureCommentPlaceholder | translate }}\"></app-text-comment>\r\n  </div>\r\n</div>\r\n<ion-item (click)=\"addClick()\">\r\n  <ion-icon [color]=\"iconColor\" [name]=\"icon\" slot=\"start\"></ion-icon>\r\n  <ion-label>{{ title | translate }}</ion-label>\r\n</ion-item>","import {\r\n  Component,\r\n  OnInit,\r\n  Input,\r\n  NgZone,\r\n  Output,\r\n  EventEmitter\r\n} from '@angular/core';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { AddWebUrlModalPage } from '../../pages/add-web-url-modal/add-web-url-modal.page';\r\nimport { UrlViewModel } from '@varsom-regobs-common/regobs-api';\r\n\r\n@Component({\r\n  selector: 'app-add-web-url-item',\r\n  templateUrl: './add-web-url-item.component.html',\r\n  styleUrls: ['./add-web-url-item.component.scss']\r\n})\r\nexport class AddWebUrlItemComponent implements OnInit {\r\n  @Input() title = 'REGISTRATION.ADD_WEB_URL.TITLE';\r\n  @Input() weburls: UrlViewModel[];\r\n  @Output() weburlsChange = new EventEmitter();\r\n  @Input() icon = 'add-circle-outline';\r\n  @Input() iconColor = 'dark';\r\n\r\n  constructor(private modalController: ModalController, private zone: NgZone) {}\r\n\r\n  ngOnInit() {}\r\n\r\n  async addOrEdit(index?: number) {\r\n    const weburl = index !== undefined ? this.weburls[index] : undefined;\r\n    const modal = await this.modalController.create({\r\n      component: AddWebUrlModalPage,\r\n      componentProps: { weburl }\r\n    });\r\n    modal.present();\r\n    const result = await modal.onDidDismiss();\r\n    if (result.data) {\r\n      if (result.data.delete) {\r\n        this.removeAtIndex(index);\r\n      } else {\r\n        if (index !== undefined) {\r\n          this.setWebUrl(index, result.data);\r\n        } else {\r\n          this.addWebUrl(result.data);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  setWebUrl(index: number, url: UrlViewModel) {\r\n    this.zone.run(() => {\r\n      this.weburls[index] = url;\r\n      this.weburlsChange.emit(this.weburls);\r\n    });\r\n  }\r\n\r\n  addWebUrl(url: UrlViewModel) {\r\n    this.zone.run(() => {\r\n      if (!this.weburls) {\r\n        this.weburls = [];\r\n      }\r\n      this.weburls.push(url);\r\n      this.weburlsChange.emit(this.weburls);\r\n    });\r\n  }\r\n\r\n  removeAtIndex(index: number) {\r\n    this.zone.run(() => {\r\n      if (this.weburls && this.weburls.length > 0) {\r\n        this.weburls.splice(index, 1);\r\n        this.weburlsChange.emit(this.weburls);\r\n      }\r\n    });\r\n  }\r\n}\r\n","<ion-item (click)=\"addOrEdit(i)\" *ngFor=\"let url of weburls; let i = index\">\r\n  <ion-label><span *ngIf=\"url.UrlDescription\">{{ url.UrlDescription }} - </span>{{ url.UrlLine }}</ion-label>\r\n</ion-item>\r\n<ion-item (click)=\"addOrEdit()\">\r\n  <ion-icon [color]=\"iconColor\" [name]=\"icon\" slot=\"start\"></ion-icon>\r\n  <ion-label>{{ title | translate }}</ion-label>\r\n</ion-item>","import { Component, OnInit, Input } from '@angular/core';\r\nimport { DomSanitizer, SafeUrl } from '@angular/platform-browser';\r\n@Component({\r\n  selector: 'app-base64-image',\r\n  templateUrl: './base64-image.component.html',\r\n  styleUrls: ['./base64-image.component.scss']\r\n})\r\nexport class Base64ImageComponent implements OnInit {\r\n  @Input() base64encodedImage: string;\r\n  @Input() dataUrlTag = 'data:image/jpeg;base64,';\r\n  imgSrc: SafeUrl;\r\n\r\n  constructor(private sanitizer: DomSanitizer) {}\r\n\r\n  ngOnInit() {\r\n    const applyImageUrlTag = !this.base64encodedImage.startsWith('data:image');\r\n    this.imgSrc = this.sanitizer.bypassSecurityTrustUrl(\r\n      (applyImageUrlTag ? this.dataUrlTag : '') + this.base64encodedImage\r\n    );\r\n  }\r\n}\r\n","<img [src]=\"imgSrc\" />","import {\r\n  Component,\r\n  OnInit,\r\n  ChangeDetectionStrategy,\r\n  Input,\r\n  OnDestroy\r\n} from '@angular/core';\r\nimport { DomSanitizer, SafeUrl } from '@angular/platform-browser';\r\n\r\n@Component({\r\n  selector: 'ro-blob-image',\r\n  templateUrl: './blob-image.component.html',\r\n  styleUrls: ['./blob-image.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class BlobImageComponent implements OnInit, OnDestroy {\r\n  @Input() imgBlob: Blob;\r\n\r\n  imgSrc: SafeUrl;\r\n  private blobUrl: string;\r\n\r\n  constructor(private sanitizer: DomSanitizer) {}\r\n\r\n  ngOnInit(): void {\r\n    this.blobUrl = URL.createObjectURL(this.imgBlob);\r\n    this.imgSrc = this.sanitizer.bypassSecurityTrustUrl(this.blobUrl);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.blobUrl) {\r\n      URL.revokeObjectURL(this.blobUrl);\r\n    }\r\n  }\r\n}\r\n","<img [src]=\"this.imgSrc\">\r\n","import { Component, OnInit, Input, NgZone } from '@angular/core';\r\nimport { GeoHazard } from '@varsom-regobs-common/core';\r\nimport { UserSettingService } from '../../../../core/services/user-setting/user-setting.service';\r\nimport { HelpTextService } from '../../services/help-text/help-text.service';\r\nimport { HelptextDto } from '@varsom-regobs-common/regobs-api';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { HelpModalPage } from '../../pages/modal-pages/help-modal/help-modal.page';\r\nimport { take } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-help-text',\r\n  templateUrl: './help-text.component.html',\r\n  styleUrls: ['./help-text.component.scss']\r\n})\r\nexport class HelpTextComponent implements OnInit {\r\n  @Input() registrationTid: number;\r\n  @Input() geoHazard: GeoHazard;\r\n\r\n  isVisible = false;\r\n  helpText: HelptextDto;\r\n\r\n  constructor(\r\n    private helpTextService: HelpTextService,\r\n    private userSettingService: UserSettingService,\r\n    private modalController: ModalController,\r\n    private ngZone: NgZone\r\n  ) {}\r\n\r\n  async ngOnInit() {\r\n    const userSetting = await this.userSettingService.userSetting$\r\n      .pipe(take(1))\r\n      .toPromise();\r\n    this.helpText = await this.helpTextService.getHelpTextByKey(\r\n      userSetting.language,\r\n      userSetting.appMode,\r\n      this.geoHazard,\r\n      this.registrationTid\r\n    );\r\n    if (this.helpText) {\r\n      this.ngZone.run(() => {\r\n        this.isVisible = true;\r\n      });\r\n    }\r\n  }\r\n\r\n  async showHelp() {\r\n    const modal = await this.modalController.create({\r\n      component: HelpModalPage,\r\n      componentProps: {\r\n        helpText: this.helpText.Text\r\n      }\r\n    });\r\n    modal.present();\r\n  }\r\n}\r\n","<ion-grid *ngIf=\"isVisible\">\r\n  <ion-row>\r\n    <ion-col class=\"ion-text-center\">\r\n      <ion-button (click)=\"showHelp()\" fill=\"clear\">{{'HELP.TITLE' | translate}}</ion-button>\r\n    </ion-col>\r\n  </ion-row>\r\n</ion-grid>","import {\r\n  Component,\r\n  OnInit,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  NgZone\r\n} from '@angular/core';\r\nimport { KdvService } from '../../../../core/services/kdv/kdv.service';\r\nimport { KdvElement } from '@varsom-regobs-common/regobs-api';\r\nimport { Subscription, Observable } from 'rxjs';\r\nimport { enterZone } from '../../../../core/helpers/observable-helper';\r\n\r\n@Component({\r\n  selector: 'app-kdv-radiobutton-list',\r\n  templateUrl: './kdv-radiobutton-list.component.html',\r\n  styleUrls: ['./kdv-radiobutton-list.component.scss']\r\n})\r\nexport class KdvRadiobuttonListComponent implements OnInit {\r\n  @Input() title: string;\r\n  @Input() kdvKey: string;\r\n  @Input() value: number;\r\n  @Input() useDescription: boolean;\r\n  @Input() showZeroValues = false;\r\n  @Output() valueChange = new EventEmitter();\r\n\r\n  kdvelements$: Observable<KdvElement[]>;\r\n\r\n  constructor(private kdvService: KdvService, private ngZone: NgZone) {}\r\n\r\n  ngOnInit() {\r\n    this.kdvelements$ = this.kdvService\r\n      .getKdvRepositoryByKeyObservable(this.kdvKey)\r\n      .pipe(enterZone(this.ngZone));\r\n  }\r\n\r\n  onChange(value: number) {\r\n    this.valueChange.emit(value);\r\n  }\r\n\r\n  isVisible(item: KdvElement) {\r\n    if (this.showZeroValues) {\r\n      return true;\r\n    } else {\r\n      return item.Id % 100 !== 0;\r\n    }\r\n  }\r\n}\r\n","<ion-list-header class=\"ion-text-uppercase\" *ngIf=\"title\">\r\n  <ion-label>\r\n    {{ title | translate}}\r\n  </ion-label>\r\n</ion-list-header>\r\n<ion-radio-group (ngModelChange)=\"onChange($event)\" [(ngModel)]=\"value\" *ngIf=\"kdvelements$ | async as kdvelements\">\r\n  <ng-container *ngFor=\"let item of kdvelements\">\r\n    <ion-item [ngClass]=\"{'selected': item.Id === value}\" [hidden]=\"!isVisible(item)\">\r\n      <ion-label>{{ useDescription ? item.Description : item.Name }}</ion-label>\r\n      <ion-radio mode=\"md\" slot=\"start\" [value]=\"item.Id\"></ion-radio>\r\n    </ion-item>\r\n    <div *ngIf=\"item.Id === value\">\r\n      <ng-content>\r\n      </ng-content>\r\n    </div>\r\n  </ng-container>\r\n</ion-radio-group>","import {\r\n  Component,\r\n  OnInit,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  NgZone,\r\n  OnDestroy\r\n} from '@angular/core';\r\nimport { KdvElement } from '@varsom-regobs-common/regobs-api';\r\nimport { Subscription } from 'rxjs';\r\nimport { KdvService } from '../../../../core/services/kdv/kdv.service';\r\nimport { SelectOption } from '../../../shared/components/input/select/select-option.model';\r\n\r\n@Component({\r\n  selector: 'app-kdv-select',\r\n  templateUrl: './kdv-select.component.html',\r\n  styleUrls: ['./kdv-select.component.scss']\r\n})\r\nexport class KdvSelectComponent implements OnInit, OnDestroy {\r\n  @Input() title: string;\r\n  @Input() kdvKey: string;\r\n  @Input() value: number;\r\n  @Output() valueChange = new EventEmitter();\r\n  @Input() showZeroValues = false;\r\n  @Input() disabled = false;\r\n  @Input() labelColor = 'medium';\r\n  @Input() showResetButton = true;\r\n  @Input() useDescription: boolean;\r\n  @Input() filter: (number) => boolean;\r\n  @Input() getIconFunc: (kdvElement: KdvElement) => string;\r\n\r\n  private kdvelements: KdvElement[] = [];\r\n\r\n  private subscription: Subscription;\r\n\r\n  get selectOptions(): SelectOption[] {\r\n    return this.kdvelements.map((el) => ({\r\n      id: el.Id,\r\n      text: this.useDescription ? el.Description : el.Name,\r\n      disabled: !this.isVisible(el),\r\n      icon: this.getIconFunc ? this.getIconFunc(el) : undefined\r\n    }));\r\n  }\r\n\r\n  constructor(private kdvService: KdvService, private ngZone: NgZone) {}\r\n\r\n  ngOnInit() {\r\n    this.subscription = this.kdvService\r\n      .getKdvRepositoryByKeyObservable(this.kdvKey)\r\n      .subscribe((kdvelements) => {\r\n        this.ngZone.run(() => {\r\n          this.kdvelements = kdvelements;\r\n        });\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.subscription) {\r\n      this.subscription.unsubscribe();\r\n    }\r\n  }\r\n\r\n  isVisible(item: KdvElement) {\r\n    if (this.filter !== undefined && !this.filter(item.Id)) {\r\n      return false;\r\n    }\r\n    if (!this.showZeroValues) {\r\n      return item.Id % 100 !== 0;\r\n    }\r\n    return true;\r\n  }\r\n}\r\n","<ion-item>\r\n  <ion-label [color]=\"labelColor\" position=\"stacked\" class=\"ion-text-uppercase\">{{ title | translate}}</ion-label>\r\n  <app-select [(selectedValue)]=\"value\" [options]=\"selectOptions\" [disabled]=\"disabled\" [title]=\"title\"\r\n    [showReset]=\"showResetButton\" (selectedValueChange)=\"valueChange.emit($event)\">\r\n  </app-select>\r\n</ion-item>","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { AlertController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-modal-save-or-delete-buttons',\r\n  templateUrl: './modal-save-or-delete-buttons.component.html',\r\n  styleUrls: ['./modal-save-or-delete-buttons.component.scss']\r\n})\r\nexport class ModalSaveOrDeleteButtonsComponent implements OnInit {\r\n  @Input() saveText = 'DIALOGS.OK';\r\n  @Input() saveDisabled = false;\r\n  @Output() saveClicked = new EventEmitter();\r\n  @Output() deleteClicked = new EventEmitter();\r\n  @Input() showDelete = false;\r\n  @Input() alertTitle = 'DIALOGS.ARE_YOU_SURE';\r\n  @Input() alertMessage = '';\r\n\r\n  constructor(\r\n    private translateService: TranslateService,\r\n    private alertController: AlertController\r\n  ) {}\r\n\r\n  ngOnInit() {}\r\n\r\n  ok() {\r\n    this.saveClicked.emit();\r\n  }\r\n\r\n  async delete() {\r\n    const toTranslate = [this.alertTitle, 'DIALOGS.CANCEL', 'DIALOGS.OK'];\r\n    if (this.alertMessage) {\r\n      toTranslate.push(this.alertMessage);\r\n    }\r\n    const translations = await this.translateService\r\n      .get(toTranslate)\r\n      .toPromise();\r\n    const alert = await this.alertController.create({\r\n      header: translations[this.alertTitle],\r\n      message: this.alertMessage ? translations[this.alertMessage] : undefined,\r\n      buttons: [\r\n        {\r\n          text: translations['DIALOGS.CANCEL'],\r\n          role: 'cancel'\r\n        },\r\n        {\r\n          text: translations['DIALOGS.OK'],\r\n          handler: () => {\r\n            this.deleteClicked.emit();\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    alert.present();\r\n  }\r\n}\r\n","<ion-grid class=\"ion-no-padding\">\r\n  <ion-row>\r\n    <ion-col size=\"6\" offset=\"3\">\r\n      <ion-button [disabled]=\"saveDisabled\" expand=\"block\" fill=\"solid\" color=\"primary\" (click)=\"ok()\">\r\n        {{ saveText | translate }}\r\n      </ion-button>\r\n    </ion-col>\r\n  </ion-row>\r\n  <ion-row *ngIf=\"showDelete\">\r\n    <ion-col size=\"6\" offset=\"3\">\r\n      <ion-button (click)=\"delete()\" size=\"small\" fill=\"clear\" expand=\"block\">\r\n        <ion-icon slot=\"start\" name=\"trash\"></ion-icon>\r\n        {{ 'DIALOGS.DELETE' | translate }}\r\n      </ion-button>\r\n    </ion-col>\r\n  </ion-row>\r\n</ion-grid>","import { Component, OnInit, Input, NgZone } from '@angular/core';\r\nimport { SummaryItemService } from '../../services/summary-item.service';\r\nimport { IRegistration } from 'src/app/modules/common-registration/registration.models';\r\nimport { Router } from '@angular/router';\r\nimport { ISummaryItem } from '../summary-item/summary-item.model';\r\n\r\n@Component({\r\n  selector: 'app-navigation-buttons',\r\n  templateUrl: './navigation-buttons.component.html',\r\n  styleUrls: ['./navigation-buttons.component.scss']\r\n})\r\nexport class NavigationButtonsComponent implements OnInit {\r\n  @Input() registration: IRegistration;\r\n  next: ISummaryItem;\r\n  previous: ISummaryItem;\r\n\r\n  constructor(\r\n    private summaryItemService: SummaryItemService,\r\n    private router: Router,\r\n    private ngZone: NgZone\r\n  ) {}\r\n\r\n  async ngOnInit() {\r\n    const currentUrl = this.router.url;\r\n    const prevAndNext = await this.summaryItemService.getPreviousAndNext(\r\n      this.registration,\r\n      currentUrl\r\n    );\r\n    this.ngZone.run(() => {\r\n      if (prevAndNext.next) {\r\n        this.next = prevAndNext.next;\r\n      }\r\n      if (prevAndNext.previous) {\r\n        this.previous = prevAndNext.previous;\r\n      }\r\n    });\r\n  }\r\n\r\n  goBack() {\r\n    this.summaryItemService.navigateTo(\r\n      this.registration,\r\n      this.previous,\r\n      'back'\r\n    );\r\n  }\r\n\r\n  goForward() {\r\n    this.summaryItemService.navigateTo(this.registration, this.next, 'forward');\r\n  }\r\n}\r\n","<ion-grid>\r\n  <ion-row>\r\n    <ion-col size=\"6\">\r\n      <ion-button class=\"left-button\" *ngIf=\"previous\" (click)=\"goBack()\" color=\"primary\" fill=\"outline\" expand=\"block\">\r\n        <ion-icon slot=\"start\" name=\"arrow-back\"></ion-icon>\r\n        <ion-text>{{ previous.title | translate }}</ion-text>\r\n      </ion-button>\r\n    </ion-col>\r\n    <ion-col size=\"6\">\r\n      <ion-button class=\"right-button\" *ngIf=\"next\" (click)=\"goForward()\" color=\"primary\" fill=\"outline\" expand=\"block\">\r\n        <ion-icon slot=\"end\" name=\"arrow-forward\"></ion-icon>\r\n        <ion-text>{{ next.title | translate }}</ion-text>\r\n      </ion-button>\r\n    </ion-col>\r\n  </ion-row>\r\n</ion-grid>","import {\r\n  Component,\r\n  OnInit,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  OnChanges\r\n} from '@angular/core';\r\nimport { NumericInputModalPage } from '../../pages/modal-pages/numeric-input-modal/numeric-input-modal.page';\r\nimport { ModalController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-numeric-input',\r\n  templateUrl: './numeric-input.component.html',\r\n  styleUrls: ['./numeric-input.component.scss']\r\n})\r\nexport class NumericInputComponent implements OnInit {\r\n  @Input() decimalPlaces = 0;\r\n  @Input() min = -100000;\r\n  @Input() max = 100000;\r\n  @Input() suffix: string;\r\n  @Input() decimalSeparator;\r\n  @Input() value: number;\r\n  @Output() valueChange = new EventEmitter();\r\n  @Input() title: string;\r\n  @Input() placeholder: string;\r\n  @Input() convertRatio: number;\r\n  @Input() readonly = false;\r\n\r\n  private isOpen = false;\r\n\r\n  get displayValue() {\r\n    const converted = this.convert(this.value, 'from');\r\n    if (converted !== undefined) {\r\n      return converted.toLocaleString();\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  constructor(private modalController: ModalController) {}\r\n\r\n  ngOnInit() {}\r\n\r\n  async openPicker() {\r\n    if (!this.isOpen && !this.readonly) {\r\n      this.isOpen = true;\r\n      const modal = await this.modalController.create({\r\n        component: NumericInputModalPage,\r\n        cssClass: 'numeric-input-modal',\r\n        componentProps: {\r\n          value: this.convert(this.value, 'from'),\r\n          decimalPlaces: this.decimalPlaces,\r\n          min: this.min,\r\n          max: this.max,\r\n          suffix: this.suffix,\r\n          decimalSeparator: this.decimalSeparator,\r\n          title: this.title\r\n        }\r\n      });\r\n      modal.present();\r\n      const result = await modal.onDidDismiss();\r\n      if (result.data && result.data.ok) {\r\n        this.value = this.convert(result.data.value, 'to');\r\n        this.valueChange.emit(this.value);\r\n      }\r\n      this.isOpen = false;\r\n    }\r\n  }\r\n\r\n  private convert(val: number, direction: 'from' | 'to') {\r\n    if (\r\n      val === undefined ||\r\n      val === null ||\r\n      val === 0 ||\r\n      this.convertRatio === undefined\r\n    ) {\r\n      return val;\r\n    }\r\n    return direction === 'from'\r\n      ? val * this.convertRatio\r\n      : val / this.convertRatio;\r\n  }\r\n}\r\n","<ion-item tabindex=\"0\" (click)=\"openPicker()\" (keyup.enter)=\"openPicker()\">\r\n  <ion-label *ngIf=\"title\" color=\"medium\" position=\"stacked\" class=\"ion-text-uppercase\">{{ title | translate}}\r\n  </ion-label>\r\n  <ion-text class=\"ion-align-self-start\" *ngIf=\"displayValue else ph\">{{ displayValue }}</ion-text>\r\n</ion-item>\r\n<ng-template #ph>\r\n  <ion-text class=\"ion-align-self-start\" color=\"medium\">{{ placeholder | translate }}</ion-text>\r\n</ng-template>","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { IRegistration, RegistrationTid } from 'src/app/modules/common-registration/registration.models';\r\n\r\n@Component({\r\n  selector: 'app-registration-content-wrapper',\r\n  templateUrl: './registration-content-wrapper.component.html',\r\n  styleUrls: ['./registration-content-wrapper.component.scss']\r\n})\r\nexport class RegistrationContentWrapperComponent implements OnInit {\r\n  @Input() registration: IRegistration;\r\n  @Input() registrationTid: RegistrationTid;\r\n  @Output() reset = new EventEmitter();\r\n  @Input() isEmpty: boolean;\r\n\r\n  constructor() {}\r\n\r\n  ngOnInit() {}\r\n\r\n  emitReset() {\r\n    this.reset.emit();\r\n  }\r\n}\r\n","<ion-grid *ngIf=\"registration\" class=\"pull-last-bottom ion-no-padding ion-no-margin\">\r\n  <ion-row>\r\n    <ion-col class=\"ion-no-padding\">\r\n      <ng-content></ng-content>\r\n    </ion-col>\r\n  </ion-row>\r\n  <ion-row>\r\n    <ion-col class=\"ion-no-padding\">\r\n      <app-help-text [registrationTid]=\"registrationTid\" [geoHazard]=\"registration.geoHazard\"></app-help-text>\r\n      <app-navigation-buttons [registration]=\"registration\"></app-navigation-buttons>\r\n      <app-save-and-go-back-button [registration]=\"registration\" [registrationTid]=\"registrationTid\"\r\n        (reset)=\"emitReset()\"></app-save-and-go-back-button>\r\n    </ion-col>\r\n  </ion-row>\r\n</ion-grid>","import { Component, OnInit, Input, Output, EventEmitter, OnChanges, SimpleChanges, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\nimport { NavController } from '@ionic/angular';\r\nimport { IRegistration, RegistrationTid } from 'src/app/modules/common-registration/registration.models';\r\nimport { RegistrationService as CommonRegistrationService } from 'src/app/modules/common-registration/registration.services'; \r\nimport { SmartChanges } from 'src/app/core/helpers/simple-changes.helper';\r\nimport { take } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-save-and-go-back-button',\r\n  templateUrl: './save-and-go-back-button.component.html',\r\n  styleUrls: ['./save-and-go-back-button.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class SaveAndGoBackButtonComponent implements OnInit, OnChanges {\r\n  @Input() registration: IRegistration;\r\n  @Input() registrationTid: RegistrationTid;\r\n  @Output() reset = new EventEmitter();\r\n\r\n  hasData = false;\r\n\r\n  constructor(\r\n    private navContoller: NavController,\r\n    private commonRegistrationService: CommonRegistrationService,\r\n    private cdr: ChangeDetectorRef,\r\n  ) {}\r\n\r\n  ngOnChanges(changes: SimpleChanges & SmartChanges<this>): void {\r\n    if(changes && changes.registration && !changes.registration.isFirstChange()) {\r\n     this.setHasData();\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.setHasData();\r\n  }\r\n\r\n  private setHasData(): void {\r\n    if(this.registration != null && this.registrationTid != null) {\r\n      this.commonRegistrationService.hasAnyDataToShowInRegistrationTypes(this.registration, this.registrationTid)\r\n      .pipe((take(1))).subscribe((hasData) => {\r\n          this.hasData = hasData;\r\n          this.cdr.markForCheck();\r\n      });\r\n    }\r\n  }\r\n\r\n  async goBack() {\r\n    this.navContoller.navigateBack('registration/edit/' + this.registration.id);\r\n  }\r\n\r\n  doReset() {\r\n    this.reset.emit();\r\n  }\r\n}\r\n","<ion-grid>\r\n  <ion-row>\r\n    <ion-col size=\"12\">\r\n      <ion-button class=\"back-button\" expand=\"block\" fill=\"solid\" color=\"primary\" (click)=\"goBack()\"\r\n        routerDirection=\"backward\">\r\n        {{ 'REGISTRATION.BACK_TO_OBSERVATION' | translate }}\r\n      </ion-button>\r\n    </ion-col>\r\n  </ion-row>\r\n  <ion-row class=\"reset-button-row\" *ngIf=\"hasData\">\r\n    <ion-col class=\"ion-text-center\">\r\n      <ion-button class=\"reset-button\" (click)=\"doReset()\" color=\"dark\" size=\"small\" fill=\"clear\">\r\n        <svg-icon src=\"/assets/icon/reset.svg\"></svg-icon>\r\n        {{\"REGISTRATION.RESET\" | translate}}\r\n      </ion-button>\r\n    </ion-col>\r\n  </ion-row>\r\n</ion-grid>","import {\r\n  Component,\r\n  OnInit,\r\n  Input,\r\n  EventEmitter,\r\n  Output,\r\n  OnDestroy,\r\n  NgZone,\r\n  ViewChild\r\n} from '@angular/core';\r\nimport * as L from 'leaflet';\r\nimport { MapService } from '../../../map/services/map/map.service';\r\nimport { HelperService } from '../../../../core/services/helpers/helper.service';\r\nimport { MapSearchService } from '../../../map/services/map-search/map-search.service';\r\nimport { take, switchMap, filter, takeUntil } from 'rxjs/operators';\r\nimport { Position } from '@capacitor/geolocation';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { LocationName } from '../../../map/services/map-search/location-name.model';\r\nimport {\r\n  ObsLocationsResponseDtoV2,\r\n  ObsLocationEditModel\r\n} from '@varsom-regobs-common/regobs-api';\r\nimport { LocationService } from '../../../../core/services/location/location.service';\r\nimport { UtmSource } from '../../pages/obs-location/utm-source.enum';\r\nimport { ViewInfo } from '../../../map/services/map-search/view-info.model';\r\nimport { GeoHazard } from '@varsom-regobs-common/core';\r\nimport { IonInput } from '@ionic/angular';\r\nimport { LeafletClusterHelper } from '../../../map/helpers/leaflet-cluser.helper';\r\nimport { GeoPositionService } from '../../../../core/services/geo-position/geo-position.service';\r\n\r\nconst defaultIcon = L.icon({\r\n  iconUrl: 'leaflet/marker-icon.png',\r\n  shadowUrl: 'leaflet/marker-shadow.png',\r\n  iconSize: [25, 41],\r\n  iconAnchor: [12, 41],\r\n  popupAnchor: [1, -34],\r\n  tooltipAnchor: [16, -28],\r\n  shadowSize: [41, 41]\r\n});\r\n\r\nconst previousUsedPlaceIcon = L.icon({\r\n  iconUrl: '/assets/icon/map/prev-used-place.svg',\r\n  iconSize: [25, 41],\r\n  iconAnchor: [12, 41],\r\n  shadowUrl: 'leaflet/marker-shadow.png',\r\n  shadowSize: [41, 41]\r\n});\r\n\r\n@Component({\r\n  selector: 'app-set-location-in-map',\r\n  templateUrl: './set-location-in-map.component.html',\r\n  styleUrls: ['./set-location-in-map.component.scss']\r\n})\r\nexport class SetLocationInMapComponent implements OnInit, OnDestroy {\r\n  @Input() geoHazard: GeoHazard;\r\n  @Input() fromMarker: L.Marker;\r\n  @Input() fromMarkerIconUrl = '/assets/icon/map/obs-location.svg';\r\n  @Input() locationMarker: L.Marker;\r\n  @Input() locationMarkerIconUrl = '/assets/icon/map/obs-location.svg';\r\n  @Output() locationSet = new EventEmitter<ObsLocationEditModel>();\r\n  @Input() showPreviousUsedLocations = true;\r\n  @Input() showUserPosition = true;\r\n  @Input() confirmLocationText = 'REGISTRATION.OBS_LOCATION.CONFIRM_TEXT';\r\n  @Input() fromLocationText = 'REGISTRATION.OBS_LOCATION.CURRENT_LOCATION';\r\n  @Input() locationTitle = 'REGISTRATION.OBS_LOCATION.TITLE';\r\n  @Input() selectedLocation: ObsLocationsResponseDtoV2;\r\n  @Output() mapReady = new EventEmitter<L.Map>();\r\n  @Input() showPolyline = true;\r\n  @Input() showFromMarkerInDetails = true;\r\n  @Input() allowEditLocationName = false;\r\n  @Input() isSaveDisabled = false;\r\n\r\n  private map: L.Map;\r\n  followMode = false;\r\n  private userposition: Position;\r\n  private pathLine: L.Polyline;\r\n  showDetails = false;\r\n  distanceToObservationText = '';\r\n  viewInfo: ViewInfo;\r\n  isLoading = false;\r\n  private locations: ObsLocationsResponseDtoV2[] = [];\r\n  private ngDestroy$ = new Subject<void>();\r\n\r\n  private locationGroup = LeafletClusterHelper.createMarkerClusterGroup();\r\n  editLocationName = false;\r\n  locationName: string;\r\n\r\n  @ViewChild('editLocationNameInput') editLocationNameInput: IonInput;\r\n\r\n  get canEditLocationName() {\r\n    return (\r\n      this.allowEditLocationName &&\r\n      !(this.selectedLocation && this.selectedLocation.Id)\r\n    );\r\n  }\r\n\r\n  constructor(\r\n    private mapService: MapService,\r\n    private helperService: HelperService,\r\n    private ngZone: NgZone,\r\n    private mapSearchService: MapSearchService,\r\n    private geoPositionService: GeoPositionService,\r\n    private locationService: LocationService\r\n  ) {}\r\n\r\n  async ngOnInit(): Promise<void> {\r\n    L.Marker.prototype.options.icon = defaultIcon;\r\n\r\n    const locationMarkerIcon = L.icon({\r\n      iconUrl: this.locationMarkerIconUrl,\r\n      iconSize: [25, 41],\r\n      iconAnchor: [12, 41],\r\n      shadowUrl: 'leaflet/marker-shadow.png',\r\n      shadowSize: [41, 41]\r\n    });\r\n    this.followMode = !this.locationMarker && !this.fromMarker;\r\n    this.mapService.followMode = this.followMode;\r\n    if (!this.locationMarker) {\r\n      if (this.fromMarker) {\r\n        this.locationMarker = L.marker(this.fromMarker.getLatLng(), {\r\n          icon: locationMarkerIcon\r\n        });\r\n      } else {\r\n        const lastView = await this.mapService.mapView$\r\n          .pipe(take(1))\r\n          .toPromise();\r\n        if (lastView) {\r\n          this.locationMarker = L.marker(lastView.center, {\r\n            icon: locationMarkerIcon\r\n          });\r\n        } else {\r\n          this.locationMarker = L.marker(L.latLng(59.1, 10.3), {\r\n            icon: locationMarkerIcon\r\n          });\r\n        }\r\n      }\r\n    }\r\n    this.updateMapViewInfo();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.ngDestroy$.next();\r\n    this.ngDestroy$.complete();\r\n  }\r\n\r\n  private getLocationsObservable(): Observable<ObsLocationsResponseDtoV2[]> {\r\n    return this.mapService.mapView$.pipe(\r\n      filter(\r\n        (mapView) =>\r\n          mapView &&\r\n          mapView.center !== undefined &&\r\n          mapView.bounds !== undefined\r\n      ),\r\n      switchMap((mapView) =>\r\n        this.locationService.getLocationWithinRadiusObservable(\r\n          this.geoHazard,\r\n          mapView.center.lat,\r\n          mapView.center.lng,\r\n          Math.round(\r\n            mapView.bounds\r\n              .getNorthWest()\r\n              .distanceTo(mapView.bounds.getSouthEast()) / 2\r\n          )\r\n        )\r\n      )\r\n    );\r\n  }\r\n\r\n  private addLocationIfNotExists(loc: ObsLocationsResponseDtoV2): void {\r\n    const existing = this.locations.some((location) => loc.Id === location.Id);\r\n    if (!existing) {\r\n      this.locations.push(loc);\r\n      const marker = L.marker(\r\n        L.latLng(loc.LatLngObject.Latitude, loc.LatLngObject.Longitude),\r\n        { icon: previousUsedPlaceIcon }\r\n      ).addTo(this.locationGroup);\r\n      marker.on('click', () => this.setToPrevouslyUsedLocation(loc));\r\n    }\r\n  }\r\n\r\n  onMapReady(m: L.Map): void {\r\n    this.map = m;\r\n    this.locationMarker.setZIndexOffset(100).addTo(this.map);\r\n    if (this.fromMarker) {\r\n      this.fromMarker.addTo(this.map);\r\n    }\r\n    this.locationGroup.addTo(this.map);\r\n    this.map.on('dragstart', () => {\r\n      this.ngZone.run(() => {\r\n        this.isLoading = true;\r\n      });\r\n    });\r\n    this.map.on('dragend', () => this.updateMapViewInfo());\r\n    this.map.on('drag', () => this.moveLocationMarkerToCenter());\r\n\r\n    if (this.showPreviousUsedLocations) {\r\n      this.getLocationsObservable()\r\n        .pipe(takeUntil(this.ngDestroy$))\r\n        .subscribe((locations) => {\r\n          locations.forEach((loc) => this.addLocationIfNotExists(loc));\r\n        });\r\n    }\r\n\r\n    this.mapService.followMode$\r\n      .pipe(takeUntil(this.ngDestroy$))\r\n      .subscribe((val) => {\r\n        this.followMode = val;\r\n        if (this.followMode && this.userposition) {\r\n          this.setLocationMarkerLatLng({\r\n            lat: this.userposition.coords.latitude,\r\n            lng: this.userposition.coords.longitude\r\n          });\r\n        }\r\n      });\r\n\r\n    this.mapSearchService.mapSearchClick$\r\n      .pipe(takeUntil(this.ngDestroy$))\r\n      .subscribe((item) => {\r\n        const latLng = item instanceof L.LatLng ? item : item.latlng;\r\n        this.setLocationMarkerLatLng(latLng);\r\n      });\r\n\r\n    this.geoPositionService.currentPosition$\r\n      .pipe(takeUntil(this.ngDestroy$))\r\n      .subscribe((pos) => this.positionChange(pos));\r\n\r\n    if (!this.followMode) {\r\n      this.map.setView(this.locationMarker.getLatLng(), 15);\r\n    }\r\n\r\n    this.mapReady.emit(this.map);\r\n    this.updatePathAndDistance();\r\n  }\r\n\r\n  private setLocationMarkerLatLng(latLng: L.LatLngExpression): void {\r\n    this.locationMarker.setLatLng(latLng);\r\n    this.updatePathAndDistance();\r\n    this.updateMapViewInfo();\r\n  }\r\n\r\n  private setToPrevouslyUsedLocation(location: ObsLocationsResponseDtoV2): void {\r\n    this.ngZone.run(() => {\r\n      this.mapService.followMode = false;\r\n      this.selectedLocation = location;\r\n      this.setLocationMarkerLatLng(\r\n        L.latLng(\r\n          location.LatLngObject.Latitude,\r\n          location.LatLngObject.Longitude\r\n        )\r\n      );\r\n      this.map.panTo(this.locationMarker.getLatLng());\r\n      this.showDetails = true;\r\n    });\r\n  }\r\n\r\n  private moveLocationMarkerToCenter(): void {\r\n    this.mapService.followMode = false;\r\n    this.selectedLocation = null;\r\n    const center = this.map.getCenter();\r\n    this.locationMarker.setLatLng(center);\r\n    this.updatePathAndDistance();\r\n  }\r\n\r\n  private updateMapViewInfo(): void {\r\n    const latLng = this.locationMarker.getLatLng();\r\n    this.mapSearchService\r\n      .getViewInfo({ center: latLng, bounds: null, zoom: 0 }, this.geoHazard)\r\n      .subscribe(\r\n        (val) => {\r\n          this.ngZone.run(() => {\r\n            this.viewInfo = val;\r\n            this.isLoading = false;\r\n          });\r\n        },\r\n        (_) => {\r\n          this.ngZone.run(() => {\r\n            this.viewInfo = null;\r\n            this.isLoading = false;\r\n          });\r\n        }\r\n      );\r\n  }\r\n\r\n  private positionChange(position: Position) {\r\n    this.userposition = position;\r\n    if (this.followMode) {\r\n      this.setLocationMarkerLatLng({\r\n        lat: position.coords.latitude,\r\n        lng: position.coords.longitude\r\n      });\r\n    } else {\r\n      this.updatePathAndDistance();\r\n    }\r\n  }\r\n\r\n  updatePathAndDistance(): void {\r\n    const from = this.fromMarker\r\n      ? this.fromMarker.getLatLng()\r\n      : this.userposition\r\n        ? L.latLng(\r\n          this.userposition.coords.latitude,\r\n          this.userposition.coords.longitude\r\n        )\r\n        : this.locationMarker.getLatLng();\r\n    const locationMarkerLatLng = this.locationMarker.getLatLng();\r\n    const path = [locationMarkerLatLng, from];\r\n    if (this.map) {\r\n      if (!this.pathLine) {\r\n        this.pathLine = L.polyline(path, {\r\n          color: 'black',\r\n          weight: 6,\r\n          opacity: 0.9,\r\n          dashArray: '1,12'\r\n        });\r\n        if (this.showPolyline) {\r\n          this.pathLine.addTo(this.map);\r\n        }\r\n      } else {\r\n        this.pathLine.setLatLngs(path);\r\n      }\r\n      if (this.fromMarker) {\r\n        if (\r\n          this.fromMarker.getLatLng().equals(this.locationMarker.getLatLng())\r\n        ) {\r\n          this.fromMarker.setOpacity(0);\r\n          this.pathLine.setStyle({ opacity: 0 });\r\n        } else {\r\n          this.fromMarker.setOpacity(1);\r\n          this.pathLine.setStyle({ opacity: 0.9 });\r\n        }\r\n      }\r\n    }\r\n    this.ngZone.run(() => {\r\n      this.distanceToObservationText = this.helperService.getDistanceText(\r\n        locationMarkerLatLng.distanceTo(from)\r\n      );\r\n    });\r\n  }\r\n\r\n  toggleDetails(): void {\r\n    this.ngZone.run(() => {\r\n      this.showDetails = !this.showDetails;\r\n    });\r\n  }\r\n\r\n  getLocationName(location: LocationName): string {\r\n    if (location) {\r\n      return location.adminName !== location.name\r\n        ? `${location.name} / ${location.adminName}`\r\n        : location.name;\r\n    }\r\n    return '';\r\n  }\r\n\r\n  confirmLocation(): void {\r\n    const obsLocation = this.getLocation();\r\n    this.locationSet.emit(obsLocation);\r\n  }\r\n\r\n  getLocation(): ObsLocationEditModel {\r\n    const obsLocation: ObsLocationEditModel = {\r\n      Latitude: this.locationMarker.getLatLng().lat,\r\n      Longitude: this.locationMarker.getLatLng().lng,\r\n      Uncertainty: 0,\r\n      UTMSourceTID: UtmSource.SelectedInMap\r\n    };\r\n    if (\r\n      this.editLocationName &&\r\n      this.locationName &&\r\n      this.locationName.length > 0\r\n    ) {\r\n      obsLocation.ObsLocationID = undefined;\r\n      obsLocation.LocationName = this.locationName.substring(0, 60);\r\n    } else if (this.selectedLocation) {\r\n      obsLocation.ObsLocationID = this.selectedLocation.Id;\r\n      obsLocation.LocationName = this.selectedLocation.Name;\r\n    }\r\n    if (this.viewInfo && this.viewInfo.location) {\r\n      obsLocation.LocationDescription = this.getLocationName(\r\n        this.viewInfo.location\r\n      );\r\n    }\r\n    if (this.followMode && this.userposition) {\r\n      obsLocation.UTMSourceTID = UtmSource.GPS;\r\n      obsLocation.Uncertainty = Math.round(this.userposition.coords.accuracy);\r\n    }\r\n    return obsLocation;\r\n  }\r\n\r\n  editLocation(): void {\r\n    if (this.canEditLocationName) {\r\n      this.editLocationName = true;\r\n      setTimeout(() => {\r\n        if (this.editLocationNameInput) {\r\n          this.editLocationNameInput.setFocus();\r\n        }\r\n      }, 50);\r\n    }\r\n  }\r\n\r\n  onLocationEditComplete(): void {\r\n    if (this.editLocationNameInput.value?.toString().length === 0) {\r\n      // User has deleted all text\r\n      this.editLocationName = false;\r\n      this.updateMapViewInfo();\r\n    }\r\n  }\r\n}\r\n","<div [ngClass]=\"{'open': showDetails, 'details-small':!showFromMarkerInDetails }\">\r\n  <app-map *ngIf=\"locationMarker\" [showSupportMaps]=\"false\" (mapReady)=\"onMapReady($event)\"\r\n    [center]=\"locationMarker.getLatLng()\"></app-map>\r\n  <ion-grid class=\"bottom-info ion-no-padding\">\r\n    <ion-row>\r\n      <ion-col class=\"confirm-button-col\">\r\n        <ion-button [disabled]=\"isSaveDisabled\" expand=\"block\" color=\"varsom-orange\" (click)=\"confirmLocation()\">{{ confirmLocationText | translate\r\n          }}</ion-button>\r\n      </ion-col>\r\n    </ion-row>\r\n    <ion-row class=\"ion-no-padding\">\r\n      <ion-col class=\"show-details-col ion-no-padding ion-text-center\">\r\n        <ion-button color=\"dark\" size=\"small\" fill=\"clear\" (click)=\"toggleDetails()\">\r\n          <ng-container *ngIf=\"!showDetails\">\r\n            <ion-icon slot=\"start\" name=\"chevron-up\"></ion-icon>\r\n            {{'REGISTRATION.OBS_LOCATION.SHOW_DETAILS' | translate}}\r\n          </ng-container>\r\n          <ng-container *ngIf=\"showDetails\">\r\n            <ion-icon slot=\"start\" name=\"chevron-down\"></ion-icon>\r\n            {{'REGISTRATION.OBS_LOCATION.HIDE_DETAILS' | translate}}\r\n          </ng-container>\r\n        </ion-button>\r\n      </ion-col>\r\n    </ion-row>\r\n    <ion-row class=\"details-row\" *ngIf=\"showDetails\">\r\n      <ion-col>\r\n        <ion-grid class=\"ion-no-padding\">\r\n          <ion-row>\r\n            <ion-col class=\"ion-no-padding ion-text-center\" size=\"2\">\r\n              <svg-icon class=\"obs-location-marker\" [src]=\"locationMarkerIconUrl\"></svg-icon>\r\n              <ng-container *ngIf=\"showFromMarkerInDetails\">\r\n                <svg class=\"dotted-line\" width=\"4px\" height=\"15px\" viewBox=\"0 0 4 15\">\r\n                  <line x1=\"1\" x2=\"1\" y1=\"2\" y2=\"14\" stroke=\"#000\" stroke-width=\"2\" stroke-linecap=\"round\"\r\n                    stroke-dasharray=\"1,4\"></line>\r\n                </svg>\r\n                <ion-label class=\"distance-label small-text ion-no-margin\">{{\r\n                  distanceToObservationText }}</ion-label>\r\n                <svg class=\"dotted-line\" width=\"4px\" height=\"15px\" viewBox=\"0 0 4 15\">\r\n                  <line x1=\"1\" x2=\"1\" y1=\"2\" y2=\"14\" stroke=\"#000\" stroke-width=\"2\" stroke-linecap=\"round\"\r\n                    stroke-dasharray=\"1,4\"></line>\r\n                </svg>\r\n                <div class=\"leaflet-usermarker\" *ngIf=\"!fromMarker\"></div>\r\n                <svg-icon *ngIf=\"fromMarker\" [src]=\"fromMarkerIconUrl\"></svg-icon>\r\n              </ng-container>\r\n            </ion-col>\r\n            <ion-col class=\"ion-no-padding\">\r\n              <ion-grid class=\"ion-no-padding\">\r\n                <ion-row class=\"padding-bottom\">\r\n                  <ion-col size=\"12\" class=\"ion-no-padding padding-right\">\r\n                    <ion-grid class=\"arrow-box\" (click)=\"editLocation()\">\r\n                      <ion-icon class=\"edit-icon\" name=\"create\" *ngIf=\"canEditLocationName\"></ion-icon>\r\n                      <ion-row>\r\n                        <ion-col class=\"ion-no-padding\">\r\n                          <ion-label class=\"detail-header ion-text-uppercase ion-no-margin\">{{ locationTitle\r\n                            | translate}}</ion-label>\r\n                        </ion-col>\r\n                      </ion-row>\r\n                      <ng-container *ngIf=\"!editLocationName else editLocationTemplate\">\r\n                        <ion-row *ngIf=\"selectedLocation else viewInfoTemplate\">\r\n                          <ion-col class=\"ion-no-padding\">\r\n                            <ion-label class=\"detail-obs-info ion-no-margin ion-text-wrap\">\r\n                              {{ selectedLocation.Name }}\r\n                            </ion-label>\r\n                          </ion-col>\r\n                        </ion-row>\r\n                      </ng-container>\r\n                      <ion-row>\r\n                        <ion-col class=\"ion-no-padding\">\r\n                          <ion-label class=\"small-text ion-no-margin\">\r\n                            <span>{{ locationMarker.getLatLng().lat | number:'0.3'\r\n                              }}&deg;{{'MAP_CENTER_INFO.NORTH_SHORT'|translate}},\r\n                              {{ locationMarker.getLatLng().lng | number:'0.3'\r\n                              }}&deg;{{'MAP_CENTER_INFO.EAST_SHORT'|translate}}</span>\r\n                            <span *ngIf=\"!isLoading && viewInfo && viewInfo.elevation !== null\">, {{ viewInfo.elevation\r\n                              }}\r\n                              {{'MAP_CENTER_INFO.ABOVE_SEA_LEVEL' |\r\n                              translate}}\r\n                            </span>\r\n                          </ion-label>\r\n                        </ion-col>\r\n                      </ion-row>\r\n                    </ion-grid>\r\n                  </ion-col>\r\n                </ion-row>\r\n                <ion-row *ngIf=\"showFromMarkerInDetails\">\r\n                  <ion-col size=\"12\" class=\"ion-no-padding padding-right\">\r\n                    <ion-label class=\"ion-no-margin arrow-box detail-header block ion-text-uppercase\">{{fromLocationText\r\n                      | translate}}</ion-label>\r\n                  </ion-col>\r\n                </ion-row>\r\n              </ion-grid>\r\n            </ion-col>\r\n          </ion-row>\r\n        </ion-grid>\r\n      </ion-col>\r\n    </ion-row>\r\n  </ion-grid>\r\n</div>\r\n<ng-template #editLocationTemplate>\r\n  <ion-row>\r\n    <ion-col class=\"ion-no-padding\">\r\n      <ion-input #editLocationNameInput type=\"text\" [max]=\"60\" [(ngModel)]=\"locationName\"\r\n        (ionBlur)=\"onLocationEditComplete()\"></ion-input>\r\n    </ion-col>\r\n  </ion-row>\r\n</ng-template>\r\n<ng-template #viewInfoTemplate>\r\n  <ion-row>\r\n    <ion-col class=\"ion-no-padding\">\r\n      <ng-container *ngIf=\"!isLoading\">\r\n        <ng-container *ngIf=\"viewInfo && viewInfo.location\">\r\n          <ion-label class=\"detail-obs-info ion-no-margin ion-text-wrap\">\r\n            <span *ngIf=\"(viewInfo.location.name !== viewInfo.location.adminName)\">{{\r\n                      viewInfo.location.name\r\n                      }},&nbsp;</span>{{viewInfo.location.adminName}}&nbsp;\r\n          </ion-label>\r\n        </ng-container>\r\n      </ng-container>\r\n      <ng-container *ngIf=\"isLoading\">\r\n        <ion-spinner color=\"dark\" name=\"dots\"></ion-spinner>\r\n      </ng-container>\r\n    </ion-col>\r\n  </ion-row>\r\n</ng-template>","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { CompressionTestEditModel } from '@varsom-regobs-common/regobs-api';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { CompressionTestModalPage } from './compression-test-modal/compression-test-modal.page';\r\n@Component({\r\n  selector: 'app-compression-test-list',\r\n  templateUrl: './compression-test-list.component.html',\r\n  styleUrls: ['./compression-test-list.component.scss']\r\n})\r\nexport class CompressionTestListComponent implements OnInit {\r\n  @Input() tests: Array<CompressionTestEditModel>;\r\n  @Input() includeInSnowProfileAsDefault = false;\r\n  @Output() testsChange = new EventEmitter();\r\n  private isOpen = false;\r\n\r\n  constructor(private modalController: ModalController) {}\r\n\r\n  ngOnInit() {}\r\n\r\n  async addOrEditCompressionTest(index?: number) {\r\n    if (!this.isOpen) {\r\n      this.isOpen = true;\r\n      const add = index === undefined;\r\n      const modal = await this.modalController.create({\r\n        component: CompressionTestModalPage,\r\n        componentProps: {\r\n          compressionTest: add ? undefined : (this.tests || [])[index],\r\n          includeInSnowProfileAsDefault: this.includeInSnowProfileAsDefault\r\n        }\r\n      });\r\n      modal.present();\r\n      const result = await modal.onDidDismiss();\r\n      this.isOpen = false;\r\n      if (result.data) {\r\n        if (result.data.delete) {\r\n          this.removeTest(index);\r\n        } else {\r\n          const compressionTest: CompressionTestEditModel = result.data;\r\n          if (this.tests === undefined) {\r\n            this.tests = [];\r\n          }\r\n          if (add) {\r\n            this.tests.push(compressionTest);\r\n          } else {\r\n            this.tests[index] = compressionTest;\r\n          }\r\n        }\r\n      }\r\n      this.testsChange.emit(this.tests);\r\n    }\r\n  }\r\n\r\n  private removeTest(index) {\r\n    if (this.tests !== undefined && this.tests.length > 0) {\r\n      this.tests.splice(index, 1);\r\n    }\r\n  }\r\n}\r\n","<ion-list lines=\"full\">\r\n  <ion-list-header class=\"ion-text-uppercase\">\r\n    <ion-label>\r\n      {{ 'REGISTRATION.SNOW.COMPRESSION_TEST.TITLE' | translate}}\r\n    </ion-label>\r\n  </ion-list-header>\r\n  <ion-item tabindex=\"0\" detail=\"true\" (click)=\"addOrEditCompressionTest(i)\" (keyup.enter)=\"addOrEditCompressionTest(i)\"\r\n    *ngFor=\"let compressionTest of tests; let i = index\">\r\n    <ion-label>\r\n      <ng-container *ngIf=\"compressionTest.PropagationTID\">{{compressionTest.PropagationTID | kdvDescription: 'Snow_PropagationKDV' | async}}</ng-container><ng-container *ngIf=\"compressionTest.TapsFracture > 0\">{{compressionTest.TapsFracture}}</ng-container><ng-container *ngIf=\"compressionTest.FractureDepth > 0\">@{{compressionTest.FractureDepth | metersToCm: 0}}cm</ng-container><ng-container>{{ compressionTest.ComprTestFractureTID | kdvDescription: 'Snow_ComprTestFractureKDV' | async }}</ng-container>\r\n    </ion-label>\r\n    <ion-icon slot=\"end\" name=\"link\" *ngIf=\"compressionTest.IncludeInSnowProfile\"></ion-icon>\r\n  </ion-item>\r\n  <ion-item tabindex=\"0\" (click)=\"addOrEditCompressionTest()\" (keyup.enter)=\"addOrEditCompressionTest()\">\r\n    <ion-icon color=\"primary\" name=\"add-circle-outline\" slot=\"start\"></ion-icon>\r\n    <ion-label>{{'REGISTRATION.SNOW.COMPRESSION_TEST.ADD_NEW' | translate}}</ion-label>\r\n  </ion-item>\r\n</ion-list>","import { Component, OnInit, Input } from '@angular/core';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { CompressionTestEditModel } from '@varsom-regobs-common/regobs-api';\r\nimport { IsEmptyHelper } from '../../../../../../core/helpers/is-empty.helper';\r\nimport { SelectOption } from '../../../../../shared/components/input/select/select-option.model';\r\n\r\n@Component({\r\n  selector: 'app-compression-test-modal',\r\n  templateUrl: './compression-test-modal.page.html',\r\n  styleUrls: ['./compression-test-modal.page.scss']\r\n})\r\nexport class CompressionTestModalPage implements OnInit {\r\n  @Input() compressionTest: CompressionTestEditModel;\r\n  @Input() includeInSnowProfileAsDefault = false;\r\n\r\n  showDelete = false;\r\n  tapsArray: SelectOption[] = [];\r\n  includeInSnowProfileDisabled = false;\r\n\r\n  get isValid() {\r\n    const clone = { ...this.compressionTest };\r\n    clone.IncludeInSnowProfile = undefined;\r\n    return !IsEmptyHelper.isEmpty(clone);\r\n  }\r\n\r\n  constructor(private modalController: ModalController) {}\r\n\r\n  ngOnInit() {\r\n    for (let i = 1; i <= 30; i++) {\r\n      this.tapsArray.push({\r\n        id: i,\r\n        text: i.toString()\r\n      });\r\n    }\r\n    if (!this.compressionTest) {\r\n      this.compressionTest = {};\r\n      if (this.includeInSnowProfileAsDefault) {\r\n        this.compressionTest.IncludeInSnowProfile = true;\r\n      }\r\n    } else {\r\n      this.showDelete = true;\r\n    }\r\n    this.checkIfIncludeInSnowProfileShouldBeDisabled();\r\n  }\r\n\r\n  checkIfIncludeInSnowProfileShouldBeDisabled() {\r\n    if (this.isLBT()) {\r\n      this.compressionTest.IncludeInSnowProfile = false;\r\n      this.includeInSnowProfileDisabled = true;\r\n      return;\r\n    }\r\n    this.includeInSnowProfileDisabled = false;\r\n  }\r\n\r\n  tapsFractureVisible() {\r\n    return !(this.isCTNorECTX() || this.isCTVorECTV() || this.isLBT());\r\n  }\r\n\r\n  isCTNorECTX() {\r\n    return (\r\n      this.compressionTest.PropagationTID === 15 ||\r\n      this.compressionTest.PropagationTID === 24\r\n    );\r\n  }\r\n\r\n  isCTVorECTV() {\r\n    return (\r\n      this.compressionTest.PropagationTID === 11 ||\r\n      this.compressionTest.PropagationTID === 21\r\n    );\r\n  }\r\n\r\n  isLBT() {\r\n    return this.compressionTest.PropagationTID === 5;\r\n  }\r\n\r\n  cancel() {\r\n    this.modalController.dismiss();\r\n  }\r\n\r\n  ok() {\r\n    this.modalController.dismiss(this.compressionTest);\r\n  }\r\n\r\n  delete() {\r\n    this.modalController.dismiss({ delete: true });\r\n  }\r\n}\r\n","<ion-header>\r\n  <ion-toolbar appHeaderColor mode=\"ios\">\r\n    <ion-buttons slot=\"start\">\r\n      <ion-button (click)=\"cancel()\">{{ 'DIALOGS.CANCEL' | translate }}</ion-button>\r\n    </ion-buttons>\r\n    <ion-title>{{'REGISTRATION.SNOW.COMPRESSION_TEST.TITLE' | translate}}</ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content>\r\n  <ion-list lines=\"full\">\r\n    <ion-item>\r\n      <ion-label>\r\n        {{'REGISTRATION.SNOW.SNOW_PROFILE.COMPRESSION_TEST.INCLUDE_IN_SNOW_PROFILE' | translate}}\r\n      </ion-label>\r\n      <ion-toggle [disabled]=\"includeInSnowProfileDisabled\" slot=\"end\"\r\n        [(ngModel)]=\"compressionTest.IncludeInSnowProfile\" name=\"IncludeInSnowProfile\">\r\n      </ion-toggle>\r\n    </ion-item>\r\n    <app-kdv-select title=\"REGISTRATION.SNOW.COMPRESSION_TEST.TEST_TYPE\" kdvKey=\"Snow_PropagationKDV\"\r\n      [(value)]=\"compressionTest.PropagationTID\" (valueChange)=\"checkIfIncludeInSnowProfileShouldBeDisabled()\">\r\n    </app-kdv-select>\r\n    <ion-item *ngIf=\"tapsFractureVisible()\">\r\n      <ion-label color=\"medium\" position=\"stacked\" class=\"ion-text-uppercase\">{{'REGISTRATION.SNOW.COMPRESSION_TEST.TAPS_FRACTURE'\r\n        | translate}}</ion-label>\r\n      <app-select [(selectedValue)]=\"compressionTest.TapsFracture\" [options]=\"tapsArray\"\r\n        title=\"REGISTRATION.SNOW.COMPRESSION_TEST.TAPS_FRACTURE\"></app-select>\r\n    </ion-item>\r\n    <app-numeric-input *ngIf=\"!isCTNorECTX()\" [(value)]=\"compressionTest.FractureDepth\"\r\n      title=\"REGISTRATION.SNOW.COMPRESSION_TEST.DISTANCE_FROM_TOP\" [min]=\"0\" [max]=\"999\" [decimalPlaces]=\"0\"\r\n      [convertRatio]=\"100\" suffix=\"cm\"></app-numeric-input>\r\n    <app-kdv-select *ngIf=\"!isCTNorECTX()\" title=\"REGISTRATION.SNOW.COMPRESSION_TEST.FRACTURE_TYPE\"\r\n      kdvKey=\"Snow_ComprTestFractureKDV\" [(value)]=\"compressionTest.ComprTestFractureTID\"></app-kdv-select>\r\n    <app-kdv-select *ngIf=\"!isLBT()\" title=\"REGISTRATION.SNOW.COMPRESSION_TEST.STABILITY_EVAL\"\r\n      kdvKey=\"Snow_StabilityEvalKDV\" [(value)]=\"compressionTest.StabilityEvalTID\"></app-kdv-select>\r\n    <app-text-comment title=\"REGISTRATION.DANGER_OBS.COMMENT\" [(value)]=\"compressionTest.Comment\">\r\n    </app-text-comment>\r\n  </ion-list>\r\n  <app-modal-save-or-delete-buttons [saveDisabled]=\"!isValid\" (saveClicked)=\"ok()\" (deleteClicked)=\"delete()\"\r\n    [showDelete]=\"showDelete\">\r\n  </app-modal-save-or-delete-buttons>\r\n</ion-content>","import {\r\n  Component,\r\n  OnInit,\r\n  Input,\r\n  Output,\r\n  NgZone,\r\n  EventEmitter\r\n} from '@angular/core';\r\nimport { SelectOption } from '../../../../shared/components/input/select/select-option.model';\r\n\r\n@Component({\r\n  selector: 'app-exposed-height',\r\n  templateUrl: './exposed-height.component.html',\r\n  styleUrls: ['./exposed-height.component.scss']\r\n})\r\nexport class ExposedHeightComponent implements OnInit {\r\n  @Input() exposedHeightComboTID: number;\r\n  @Output() exposedHeightComboTIDChange = new EventEmitter();\r\n  @Input() exposedHight1: number;\r\n  @Output() exposedHight1Change = new EventEmitter();\r\n  @Input() exposedHight2: number;\r\n  @Output() exposedHight2Change = new EventEmitter();\r\n\r\n  exposedHeightTop: boolean;\r\n  exposedHeightMiddle: boolean;\r\n  exposedHeightBottom: boolean;\r\n\r\n  get heightArray(): SelectOption[] {\r\n    const options: SelectOption[] = [];\r\n    for (let id = 0; id <= 8000; id += 100) {\r\n      options.push({ id, text: `${id} m` });\r\n    }\r\n    return options;\r\n  }\r\n\r\n  get lowerHeightArray() {\r\n    return this.heightArray.filter(\r\n      (x) => this.exposedHight1 === undefined || x.id < this.exposedHight1\r\n    );\r\n  }\r\n\r\n  constructor(private ngZone: NgZone) {}\r\n\r\n  ngOnInit() {\r\n    this.setExposedHeights(this.exposedHeightComboTID);\r\n  }\r\n\r\n  setExposedHeights(exposedHeightComboTID: number) {\r\n    if (exposedHeightComboTID === 0) {\r\n      this.exposedHeightTop = true;\r\n      this.exposedHeightMiddle = true;\r\n      this.exposedHeightBottom = true;\r\n    } else if (exposedHeightComboTID === 1) {\r\n      // Hvit nederst\r\n      this.exposedHeightTop = true;\r\n      this.exposedHeightMiddle = true;\r\n      this.exposedHeightBottom = false;\r\n    } else if (exposedHeightComboTID === 2) {\r\n      // Svart nederst\r\n      this.exposedHeightTop = false;\r\n      this.exposedHeightMiddle = false;\r\n      this.exposedHeightBottom = true;\r\n    } else if (exposedHeightComboTID === 3) {\r\n      // Hvit i midten\r\n      this.exposedHeightTop = true;\r\n      this.exposedHeightMiddle = false;\r\n      this.exposedHeightBottom = true;\r\n    } else if (exposedHeightComboTID === 4) {\r\n      // Svart i midten\r\n      this.exposedHeightTop = false;\r\n      this.exposedHeightMiddle = true;\r\n      this.exposedHeightBottom = false;\r\n    } else {\r\n      this.exposedHeightTop = false;\r\n      this.exposedHeightMiddle = false;\r\n      this.exposedHeightBottom = false;\r\n    }\r\n  }\r\n\r\n  toggleExsposedHeightCombo(position: 'top' | 'middle' | 'bottom') {\r\n    if (position === 'top') {\r\n      this.exposedHeightTop = !this.exposedHeightTop;\r\n    } else if (position === 'middle') {\r\n      this.exposedHeightMiddle = !this.exposedHeightMiddle;\r\n    } else {\r\n      this.exposedHeightBottom = !this.exposedHeightBottom;\r\n    }\r\n    this.applyChanges();\r\n  }\r\n\r\n  sholdUseExposedHight2() {\r\n    return (\r\n      (this.exposedHeightTop &&\r\n        this.exposedHeightBottom &&\r\n        !this.exposedHeightMiddle) ||\r\n      (!this.exposedHeightTop &&\r\n        !this.exposedHeightBottom &&\r\n        this.exposedHeightMiddle)\r\n    );\r\n  }\r\n\r\n  private updateExposedHeightComboTID(\r\n    top: boolean,\r\n    middle: boolean,\r\n    bottom: boolean\r\n  ) {\r\n    if (top && middle && bottom) {\r\n      this.exposedHeightComboTID = 0;\r\n    } else if (!top && middle && !bottom) {\r\n      this.exposedHeightComboTID = 4;\r\n    } else if (top && !middle && bottom) {\r\n      this.exposedHeightComboTID = 3;\r\n    } else if (bottom) {\r\n      this.exposedHeightComboTID = 2;\r\n    } else if (top) {\r\n      this.exposedHeightComboTID = 1;\r\n    } else {\r\n      this.exposedHeightComboTID = undefined;\r\n    }\r\n  }\r\n\r\n  applyChanges() {\r\n    this.updateExposedHeightComboTID(\r\n      this.exposedHeightTop,\r\n      this.exposedHeightMiddle,\r\n      this.exposedHeightBottom\r\n    );\r\n    if (!this.sholdUseExposedHight2()) {\r\n      this.exposedHight2 = undefined;\r\n    }\r\n    this.exposedHeightComboTIDChange.emit(this.exposedHeightComboTID);\r\n    this.exposedHight1Change.emit(this.exposedHight1);\r\n    this.exposedHight2Change.emit(this.exposedHight2);\r\n  }\r\n}\r\n","<ion-item>\r\n  <ion-label color=\"medium\" position=\"stacked\" class=\"ion-text-uppercase\">{{'REGISTRATION.SNOW.AVALANCHE_PROBLEM.EXPOSED_HEIGHT_COMBO'\r\n        | translate}}</ion-label>\r\n  <ion-text class=\"ion-align-self-start ion-text-wrap ion-margin-bottom\">\r\n    <ion-grid class=\"exposedHight\">\r\n      <ion-row class=\"top padding-bottom\" (click)=\"toggleExsposedHeightCombo('top')\"\r\n        [ngClass]=\"{'selected': exposedHeightTop}\">\r\n        <ion-col size=\"12\" class=\"ion-text-center ion-align-self-center\">\r\n          {{ 'REGISTRATION.SNOW.AVALANCHE_PROBLEM.TOP' | translate}}\r\n        </ion-col>\r\n      </ion-row>\r\n      <ion-row class=\"middle padding-bottom\" (click)=\"toggleExsposedHeightCombo('middle')\"\r\n        [ngClass]=\"{'selected': exposedHeightMiddle}\">\r\n        <ion-col size=\"12\" class=\"ion-text-center ion-align-self-center\">\r\n          {{ 'REGISTRATION.SNOW.AVALANCHE_PROBLEM.MIDDLE' | translate}}\r\n        </ion-col>\r\n      </ion-row>\r\n      <ion-row (click)=\"toggleExsposedHeightCombo('bottom')\" class=\"bottom\"\r\n        [ngClass]=\"{'selected': exposedHeightBottom}\">\r\n        <ion-col size=\"12\" class=\"ion-text-center ion-align-self-center\">\r\n          {{ 'REGISTRATION.SNOW.AVALANCHE_PROBLEM.BOTTOM' | translate}}\r\n        </ion-col>\r\n      </ion-row>\r\n    </ion-grid>\r\n  </ion-text>\r\n</ion-item>\r\n<ion-item *ngIf=\"exposedHeightTop || exposedHeightMiddle || exposedHeightBottom\">\r\n  <ion-label color=\"medium\" position=\"stacked\" class=\"ion-text-uppercase\">{{'REGISTRATION.SNOW.AVALANCHE_PROBLEM.EXPOSED_HEIGHT1'\r\n    | translate}}</ion-label>\r\n  <app-select [(selectedValue)]=\"exposedHight1\" (selectedValueChange)=\"applyChanges()\" [options]=\"heightArray\"\r\n    title=\"REGISTRATION.SNOW.AVALANCHE_PROBLEM.EXPOSED_HEIGHT1\"></app-select>\r\n</ion-item>\r\n<ion-item *ngIf=\"sholdUseExposedHight2()\">\r\n  <ion-label color=\"medium\" position=\"stacked\" class=\"ion-text-uppercase\">{{'REGISTRATION.SNOW.AVALANCHE_PROBLEM.EXPOSED_HEIGHT2'\r\n    | translate}}</ion-label>\r\n  <app-select [(selectedValue)]=\"exposedHight2\" (selectedValueChange)=\"applyChanges()\" [options]=\"lowerHeightArray\"\r\n    title=\"REGISTRATION.SNOW.AVALANCHE_PROBLEM.EXPOSED_HEIGHT2\"></app-select>\r\n</ion-item>","import {\r\n  Component,\r\n  OnInit,\r\n  Input,\r\n  EventEmitter,\r\n  Output,\r\n  NgZone\r\n} from '@angular/core';\r\n\r\nconst EMPTY_EXPOSITION = '00000000';\r\nconst ALL_EXPOSITION = '11111111';\r\n\r\n@Component({\r\n  selector: 'app-valid-exposition',\r\n  templateUrl: './valid-exposition.component.html',\r\n  styleUrls: ['./valid-exposition.component.scss']\r\n})\r\nexport class ValidExpositionComponent implements OnInit {\r\n  @Input() validExposition: string;\r\n  @Output() validExpositionChange = new EventEmitter();\r\n\r\n  validExpositionCopy: string;\r\n\r\n  constructor(private ngZone: NgZone) {}\r\n\r\n  ngOnInit() {\r\n    if (!this.validExposition) {\r\n      this.validExpositionCopy = EMPTY_EXPOSITION;\r\n    } else {\r\n      this.validExpositionCopy = this.validExposition;\r\n    }\r\n  }\r\n\r\n  setExposition(index: number) {\r\n    const existingValue = this.validExpositionCopy.substr(index, 1);\r\n    const newValue = existingValue === '1' ? '0' : '1';\r\n    this.validExpositionCopy =\r\n      this.validExpositionCopy.substr(0, index) +\r\n      newValue +\r\n      this.validExpositionCopy.substr(index + 1);\r\n    this.applyChanges();\r\n  }\r\n\r\n  toggleAllExpositions() {\r\n    this.validExpositionCopy =\r\n      this.validExpositionCopy === ALL_EXPOSITION\r\n        ? EMPTY_EXPOSITION\r\n        : ALL_EXPOSITION;\r\n    this.applyChanges();\r\n  }\r\n\r\n  applyChanges() {\r\n    this.ngZone.run(() => {\r\n      if (this.validExpositionCopy === EMPTY_EXPOSITION) {\r\n        this.validExposition = undefined;\r\n      } else {\r\n        this.validExposition = this.validExpositionCopy;\r\n      }\r\n      this.validExpositionChange.emit(this.validExposition);\r\n    });\r\n  }\r\n}\r\n","<ion-item>\r\n  <ion-label color=\"medium\" position=\"stacked\" class=\"ion-text-uppercase\">{{'REGISTRATION.SNOW.AVALANCHE_PROBLEM.VALID_EXPOSITION'\r\n      | translate}}</ion-label>\r\n  <ion-text class=\"ion-align-self-start ion-text-wrap ion-margin-bottom\">\r\n    <ion-grid *ngIf=\"validExpositionCopy\" class=\"exposition ion-no-padding\">\r\n      <ion-row>\r\n        <ion-col size=\"4\" class=\"ion-text-center\" (click)=\"setExposition(7)\"\r\n          [ngClass]=\"{'selected': validExpositionCopy[7] === '1'}\">\r\n          {{ 'DIRECTION.NW' | translate}}\r\n        </ion-col>\r\n        <ion-col size=\"4\" class=\"ion-text-center\" (click)=\"setExposition(0)\"\r\n          [ngClass]=\"{'selected': validExpositionCopy[0] === '1'}\">\r\n          {{ 'DIRECTION.N' | translate}}\r\n        </ion-col>\r\n        <ion-col size=\"4\" class=\"ion-text-center\" (click)=\"setExposition(1)\"\r\n          [ngClass]=\"{'selected': validExpositionCopy[1] === '1'}\">\r\n          {{ 'DIRECTION.NE' | translate}}\r\n        </ion-col>\r\n      </ion-row>\r\n      <ion-row>\r\n        <ion-col size=\"4\" class=\"ion-text-center\" (click)=\"setExposition(6)\"\r\n          [ngClass]=\"{'selected': validExpositionCopy[6] === '1'}\">\r\n          {{ 'DIRECTION.W' | translate}}\r\n        </ion-col>\r\n        <ion-col size=\"4\" class=\"ion-text-center\" (click)=\"toggleAllExpositions()\"\r\n          [ngClass]=\"{'selected': validExpositionCopy === '11111111'}\">\r\n          {{ 'REGISTRATION.SNOW.AVALANCHE_PROBLEM.ALL' | translate}}\r\n        </ion-col>\r\n        <ion-col size=\"4\" class=\"ion-text-center\" (click)=\"setExposition(2)\"\r\n          [ngClass]=\"{'selected': validExpositionCopy[2] === '1'}\">\r\n          {{ 'DIRECTION.E' | translate}}\r\n        </ion-col>\r\n      </ion-row>\r\n      <ion-row>\r\n        <ion-col size=\"4\" class=\"ion-text-center\" (click)=\"setExposition(5)\"\r\n          [ngClass]=\"{'selected': validExpositionCopy[5] === '1'}\">\r\n          {{ 'DIRECTION.SW' | translate}}\r\n        </ion-col>\r\n        <ion-col size=\"4\" class=\"ion-text-center\" (click)=\"setExposition(4)\"\r\n          [ngClass]=\"{'selected': validExpositionCopy[4] === '1'}\">\r\n          {{ 'DIRECTION.S' | translate}}\r\n        </ion-col>\r\n        <ion-col size=\"4\" class=\"ion-text-center\" (click)=\"setExposition(3)\"\r\n          [ngClass]=\"{'selected': validExpositionCopy[3] === '1'}\">\r\n          {{ 'DIRECTION.SE' | translate}}\r\n        </ion-col>\r\n      </ion-row>\r\n    </ion-grid>\r\n  </ion-text>\r\n</ion-item>","import {\r\n  Component,\r\n  OnInit,\r\n  Input,\r\n  EventEmitter,\r\n  Output,\r\n  NgZone\r\n} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-text-comment',\r\n  templateUrl: './text-comment.component.html',\r\n  styleUrls: ['./text-comment.component.scss']\r\n})\r\nexport class TextCommentComponent implements OnInit {\r\n  @Input() title: string;\r\n  @Input() placeholder: string;\r\n  @Input() value: string;\r\n  @Output() valueChange = new EventEmitter();\r\n  @Input() rows = 4;\r\n  @Input() disabled = false;\r\n  @Input() max = 1024;\r\n\r\n  constructor() {}\r\n\r\n  ngOnInit() {}\r\n\r\n  onBlur() {\r\n    if (this.value) {\r\n      this.value = this.value.trim();\r\n    }\r\n    this.valueChange.emit(this.value);\r\n  }\r\n}\r\n","<ion-item>\r\n  <ion-label color=\"medium\" position=\"stacked\" class=\"ion-text-uppercase\">{{ title | translate }}</ion-label>\r\n  <ion-textarea autocapitalize=\"sentences\" [maxlength]=\"max\" [disabled]=\"disabled\" type=\"textarea\" (ionBlur)=\"onBlur()\"\r\n    [rows]=\"rows\" [(ngModel)]=\"value\" [autoGrow]=\"true\" (ngModelChange)=\"valueChange.emit($event)\"\r\n    placeholder=\"{{ placeholder | translate}}\"></ion-textarea>\r\n</ion-item>","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { SelectInterface } from '@ionic/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { SelectOption } from '../../../shared/components/input/select/select-option.model';\r\n\r\n@Component({\r\n  selector: 'app-yes-no-select',\r\n  templateUrl: './yes-no-select.component.html',\r\n  styleUrls: ['./yes-no-select.component.scss']\r\n})\r\nexport class YesNoSelectComponent {\r\n  @Input() value: boolean;\r\n  @Input() labelColor = 'medium';\r\n  @Input() title: string;\r\n  @Output() valueChange = new EventEmitter();\r\n\r\n  options: SelectOption[] = [\r\n    { id: true, text: 'DIALOGS.YES' },\r\n    { id: false, text: 'DIALOGS.NO' }\r\n  ];\r\n\r\n  constructor() {}\r\n}\r\n","<ion-item>\r\n  <ion-label [color]=\"labelColor\" position=\"stacked\" class=\"ion-text-uppercase\">{{ title | translate}}</ion-label>\r\n  <app-select [(selectedValue)]=\"value\" (selectedValueChange)=\"valueChange.emit($event)\" [title]=\"title\"\r\n    [options]=\"options\"></app-select>\r\n</ion-item>","import { Component, OnInit, Input } from '@angular/core';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { UrlEditModel } from '@varsom-regobs-common/regobs-api';\r\n\r\n@Component({\r\n  selector: 'app-add-web-url-modal',\r\n  templateUrl: './add-web-url-modal.page.html',\r\n  styleUrls: ['./add-web-url-modal.page.scss']\r\n})\r\nexport class AddWebUrlModalPage implements OnInit {\r\n  @Input() weburl: UrlEditModel;\r\n  urlToSave: UrlEditModel;\r\n  isNew = true;\r\n  constructor(private modalController: ModalController) {}\r\n\r\n  ngOnInit() {\r\n    if (this.weburl) {\r\n      this.urlToSave = { ...this.weburl };\r\n      this.isNew = false;\r\n    } else {\r\n      this.urlToSave = {};\r\n    }\r\n  }\r\n\r\n  cancel() {\r\n    this.modalController.dismiss();\r\n  }\r\n\r\n  ok() {\r\n    this.modalController.dismiss(this.urlToSave);\r\n  }\r\n\r\n  delete() {\r\n    this.modalController.dismiss({ delete: true });\r\n  }\r\n}\r\n","<ion-header>\r\n  <ion-toolbar appHeaderColor mode=\"ios\">\r\n    <ion-buttons slot=\"start\">\r\n      <ion-button (click)=\"cancel()\">{{ 'DIALOGS.CANCEL' | translate }}</ion-button>\r\n    </ion-buttons>\r\n    <ion-title>\r\n      {{ 'REGISTRATION.ADD_WEB_URL.TITLE' | translate }}\r\n    </ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content>\r\n  <ion-list lines=\"full\">\r\n    <ion-list-header class=\"ion-text-uppercase\">\r\n      <ion-label>\r\n        {{\"REGISTRATION.ADD_WEB_URL.TITLE\" | translate}}\r\n      </ion-label>\r\n    </ion-list-header>\r\n    <app-text-comment [(value)]=\"urlToSave.UrlDescription\" title=\"REGISTRATION.GENERAL_COMMENT.COMMENT_TITLE\" rows=\"2\"></app-text-comment>\r\n    <ion-item>\r\n      <ion-label color=\"medium\" position=\"stacked\" class=\"ion-text-uppercase\">{{ 'REGISTRATION.ADD_WEB_URL.URL' | translate }}</ion-label>\r\n      <ion-input type=\"url\" [(ngModel)]=\"urlToSave.UrlLine\"></ion-input>\r\n    </ion-item>\r\n  </ion-list>\r\n  <app-modal-save-or-delete-buttons [saveDisabled]=\"!urlToSave.UrlLine\" (saveClicked)=\"ok()\" (deleteClicked)=\"delete()\"\r\n    [showDelete]=\"!isNew\">\r\n  </app-modal-save-or-delete-buttons>\r\n</ion-content>","import { NgModule } from '@angular/core';\r\nimport { HelpModalPage } from './help-modal.page';\r\nimport { MarkdownModule } from 'ngx-markdown';\r\nimport { SharedModule } from '../../../../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [SharedModule, MarkdownModule.forChild()],\r\n  declarations: [HelpModalPage],\r\n  entryComponents: [HelpModalPage]\r\n})\r\nexport class HelpModalPageModule {}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { ModalController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-help-modal',\r\n  templateUrl: './help-modal.page.html',\r\n  styleUrls: ['./help-modal.page.scss']\r\n})\r\nexport class HelpModalPage implements OnInit {\r\n  @Input() helpText: string;\r\n\r\n  constructor(private modalController: ModalController) {}\r\n\r\n  ngOnInit() {}\r\n\r\n  close() {\r\n    this.modalController.dismiss();\r\n  }\r\n}\r\n","<ion-header>\r\n  <ion-toolbar appHeaderColor mode=\"ios\">\r\n    <ion-buttons slot=\"end\">\r\n      <ion-button (click)=\"close()\">{{ 'DIALOGS.OK' | translate }}</ion-button>\r\n    </ion-buttons>\r\n    <ion-title>\r\n      {{ 'HELP.TITLE' | translate }}\r\n    </ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n<ion-content class=\"ion-padding\" (click)=\"close()\">\r\n  <markdown [data]=\"helpText\"></markdown>\r\n</ion-content>","import { NgModule } from '@angular/core';\r\nimport { NumericInputModalPage } from './numeric-input-modal.page';\r\nimport { SharedModule } from '../../../../../modules/shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [SharedModule],\r\n  declarations: [NumericInputModalPage],\r\n  entryComponents: [NumericInputModalPage]\r\n})\r\nexport class NumericInputModalPageModule {}\r\n","import { Component, OnInit, Input, HostListener } from '@angular/core';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { NumberHelper } from '../../../../../core/helpers/number-helper';\r\n\r\n@Component({\r\n  selector: 'app-numeric-input-modal',\r\n  templateUrl: './numeric-input-modal.page.html',\r\n  styleUrls: ['./numeric-input-modal.page.scss']\r\n})\r\nexport class NumericInputModalPage implements OnInit {\r\n  @Input() value: number;\r\n  @Input() suffix: string;\r\n  @Input() min = -100000;\r\n  @Input() max = 100000;\r\n  @Input() decimalPlaces = 0;\r\n  @Input() decimalSeparator;\r\n  @Input() title: string;\r\n\r\n  decimalSep = '.';\r\n  isNegative = false;\r\n  private numbers: Array<string> = [];\r\n\r\n  get textVal() {\r\n    return this.numbers.join('');\r\n  }\r\n\r\n  get localeString() {\r\n    return this.textVal.replace('.', this.decimalSep);\r\n  }\r\n\r\n  get numberVal() {\r\n    const num = parseFloat(this.textVal);\r\n    if (isNaN(num)) {\r\n      return undefined;\r\n    }\r\n    return parseFloat(this.textVal) * (this.isNegative ? -1 : 1);\r\n  }\r\n\r\n  constructor(private modalController: ModalController) {}\r\n\r\n  @HostListener('window:keyup', ['$event']) keyEvent(event: KeyboardEvent) {\r\n    if (event.key.match('[0-9]')) {\r\n      this.pushNumber(event.key);\r\n    }\r\n    if (event.key.match('[,.]')) {\r\n      this.pushDecimalSeparator();\r\n    }\r\n    if (event.keyCode === 13) {\r\n      // Enter click\r\n      this.done();\r\n    }\r\n    if (event.keyCode === 8) {\r\n      // Backspace\r\n      this.clear();\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.value !== undefined) {\r\n      this.isNegative = this.value < 0;\r\n      const positiveValue = this.value * (this.isNegative ? -1 : 1);\r\n      this.numbers = NumberHelper.setDecimalPlaces(\r\n        positiveValue,\r\n        this.decimalPlaces\r\n      )\r\n        .toString(10)\r\n        .split('');\r\n    }\r\n    if (this.max !== undefined && this.max <= 0) {\r\n      this.isNegative = true;\r\n    }\r\n    this.decimalSep =\r\n      this.decimalSeparator !== undefined\r\n        ? this.decimalSeparator\r\n        : this.getDecimalSeparatorForBrowser();\r\n  }\r\n\r\n  private getDecimalSeparatorForBrowser() {\r\n    return (1.1).toLocaleString().substring(1, 2);\r\n  }\r\n\r\n  cancel() {\r\n    this.modalController.dismiss();\r\n  }\r\n\r\n  done() {\r\n    this.modalController.dismiss({\r\n      ok: true,\r\n      value: this.numberVal\r\n    });\r\n  }\r\n\r\n  toggleNegative() {\r\n    if (this.max !== undefined && this.max <= 0) {\r\n      return;\r\n    }\r\n    this.isNegative = !this.isNegative;\r\n  }\r\n\r\n  private getNumberOfDecimals() {\r\n    let isDecimal = false;\r\n    let result = 0;\r\n    for (const i of this.numbers) {\r\n      if (isDecimal) {\r\n        result++;\r\n      } else {\r\n        if (i === '.') {\r\n          isDecimal = true;\r\n        }\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  pushNumber(val: string) {\r\n    if (\r\n      this.decimalPlaces > 0 &&\r\n      this.getNumberOfDecimals() >= this.decimalPlaces\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    this.numbers.push(val);\r\n    if (\r\n      (this.max !== undefined && this.numberVal > this.max) ||\r\n      (this.min !== undefined && this.numberVal < this.min)\r\n    ) {\r\n      this.numbers.pop();\r\n    }\r\n  }\r\n\r\n  pushDecimalSeparator() {\r\n    if (this.numbers.indexOf('.') < 0) {\r\n      this.numbers.push('.');\r\n    }\r\n  }\r\n\r\n  clear() {\r\n    this.numbers.pop();\r\n  }\r\n}\r\n","<ion-header>\r\n  <ion-toolbar mode=\"ios\">\r\n    <ion-buttons slot=\"start\">\r\n      <ion-button (click)=\"cancel()\">{{ 'DIALOGS.CANCEL' | translate }}</ion-button>\r\n    </ion-buttons>\r\n    <ion-title *ngIf=\"title\">\r\n      {{ title | translate }}\r\n    </ion-title>\r\n    <ion-buttons slot=\"end\">\r\n      <ion-button (click)=\"done()\">{{ 'DIALOGS.OK' | translate }}</ion-button>\r\n    </ion-buttons>\r\n  </ion-toolbar>\r\n</ion-header>\r\n<ion-content>\r\n  <ion-grid class=\"number-pad\">\r\n    <ion-row class=\"ion-justify-content-center\">\r\n      <ion-col size=\"8\" class=\"ion-align-self-center text-value ion-text-right\">\r\n        <ion-text *ngIf=\"isNegative\">&#8722;</ion-text>\r\n        <ion-text>{{localeString}}</ion-text>\r\n        <ion-text *ngIf=\"localeString && suffix\">&nbsp;{{suffix}}</ion-text>\r\n      </ion-col>\r\n      <ion-col size=\"4\" class=\"ion-align-self-center ion-text-right\">\r\n        <ion-button class=\" delete-button\" fill=\"clear\" (click)=\"clear()\">&larr;</ion-button>\r\n      </ion-col>\r\n    </ion-row>\r\n    <ion-row>\r\n      <ion-col class=\"ion-text-center\" *ngFor=\"let i of ['1','2','3']\">\r\n        <ion-button fill=\"clear\" (click)=\"pushNumber(i)\">{{i}}</ion-button>\r\n      </ion-col>\r\n    </ion-row>\r\n    <ion-row>\r\n      <ion-col class=\"ion-text-center\" *ngFor=\"let i of ['4','5','6']\">\r\n        <ion-button fill=\"clear\" (click)=\"pushNumber(i)\">{{i}}</ion-button>\r\n      </ion-col>\r\n    </ion-row>\r\n    <ion-row>\r\n      <ion-col class=\"ion-text-center\" *ngFor=\"let i of ['7','8','9']\">\r\n        <ion-button fill=\"clear\" (click)=\"pushNumber(i)\">{{i}}</ion-button>\r\n      </ion-col>\r\n    </ion-row>\r\n    <ion-row>\r\n      <ion-col class=\"ion-text-center\">\r\n        <ion-button [fill]=\"isNegative ? 'solid' : 'clear'\" *ngIf=\"min < 0\" (click)=\"toggleNegative()\">+ / -\r\n        </ion-button>\r\n      </ion-col>\r\n      <ion-col class=\"ion-text-center\">\r\n        <ion-button fill=\"clear\" (click)=\"pushNumber('0')\">0</ion-button>\r\n      </ion-col>\r\n      <ion-col class=\"ion-text-center\">\r\n        <ion-button *ngIf=\"decimalPlaces > 0\" fill=\"clear\" (click)=\"pushDecimalSeparator()\">{{decimalSep}}</ion-button>\r\n      </ion-col>\r\n    </ion-row>\r\n  </ion-grid>\r\n</ion-content>","export enum UtmSource {\r\n  SelectedInMap = 35,\r\n  GPS = 40\r\n}\r\n","import { Pipe, PipeTransform, NgZone } from '@angular/core';\r\nimport { KdvService } from '../../../core/services/kdv/kdv.service';\r\nimport { take } from 'rxjs/operators';\r\n\r\n@Pipe({\r\n  name: 'kdvDescription'\r\n})\r\nexport class KdvDescriptionPipe implements PipeTransform {\r\n  constructor(private kdvService: KdvService) {}\r\n\r\n  async transform(\r\n    value: number,\r\n    kdvKey: string,\r\n    returnDescription = false\r\n  ): Promise<string> {\r\n    const kdvelements = await this.kdvService\r\n      .getKdvRepositoryByKeyObservable(kdvKey)\r\n      .pipe(take(1))\r\n      .toPromise();\r\n    const kdvelement = kdvelements.find((x) => x.Id === value);\r\n    const result = kdvelement\r\n      ? returnDescription\r\n        ? kdvelement.Description\r\n        : kdvelement.Name\r\n      : '';\r\n    return result.trim();\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { NumberHelper } from '../../../core/helpers/number-helper';\r\n\r\n@Pipe({\r\n  name: 'metersToCm'\r\n})\r\nexport class MetersToCmPipe implements PipeTransform {\r\n  transform(value: any, decimalPlaces = 2): any {\r\n    if (value === undefined || value === null) {\r\n      return value;\r\n    }\r\n    return NumberHelper.setDecimalPlaces(value * 100.0, decimalPlaces);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { DateHelperService } from '../../shared/services/date-helper/date-helper.service';\r\nimport { IRegistration, RegistrationTid } from 'src/app/modules/common-registration/registration.models';\r\nimport { RegistrationService } from 'src/app/modules/common-registration/services/registration/registration.service';\r\nimport { GeoHazard } from '@varsom-regobs-common/core';\r\nimport { ISummaryItem } from '../components/summary-item/summary-item.model';\r\nimport { UserGroupService } from '../../../core/services/user-group/user-group.service';\r\nimport { ObserverGroupDto } from '@varsom-regobs-common/regobs-api';\r\nimport { NavController } from '@ionic/angular';\r\nimport { RouterDirection } from '@ionic/core';\r\nimport { isEmpty } from '@varsom-regobs-common/core';\r\nimport { take } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SummaryItemService {\r\n  constructor(\r\n    private registrationService: RegistrationService,\r\n    private dateHelperService: DateHelperService,\r\n    private userGroupService: UserGroupService,\r\n    private navController: NavController\r\n  ) {}\r\n\r\n  async getSummaryItems(\r\n    registration: IRegistration,\r\n    userGroups?: ObserverGroupDto[]\r\n  ) {\r\n    if (!registration) {\r\n      return [];\r\n    }\r\n    const userGroupsToUse = userGroups\r\n      ? userGroups\r\n      : await this.userGroupService.getUserGroups();\r\n    const summaryItems: ISummaryItem[] = [\r\n      {\r\n        id: registration.id,\r\n        href: '/registration/obs-location',\r\n        queryParams: { geoHazard: registration.geoHazard },\r\n        title: 'REGISTRATION.OBS_LOCATION.TITLE',\r\n        subTitle: registration.request.ObsLocation\r\n          ? registration.request.ObsLocation.LocationName ||\r\n            registration.request.ObsLocation.LocationDescription\r\n          : '',\r\n        hasData: !isEmpty(registration.request.ObsLocation)\r\n      },\r\n      {\r\n        id: registration.id,\r\n        href: '/registration/set-time',\r\n        title: 'REGISTRATION.OVERVIEW.DATE_AND_TIME',\r\n        subTitle: registration.request.DtObsTime\r\n          ? await this.dateHelperService.formatDateString(\r\n            registration.request.DtObsTime\r\n          )\r\n          : '',\r\n        hasData: !!registration.request.DtObsTime\r\n      }\r\n    ];\r\n    if (userGroupsToUse.length > 0) {\r\n      summaryItems.push({\r\n        id: registration.id,\r\n        href: '/registration/group',\r\n        title: 'REGISTRATION.OVERVIEW.SHARE_WITH_GROUP',\r\n        subTitle: this.getObservationGroupName(registration, userGroupsToUse),\r\n        hasData: !!registration.request.ObserverGroupID\r\n      });\r\n    }\r\n\r\n    summaryItems.push(... await this.getGeoHazardItems(registration));\r\n\r\n    summaryItems.push(\r\n      await this.getRegItem(\r\n        registration,\r\n        '/registration/general-comment',\r\n        'REGISTRATION.GENERAL_COMMENT.TITLE',\r\n        registration.request.GeneralObservation\r\n          ? registration.request.GeneralObservation.ObsComment\r\n          : '',\r\n        RegistrationTid.GeneralObservation\r\n      )\r\n    );\r\n\r\n    return summaryItems;\r\n  }\r\n\r\n  async getPreviousAndNext(\r\n    registration: IRegistration,\r\n    url: string\r\n  ): Promise<{ previous: ISummaryItem; next: ISummaryItem }> {\r\n    const summaryItems = await this.getSummaryItems(registration);\r\n    const currentItem = summaryItems.find((x) => url.indexOf(x.href) >= 0);\r\n    const result = { previous: undefined, next: undefined };\r\n    if (currentItem) {\r\n      const index = summaryItems.indexOf(currentItem);\r\n      if (index > 0) {\r\n        result.previous = summaryItems[index - 1];\r\n      }\r\n      const nextIndex = index + 1;\r\n      if (nextIndex < summaryItems.length) {\r\n        result.next = summaryItems[nextIndex];\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  navigateTo(\r\n    registration: IRegistration,\r\n    summaryItem: ISummaryItem,\r\n    direction: RouterDirection = 'forward'\r\n  ) {\r\n    const url = `${summaryItem.href}/${registration.id}`;\r\n    return direction === 'forward'\r\n      ? this.navController.navigateForward(url)\r\n      : this.navController.navigateBack(url);\r\n  }\r\n\r\n  async navigateForward(registration: IRegistration, url: string) {\r\n    const prevAndNext = await this.getPreviousAndNext(registration, url);\r\n    if (prevAndNext.next) {\r\n      return this.navigateTo(registration, prevAndNext.next, 'forward');\r\n    } else {\r\n      return this.navController.navigateRoot(\r\n        `/registration/edit/${registration.id}`\r\n      );\r\n    }\r\n  }\r\n\r\n  private getObservationGroupName(\r\n    registration: IRegistration,\r\n    userGroups: ObserverGroupDto[]\r\n  ) {\r\n    if (registration && registration.request.ObserverGroupID && userGroups) {\r\n      const selectedGroup = userGroups.find(\r\n        (x) => x.Id === registration.request.ObserverGroupID\r\n      );\r\n      if (selectedGroup) {\r\n        return selectedGroup.Name;\r\n      }\r\n    }\r\n    return '';\r\n  }\r\n\r\n  private getGeoHazardItems(registration: IRegistration) {\r\n    switch (registration.geoHazard) {\r\n    case GeoHazard.Water:\r\n      return this.getWaterItems(registration);\r\n    case GeoHazard.Ice:\r\n      return this.getIceItems(registration);\r\n    case GeoHazard.Soil:\r\n      return this.getDirtItems(registration);\r\n    case GeoHazard.Snow:\r\n      return this.getSnowItems(registration);\r\n    }\r\n  }\r\n\r\n  private async getWaterItems(registration: IRegistration) {\r\n    return [\r\n      await this.getRegItem(\r\n        registration,\r\n        '/registration/water/water-level',\r\n        'REGISTRATION.WATER.WATER_LEVEL.TITLE',\r\n        registration.request.WaterLevel2\r\n          ? registration.request.WaterLevel2.Comment\r\n          : '',\r\n        RegistrationTid.WaterLevel2\r\n      ),\r\n      await this.getRegItem(\r\n        registration,\r\n        '/registration/water/damage',\r\n        'REGISTRATION.WATER.DAMAGE.TITLE',\r\n        '', // this.registration.DamageObs ? this.registration.DamageObs.map((x) => x.Comment).join() : '',\r\n        RegistrationTid.DamageObs\r\n      )\r\n    ];\r\n  }\r\n\r\n  private async getRegItem(\r\n    registration: IRegistration,\r\n    href: string,\r\n    title: string,\r\n    subTitle: string,\r\n    registrationTid: RegistrationTid\r\n  ): Promise<ISummaryItem> {\r\n    return {\r\n      id: registration.id,\r\n      href,\r\n      title,\r\n      subTitle,\r\n      hasData: await this.registrationService.hasAnyDataToShowInRegistrationTypes(registration, registrationTid).pipe(take(1)).toPromise(),\r\n      attachments: await this.registrationService.getAllAttachmentsForRegistrationTid$(registration.id, registrationTid).pipe(take(1)).toPromise()\r\n    };\r\n  }\r\n\r\n  private async getDirtItems(registration: IRegistration) {\r\n    return [\r\n      await this.getRegItem(\r\n        registration,\r\n        '/registration/danger-obs',\r\n        'REGISTRATION.DANGER_OBS.TITLE',\r\n        '',\r\n        RegistrationTid.DangerObs\r\n      ),\r\n      await this.getRegItem(\r\n        registration,\r\n        '/registration/dirt/landslide-obs',\r\n        'REGISTRATION.DIRT.LAND_SLIDE_OBS.TITLE',\r\n        registration.request.LandSlideObs\r\n          ? registration.request.LandSlideObs.Comment\r\n          : '',\r\n        RegistrationTid.LandSlideObs\r\n      )\r\n    ];\r\n  }\r\n\r\n  private async getIceItems(registration: IRegistration) {\r\n    return [\r\n      await this.getRegItem(\r\n        registration,\r\n        '/registration/ice/ice-cover',\r\n        'REGISTRATION.ICE.ICE_COVER.TITLE',\r\n        registration.request.IceCoverObs\r\n          ? registration.request.IceCoverObs.Comment\r\n          : '',\r\n        RegistrationTid.IceCoverObs\r\n      ),\r\n      await this.getRegItem(\r\n        registration,\r\n        '/registration/ice/ice-thickness',\r\n        'REGISTRATION.ICE.ICE_THICKNESS.TITLE',\r\n        registration.request.IceThickness\r\n          ? registration.request.IceThickness.Comment\r\n          : '',\r\n        RegistrationTid.IceThickness\r\n      ),\r\n      await this.getRegItem(\r\n        registration,\r\n        '/registration/danger-obs',\r\n        'REGISTRATION.DANGER_OBS.TITLE',\r\n        '',\r\n        RegistrationTid.DangerObs\r\n      ),\r\n      await this.getRegItem(\r\n        registration,\r\n        '/registration/incident',\r\n        'REGISTRATION.INCIDENT.TITLE',\r\n        '',\r\n        RegistrationTid.Incident\r\n      )\r\n    ];\r\n  }\r\n\r\n  private async getSnowItems(registration: IRegistration) {\r\n    return [\r\n      await this.getRegItem(\r\n        registration,\r\n        '/registration/danger-obs',\r\n        'REGISTRATION.DANGER_OBS.TITLE',\r\n        '',\r\n        RegistrationTid.DangerObs\r\n      ),\r\n      await this.getRegItem(\r\n        registration,\r\n        '/registration/snow/avalanche-obs',\r\n        'REGISTRATION.SNOW.AVALANCHE_OBS.TITLE',\r\n        '',\r\n        RegistrationTid.AvalancheObs\r\n      ),\r\n      await this.getRegItem(\r\n        registration,\r\n        '/registration/snow/avalanche-activity',\r\n        'REGISTRATION.SNOW.AVALANCHE_ACTIVITY.TITLE',\r\n        '',\r\n        RegistrationTid.AvalancheActivityObs2\r\n      ),\r\n      await this.getRegItem(\r\n        registration,\r\n        '/registration/snow/weather',\r\n        'REGISTRATION.SNOW.WEATHER.TITLE',\r\n        '',\r\n        RegistrationTid.WeatherObservation\r\n      ),\r\n      await this.getRegItem(\r\n        registration,\r\n        '/registration/snow/snow-surface',\r\n        'REGISTRATION.SNOW.SNOW_SURFACE.TITLE',\r\n        '',\r\n        RegistrationTid.SnowSurfaceObservation\r\n      ),\r\n      await this.getRegItem(\r\n        registration,\r\n        '/registration/snow/compression-test',\r\n        'REGISTRATION.SNOW.COMPRESSION_TEST.TITLE',\r\n        '',\r\n        RegistrationTid.CompressionTest\r\n      ),\r\n      {\r\n        id: registration.id,\r\n        href: '/registration/snow/snow-profile',\r\n        title: 'REGISTRATION.SNOW.SNOW_PROFILE.TITLE',\r\n        subTitle: '',\r\n        hasData:\r\n          await this.registrationService.hasAnyDataToShowInRegistrationTypes(\r\n            registration,\r\n            RegistrationTid.SnowProfile2\r\n          ).pipe(take(1)).toPromise() ||\r\n          (registration.request.CompressionTest &&\r\n            registration.request.CompressionTest.some(\r\n              (x) => x.IncludeInSnowProfile === true\r\n            )),\r\n        attachments: await this.registrationService.getAllAttachmentsForRegistrationTid$(\r\n          registration.id,\r\n          RegistrationTid.SnowProfile2\r\n        ).pipe(take(1)).toPromise()\r\n      },\r\n      await this.getRegItem(\r\n        registration,\r\n        '/registration/snow/avalanche-problem',\r\n        'REGISTRATION.SNOW.AVALANCHE_PROBLEM.TITLE',\r\n        '',\r\n        RegistrationTid.AvalancheEvalProblem2\r\n      ),\r\n      await this.getRegItem(\r\n        registration,\r\n        '/registration/snow/avalanche-evaluation',\r\n        'REGISTRATION.SNOW.AVALANCHE_EVALUATION.TITLE',\r\n        '',\r\n        RegistrationTid.AvalancheEvaluation3\r\n      )\r\n    ];\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { SharedModule } from '../shared/shared.module';\r\nimport { SaveAndGoBackButtonComponent } from './components/save-and-go-back-button/save-and-go-back-button.component';\r\nimport { TextCommentComponent } from './components/text-comment/text-comment.component';\r\nimport { AddPictureItemComponent } from './components/add-picture-item/add-picture-item.component';\r\nimport { KdvRadiobuttonListComponent } from './components/kdv-radiobutton-list/kdv-radiobutton-list.component';\r\nimport { NavigationButtonsComponent } from './components/navigation-buttons/navigation-buttons.component';\r\nimport { SetLocationInMapComponent } from './components/set-location-in-map/set-location-in-map.component';\r\nimport { MapModule } from '../map/map.module';\r\nimport { Base64ImageComponent } from './components/base64-image/base64-image.component';\r\nimport { KdvDescriptionPipe } from './pipes/kdv-description.pipe';\r\nimport { AddWebUrlItemComponent } from './components/add-web-url-item/add-web-url-item.component';\r\nimport { ModalSaveOrDeleteButtonsComponent } from './components/modal-save-or-delete-buttons/modal-save-or-delete-buttons.component';\r\nimport { ExposedHeightComponent } from './components/snow/exposed-height/exposed-height.component';\r\nimport { ValidExpositionComponent } from './components/snow/valid-exposition/valid-exposition.component';\r\nimport { RegistrationContentWrapperComponent } from './components/registration-content-wrapper/registration-content-wrapper.component';\r\nimport { HelpTextComponent } from './components/help-text/help-text.component';\r\nimport { HelpModalPageModule } from './pages/modal-pages/help-modal/help-modal.module';\r\nimport { YesNoSelectComponent } from './components/yes-no-select/yes-no-select.component';\r\nimport { NumericInputComponent } from './components/numeric-input/numeric-input.component';\r\nimport { NumericInputModalPageModule } from './pages/modal-pages/numeric-input-modal/numeric-input-modal.module';\r\nimport { MetersToCmPipe } from './pipes/meters-to-cm.pipe';\r\nimport { CompressionTestListComponent } from './components/snow/compression-test-list/compression-test-list.component';\r\nimport { KdvSelectComponent } from './components/kdv-select/kdv-select.component';\r\nimport { BlobImageComponent } from './components/blob-image/blob-image.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    MapModule,\r\n    HelpModalPageModule,\r\n    NumericInputModalPageModule\r\n  ],\r\n  exports: [\r\n    SharedModule,\r\n    MapModule,\r\n    SaveAndGoBackButtonComponent,\r\n    AddPictureItemComponent,\r\n    TextCommentComponent,\r\n    KdvRadiobuttonListComponent,\r\n    NavigationButtonsComponent,\r\n    SetLocationInMapComponent,\r\n    Base64ImageComponent,\r\n    KdvDescriptionPipe,\r\n    MetersToCmPipe,\r\n    AddWebUrlItemComponent,\r\n    ModalSaveOrDeleteButtonsComponent,\r\n    ExposedHeightComponent,\r\n    ValidExpositionComponent,\r\n    RegistrationContentWrapperComponent,\r\n    HelpTextComponent,\r\n    HelpModalPageModule,\r\n    YesNoSelectComponent,\r\n    NumericInputComponent,\r\n    NumericInputModalPageModule,\r\n    CompressionTestListComponent,\r\n    KdvSelectComponent,\r\n    BlobImageComponent,\r\n  ],\r\n  declarations: [\r\n    SaveAndGoBackButtonComponent,\r\n    AddPictureItemComponent,\r\n    TextCommentComponent,\r\n    KdvRadiobuttonListComponent,\r\n    NavigationButtonsComponent,\r\n    SetLocationInMapComponent,\r\n    Base64ImageComponent,\r\n    KdvDescriptionPipe,\r\n    MetersToCmPipe,\r\n    AddWebUrlItemComponent,\r\n    ModalSaveOrDeleteButtonsComponent,\r\n    ExposedHeightComponent,\r\n    ValidExpositionComponent,\r\n    RegistrationContentWrapperComponent,\r\n    HelpTextComponent,\r\n    YesNoSelectComponent,\r\n    NumericInputComponent,\r\n    CompressionTestListComponent,\r\n    KdvSelectComponent,\r\n    BlobImageComponent\r\n  ]\r\n})\r\nexport class SharedComponentsModule {}\r\n"],"names":[],"sourceRoot":"webpack:///"}