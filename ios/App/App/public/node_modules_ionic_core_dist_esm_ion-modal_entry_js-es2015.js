"use strict";
(self["webpackChunkregobs4"] = self["webpackChunkregobs4"] || []).push([["node_modules_ionic_core_dist_esm_ion-modal_entry_js"],{

/***/ 15678:
/*!**************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/ion-modal.entry.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ion_modal": function() { return /* binding */ Modal; }
/* harmony export */ });
/* harmony import */ var C_Repos_regobs_regObs4_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ 80151);
/* harmony import */ var _index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-7a8b7a1c.js */ 76842);
/* harmony import */ var _ionic_global_63a97a32_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ionic-global-63a97a32.js */ 33124);
/* harmony import */ var _framework_delegate_4392cd63_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./framework-delegate-4392cd63.js */ 85356);
/* harmony import */ var _overlays_e9ccff30_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./overlays-e9ccff30.js */ 36838);
/* harmony import */ var _theme_ff3fc52f_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./theme-ff3fc52f.js */ 43784);
/* harmony import */ var _index_931440b1_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./index-931440b1.js */ 39546);
/* harmony import */ var _animation_096c6391_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./animation-096c6391.js */ 93844);
/* harmony import */ var _cubic_bezier_eea9a7a9_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./cubic-bezier-eea9a7a9.js */ 68161);
/* harmony import */ var _index_34cb2743_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./index-34cb2743.js */ 88910);
/* harmony import */ var _helpers_dd7e4b7b_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./helpers-dd7e4b7b.js */ 40693);
/* harmony import */ var _hardware_back_button_4a6b37fb_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./hardware-back-button-4a6b37fb.js */ 57899);
/* harmony import */ var _gesture_controller_31cb6bb9_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./gesture-controller-31cb6bb9.js */ 48499);












 // Defaults for the card swipe animation

const SwipeToCloseDefaults = {
  MIN_PRESENTING_SCALE: 0.93
};

const createSwipeToCloseGesture = (el, animation, onDismiss) => {
  const height = el.offsetHeight;
  let isOpen = false;

  const canStart = detail => {
    const target = detail.event.target;

    if (target === null || !target.closest) {
      return true;
    }

    const contentOrFooter = target.closest('ion-content, ion-footer');

    if (contentOrFooter === null) {
      return true;
    } // Target is in the content or the footer so do not start the gesture.
    // We could be more nuanced here and allow it for content that
    // does not need to scroll.


    return false;
  };

  const onStart = () => {
    animation.progressStart(true, isOpen ? 1 : 0);
  };

  const onMove = detail => {
    const step = (0,_helpers_dd7e4b7b_js__WEBPACK_IMPORTED_MODULE_10__.j)(0.0001, detail.deltaY / height, 0.9999);
    animation.progressStep(step);
  };

  const onEnd = detail => {
    const velocity = detail.velocityY;
    const step = (0,_helpers_dd7e4b7b_js__WEBPACK_IMPORTED_MODULE_10__.j)(0.0001, detail.deltaY / height, 0.9999);
    const threshold = (detail.deltaY + velocity * 1000) / height;
    const shouldComplete = threshold >= 0.5;
    let newStepValue = shouldComplete ? -0.001 : 0.001;

    if (!shouldComplete) {
      animation.easing('cubic-bezier(1, 0, 0.68, 0.28)');
      newStepValue += (0,_cubic_bezier_eea9a7a9_js__WEBPACK_IMPORTED_MODULE_8__.g)([0, 0], [1, 0], [0.68, 0.28], [1, 1], step)[0];
    } else {
      animation.easing('cubic-bezier(0.32, 0.72, 0, 1)');
      newStepValue += (0,_cubic_bezier_eea9a7a9_js__WEBPACK_IMPORTED_MODULE_8__.g)([0, 0], [0.32, 0.72], [0, 1], [1, 1], step)[0];
    }

    const duration = shouldComplete ? computeDuration(step * height, velocity) : computeDuration((1 - step) * height, velocity);
    isOpen = shouldComplete;
    gesture.enable(false);
    animation.onFinish(() => {
      if (!shouldComplete) {
        gesture.enable(true);
      }
    }).progressEnd(shouldComplete ? 1 : 0, newStepValue, duration);

    if (shouldComplete) {
      onDismiss();
    }
  };

  const gesture = (0,_index_34cb2743_js__WEBPACK_IMPORTED_MODULE_9__.createGesture)({
    el,
    gestureName: 'modalSwipeToClose',
    gesturePriority: 40,
    direction: 'y',
    threshold: 10,
    canStart,
    onStart,
    onMove,
    onEnd
  });
  return gesture;
};

const computeDuration = (remaining, velocity) => {
  return (0,_helpers_dd7e4b7b_js__WEBPACK_IMPORTED_MODULE_10__.j)(400, remaining / Math.abs(velocity * 1.1), 500);
};
/**
 * iOS Modal Enter Animation for the Card presentation style
 */


const iosEnterAnimation = (baseEl, presentingEl) => {
  const backdropAnimation = (0,_animation_096c6391_js__WEBPACK_IMPORTED_MODULE_7__.c)().addElement(baseEl.querySelector('ion-backdrop')).fromTo('opacity', 0.01, 'var(--backdrop-opacity)').beforeStyles({
    'pointer-events': 'none'
  }).afterClearStyles(['pointer-events']);
  const wrapperAnimation = (0,_animation_096c6391_js__WEBPACK_IMPORTED_MODULE_7__.c)().addElement(baseEl.querySelectorAll('.modal-wrapper, .modal-shadow')).beforeStyles({
    'opacity': 1
  }).fromTo('transform', 'translateY(100vh)', 'translateY(0vh)');
  const baseAnimation = (0,_animation_096c6391_js__WEBPACK_IMPORTED_MODULE_7__.c)().addElement(baseEl).easing('cubic-bezier(0.32,0.72,0,1)').duration(500).addAnimation(wrapperAnimation);

  if (presentingEl) {
    const isMobile = window.innerWidth < 768;
    const hasCardModal = presentingEl.tagName === 'ION-MODAL' && presentingEl.presentingElement !== undefined;
    const presentingAnimation = (0,_animation_096c6391_js__WEBPACK_IMPORTED_MODULE_7__.c)().beforeStyles({
      'transform': 'translateY(0)',
      'transform-origin': 'top center',
      'overflow': 'hidden'
    });
    const bodyEl = document.body;

    if (isMobile) {
      /**
       * Fallback for browsers that does not support `max()` (ex: Firefox)
       * No need to worry about statusbar padding since engines like Gecko
       * are not used as the engine for standlone Cordova/Capacitor apps
       */
      const transformOffset = !CSS.supports('width', 'max(0px, 1px)') ? '30px' : 'max(30px, var(--ion-safe-area-top))';
      const modalTransform = hasCardModal ? '-10px' : transformOffset;
      const toPresentingScale = SwipeToCloseDefaults.MIN_PRESENTING_SCALE;
      const finalTransform = `translateY(${modalTransform}) scale(${toPresentingScale})`;
      presentingAnimation.afterStyles({
        'transform': finalTransform
      }).beforeAddWrite(() => bodyEl.style.setProperty('background-color', 'black')).addElement(presentingEl).keyframes([{
        offset: 0,
        filter: 'contrast(1)',
        transform: 'translateY(0px) scale(1)',
        borderRadius: '0px'
      }, {
        offset: 1,
        filter: 'contrast(0.85)',
        transform: finalTransform,
        borderRadius: '10px 10px 0 0'
      }]);
      baseAnimation.addAnimation(presentingAnimation);
    } else {
      baseAnimation.addAnimation(backdropAnimation);

      if (!hasCardModal) {
        wrapperAnimation.fromTo('opacity', '0', '1');
      } else {
        const toPresentingScale = hasCardModal ? SwipeToCloseDefaults.MIN_PRESENTING_SCALE : 1;
        const finalTransform = `translateY(-10px) scale(${toPresentingScale})`;
        presentingAnimation.afterStyles({
          'transform': finalTransform
        }).addElement(presentingEl.querySelector('.modal-wrapper')).keyframes([{
          offset: 0,
          filter: 'contrast(1)',
          transform: 'translateY(0) scale(1)'
        }, {
          offset: 1,
          filter: 'contrast(0.85)',
          transform: finalTransform
        }]);
        const shadowAnimation = (0,_animation_096c6391_js__WEBPACK_IMPORTED_MODULE_7__.c)().afterStyles({
          'transform': finalTransform
        }).addElement(presentingEl.querySelector('.modal-shadow')).keyframes([{
          offset: 0,
          opacity: '1',
          transform: 'translateY(0) scale(1)'
        }, {
          offset: 1,
          opacity: '0',
          transform: finalTransform
        }]);
        baseAnimation.addAnimation([presentingAnimation, shadowAnimation]);
      }
    }
  } else {
    baseAnimation.addAnimation(backdropAnimation);
  }

  return baseAnimation;
};
/**
 * iOS Modal Leave Animation
 */


const iosLeaveAnimation = (baseEl, presentingEl, duration = 500) => {
  const backdropAnimation = (0,_animation_096c6391_js__WEBPACK_IMPORTED_MODULE_7__.c)().addElement(baseEl.querySelector('ion-backdrop')).fromTo('opacity', 'var(--backdrop-opacity)', 0.0);
  const wrapperAnimation = (0,_animation_096c6391_js__WEBPACK_IMPORTED_MODULE_7__.c)().addElement(baseEl.querySelectorAll('.modal-wrapper, .modal-shadow')).beforeStyles({
    'opacity': 1
  }).fromTo('transform', 'translateY(0vh)', 'translateY(100vh)');
  const baseAnimation = (0,_animation_096c6391_js__WEBPACK_IMPORTED_MODULE_7__.c)().addElement(baseEl).easing('cubic-bezier(0.32,0.72,0,1)').duration(duration).addAnimation(wrapperAnimation);

  if (presentingEl) {
    const isMobile = window.innerWidth < 768;
    const hasCardModal = presentingEl.tagName === 'ION-MODAL' && presentingEl.presentingElement !== undefined;
    const presentingAnimation = (0,_animation_096c6391_js__WEBPACK_IMPORTED_MODULE_7__.c)().beforeClearStyles(['transform']).afterClearStyles(['transform']).onFinish(currentStep => {
      // only reset background color if this is the last card-style modal
      if (currentStep !== 1) {
        return;
      }

      presentingEl.style.setProperty('overflow', '');
      const numModals = Array.from(bodyEl.querySelectorAll('ion-modal')).filter(m => m.presentingElement !== undefined).length;

      if (numModals <= 1) {
        bodyEl.style.setProperty('background-color', '');
      }
    });
    const bodyEl = document.body;

    if (isMobile) {
      const transformOffset = !CSS.supports('width', 'max(0px, 1px)') ? '30px' : 'max(30px, var(--ion-safe-area-top))';
      const modalTransform = hasCardModal ? '-10px' : transformOffset;
      const toPresentingScale = SwipeToCloseDefaults.MIN_PRESENTING_SCALE;
      const finalTransform = `translateY(${modalTransform}) scale(${toPresentingScale})`;
      presentingAnimation.addElement(presentingEl).keyframes([{
        offset: 0,
        filter: 'contrast(0.85)',
        transform: finalTransform,
        borderRadius: '10px 10px 0 0'
      }, {
        offset: 1,
        filter: 'contrast(1)',
        transform: 'translateY(0px) scale(1)',
        borderRadius: '0px'
      }]);
      baseAnimation.addAnimation(presentingAnimation);
    } else {
      baseAnimation.addAnimation(backdropAnimation);

      if (!hasCardModal) {
        wrapperAnimation.fromTo('opacity', '1', '0');
      } else {
        const toPresentingScale = hasCardModal ? SwipeToCloseDefaults.MIN_PRESENTING_SCALE : 1;
        const finalTransform = `translateY(-10px) scale(${toPresentingScale})`;
        presentingAnimation.addElement(presentingEl.querySelector('.modal-wrapper')).afterStyles({
          'transform': 'translate3d(0, 0, 0)'
        }).keyframes([{
          offset: 0,
          filter: 'contrast(0.85)',
          transform: finalTransform
        }, {
          offset: 1,
          filter: 'contrast(1)',
          transform: 'translateY(0) scale(1)'
        }]);
        const shadowAnimation = (0,_animation_096c6391_js__WEBPACK_IMPORTED_MODULE_7__.c)().addElement(presentingEl.querySelector('.modal-shadow')).afterStyles({
          'transform': 'translateY(0) scale(1)'
        }).keyframes([{
          offset: 0,
          opacity: '0',
          transform: finalTransform
        }, {
          offset: 1,
          opacity: '1',
          transform: 'translateY(0) scale(1)'
        }]);
        baseAnimation.addAnimation([presentingAnimation, shadowAnimation]);
      }
    }
  } else {
    baseAnimation.addAnimation(backdropAnimation);
  }

  return baseAnimation;
};
/**
 * Md Modal Enter Animation
 */


const mdEnterAnimation = baseEl => {
  const baseAnimation = (0,_animation_096c6391_js__WEBPACK_IMPORTED_MODULE_7__.c)();
  const backdropAnimation = (0,_animation_096c6391_js__WEBPACK_IMPORTED_MODULE_7__.c)();
  const wrapperAnimation = (0,_animation_096c6391_js__WEBPACK_IMPORTED_MODULE_7__.c)();
  backdropAnimation.addElement(baseEl.querySelector('ion-backdrop')).fromTo('opacity', 0.01, 'var(--backdrop-opacity)').beforeStyles({
    'pointer-events': 'none'
  }).afterClearStyles(['pointer-events']);
  wrapperAnimation.addElement(baseEl.querySelector('.modal-wrapper')).keyframes([{
    offset: 0,
    opacity: 0.01,
    transform: 'translateY(40px)'
  }, {
    offset: 1,
    opacity: 1,
    transform: 'translateY(0px)'
  }]);
  return baseAnimation.addElement(baseEl).easing('cubic-bezier(0.36,0.66,0.04,1)').duration(280).addAnimation([backdropAnimation, wrapperAnimation]);
};
/**
 * Md Modal Leave Animation
 */


const mdLeaveAnimation = baseEl => {
  const baseAnimation = (0,_animation_096c6391_js__WEBPACK_IMPORTED_MODULE_7__.c)();
  const backdropAnimation = (0,_animation_096c6391_js__WEBPACK_IMPORTED_MODULE_7__.c)();
  const wrapperAnimation = (0,_animation_096c6391_js__WEBPACK_IMPORTED_MODULE_7__.c)();
  const wrapperEl = baseEl.querySelector('.modal-wrapper');
  backdropAnimation.addElement(baseEl.querySelector('ion-backdrop')).fromTo('opacity', 'var(--backdrop-opacity)', 0.0);
  wrapperAnimation.addElement(wrapperEl).keyframes([{
    offset: 0,
    opacity: 0.99,
    transform: 'translateY(0px)'
  }, {
    offset: 1,
    opacity: 0,
    transform: 'translateY(40px)'
  }]);
  return baseAnimation.addElement(baseEl).easing('cubic-bezier(0.47,0,0.745,0.715)').duration(200).addAnimation([backdropAnimation, wrapperAnimation]);
};

const modalIosCss = ".sc-ion-modal-ios-h{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;contain:strict}.overlay-hidden.sc-ion-modal-ios-h{display:none}.modal-wrapper.sc-ion-modal-ios,.modal-shadow.sc-ion-modal-ios{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow.sc-ion-modal-ios{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){.sc-ion-modal-ios-h{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){.sc-ion-modal-ios-h{--width:600px;--height:600px}}.sc-ion-modal-ios-h:first-of-type{--backdrop-opacity:var(--ion-backdrop-opacity, 0.4)}@media only screen and (min-width: 768px) and (min-height: 600px){.sc-ion-modal-ios-h{--border-radius:10px}}.modal-wrapper.sc-ion-modal-ios{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0)}@media screen and (max-width: 767px){@supports (width: max(0px, 1px)){.modal-card.sc-ion-modal-ios-h{--height:calc(100% - max(30px, var(--ion-safe-area-top)) - 10px)}}@supports not (width: max(0px, 1px)){.modal-card.sc-ion-modal-ios-h{--height:calc(100% - 40px)}}.modal-card.sc-ion-modal-ios-h .modal-wrapper.sc-ion-modal-ios{border-top-left-radius:10px;border-top-right-radius:10px;border-bottom-right-radius:0;border-bottom-left-radius:0}[dir=rtl].sc-ion-modal-ios-h -no-combinator.modal-card.sc-ion-modal-ios-h .modal-wrapper.sc-ion-modal-ios,[dir=rtl] .sc-ion-modal-ios-h -no-combinator.modal-card.sc-ion-modal-ios-h .modal-wrapper.sc-ion-modal-ios,[dir=rtl].modal-card.sc-ion-modal-ios-h .modal-wrapper.sc-ion-modal-ios,[dir=rtl] .modal-card.sc-ion-modal-ios-h .modal-wrapper.sc-ion-modal-ios{border-top-left-radius:10px;border-top-right-radius:10px;border-bottom-right-radius:0;border-bottom-left-radius:0}.modal-card.sc-ion-modal-ios-h{--backdrop-opacity:0;--width:100%;-ms-flex-align:end;align-items:flex-end}.modal-card.sc-ion-modal-ios-h .modal-shadow.sc-ion-modal-ios{display:none}.modal-card.sc-ion-modal-ios-h ion-backdrop.sc-ion-modal-ios{pointer-events:none}}@media screen and (min-width: 768px){.modal-card.sc-ion-modal-ios-h{--width:calc(100% - 120px);--height:calc(100% - (120px + var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));--max-width:720px;--max-height:1000px}.modal-card.sc-ion-modal-ios-h{--backdrop-opacity:0;-webkit-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out}.modal-card.sc-ion-modal-ios-h:first-of-type{--backdrop-opacity:0.18}.modal-card.sc-ion-modal-ios-h .modal-shadow.sc-ion-modal-ios{-webkit-box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1);box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1)}}";
const modalMdCss = ".sc-ion-modal-md-h{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;contain:strict}.overlay-hidden.sc-ion-modal-md-h{display:none}.modal-wrapper.sc-ion-modal-md,.modal-shadow.sc-ion-modal-md{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow.sc-ion-modal-md{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){.sc-ion-modal-md-h{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){.sc-ion-modal-md-h{--width:600px;--height:600px}}.sc-ion-modal-md-h:first-of-type{--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}@media only screen and (min-width: 768px) and (min-height: 600px){.sc-ion-modal-md-h{--border-radius:2px}.sc-ion-modal-md-h:first-of-type{--box-shadow:0 28px 48px rgba(0, 0, 0, 0.4)}}.modal-wrapper.sc-ion-modal-md{-webkit-transform:translate3d(0,  40px,  0);transform:translate3d(0,  40px,  0);opacity:0.01}";
const Modal = class {
  constructor(hostRef) {
    (0,_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.didPresent = (0,_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "ionModalDidPresent", 7);
    this.willPresent = (0,_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "ionModalWillPresent", 7);
    this.willDismiss = (0,_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "ionModalWillDismiss", 7);
    this.didDismiss = (0,_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "ionModalDidDismiss", 7); // Whether or not modal is being dismissed via gesture

    this.gestureAnimationDismissing = false;
    this.presented = false;
    /**
     * If `true`, the keyboard will be automatically dismissed when the overlay is presented.
     */

    this.keyboardClose = true;
    /**
     * If `true`, the modal will be dismissed when the backdrop is clicked.
     */

    this.backdropDismiss = true;
    /**
     * If `true`, a backdrop will be displayed behind the modal.
     */

    this.showBackdrop = true;
    /**
     * If `true`, the modal will animate.
     */

    this.animated = true;
    /**
     * If `true`, the modal can be swiped to dismiss. Only applies in iOS mode.
     */

    this.swipeToClose = false;

    this.onBackdropTap = () => {
      this.dismiss(undefined, _overlays_e9ccff30_js__WEBPACK_IMPORTED_MODULE_4__.B);
    };

    this.onDismiss = ev => {
      ev.stopPropagation();
      ev.preventDefault();
      this.dismiss();
    };

    this.onLifecycle = modalEvent => {
      const el = this.usersElement;
      const name = LIFECYCLE_MAP[modalEvent.type];

      if (el && name) {
        const ev = new CustomEvent(name, {
          bubbles: false,
          cancelable: false,
          detail: modalEvent.detail
        });
        el.dispatchEvent(ev);
      }
    };
  }

  swipeToCloseChanged(enable) {
    if (this.gesture) {
      this.gesture.enable(enable);
    } else if (enable) {
      this.initSwipeToClose();
    }
  }

  connectedCallback() {
    (0,_overlays_e9ccff30_js__WEBPACK_IMPORTED_MODULE_4__.e)(this.el);
  }
  /**
   * Present the modal overlay after it has been created.
   */


  present() {
    var _this = this;

    return (0,C_Repos_regobs_regObs4_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      if (_this.presented) {
        return;
      }

      const container = _this.el.querySelector(`.modal-wrapper`);

      if (!container) {
        throw new Error('container is undefined');
      }

      const componentProps = Object.assign(Object.assign({}, _this.componentProps), {
        modal: _this.el
      });
      _this.usersElement = yield (0,_framework_delegate_4392cd63_js__WEBPACK_IMPORTED_MODULE_3__.a)(_this.delegate, container, _this.component, ['ion-page'], componentProps);
      yield (0,_index_931440b1_js__WEBPACK_IMPORTED_MODULE_6__.e)(_this.usersElement);
      (0,_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.c)(() => _this.el.classList.add('show-modal'));
      yield (0,_overlays_e9ccff30_js__WEBPACK_IMPORTED_MODULE_4__.d)(_this, 'modalEnter', iosEnterAnimation, mdEnterAnimation, _this.presentingElement);

      if (_this.swipeToClose) {
        _this.initSwipeToClose();
      }
    })();
  }

  initSwipeToClose() {
    var _this2 = this;

    if ((0,_ionic_global_63a97a32_js__WEBPACK_IMPORTED_MODULE_2__.b)(this) !== 'ios') {
      return;
    } // All of the elements needed for the swipe gesture
    // should be in the DOM and referenced by now, except
    // for the presenting el


    const animationBuilder = this.leaveAnimation || _ionic_global_63a97a32_js__WEBPACK_IMPORTED_MODULE_2__.c.get('modalLeave', iosLeaveAnimation);
    const ani = this.animation = animationBuilder(this.el, this.presentingElement);
    this.gesture = createSwipeToCloseGesture(this.el, ani, () => {
      /**
       * While the gesture animation is finishing
       * it is possible for a user to tap the backdrop.
       * This would result in the dismiss animation
       * being played again. Typically this is avoided
       * by setting `presented = false` on the overlay
       * component; however, we cannot do that here as
       * that would prevent the element from being
       * removed from the DOM.
       */
      this.gestureAnimationDismissing = true;
      this.animation.onFinish( /*#__PURE__*/(0,C_Repos_regobs_regObs4_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
        yield _this2.dismiss(undefined, 'gesture');
        _this2.gestureAnimationDismissing = false;
      }));
    });
    this.gesture.enable(true);
  }
  /**
   * Dismiss the modal overlay after it has been presented.
   *
   * @param data Any data to emit in the dismiss events.
   * @param role The role of the element that is dismissing the modal. For example, 'cancel' or 'backdrop'.
   */


  dismiss(data, role) {
    var _this3 = this;

    return (0,C_Repos_regobs_regObs4_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      if (_this3.gestureAnimationDismissing && role !== 'gesture') {
        return false;
      }

      const enteringAnimation = _overlays_e9ccff30_js__WEBPACK_IMPORTED_MODULE_4__.h.get(_this3) || [];
      const dismissed = yield (0,_overlays_e9ccff30_js__WEBPACK_IMPORTED_MODULE_4__.f)(_this3, data, role, 'modalLeave', iosLeaveAnimation, mdLeaveAnimation, _this3.presentingElement);

      if (dismissed) {
        yield (0,_framework_delegate_4392cd63_js__WEBPACK_IMPORTED_MODULE_3__.d)(_this3.delegate, _this3.usersElement);

        if (_this3.animation) {
          _this3.animation.destroy();
        }

        enteringAnimation.forEach(ani => ani.destroy());
      }

      _this3.animation = undefined;
      return dismissed;
    })();
  }
  /**
   * Returns a promise that resolves when the modal did dismiss.
   */


  onDidDismiss() {
    return (0,_overlays_e9ccff30_js__WEBPACK_IMPORTED_MODULE_4__.g)(this.el, 'ionModalDidDismiss');
  }
  /**
   * Returns a promise that resolves when the modal will dismiss.
   */


  onWillDismiss() {
    return (0,_overlays_e9ccff30_js__WEBPACK_IMPORTED_MODULE_4__.g)(this.el, 'ionModalWillDismiss');
  }

  render() {
    const mode = (0,_ionic_global_63a97a32_js__WEBPACK_IMPORTED_MODULE_2__.b)(this);
    return (0,_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.H, {
      "no-router": true,
      "aria-modal": "true",
      tabindex: "-1",
      class: Object.assign({
        [mode]: true,
        [`modal-card`]: this.presentingElement !== undefined && mode === 'ios'
      }, (0,_theme_ff3fc52f_js__WEBPACK_IMPORTED_MODULE_5__.g)(this.cssClass)),
      style: {
        zIndex: `${20000 + this.overlayIndex}`
      },
      onIonBackdropTap: this.onBackdropTap,
      onIonDismiss: this.onDismiss,
      onIonModalDidPresent: this.onLifecycle,
      onIonModalWillPresent: this.onLifecycle,
      onIonModalWillDismiss: this.onLifecycle,
      onIonModalDidDismiss: this.onLifecycle
    }, (0,_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.h)("ion-backdrop", {
      visible: this.showBackdrop,
      tappable: this.backdropDismiss
    }), mode === 'ios' && (0,_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      class: "modal-shadow"
    }), (0,_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      tabindex: "0"
    }), (0,_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      role: "dialog",
      class: "modal-wrapper ion-overlay-wrapper"
    }), (0,_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      tabindex: "0"
    }));
  }

  get el() {
    return (0,_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.i)(this);
  }

  static get watchers() {
    return {
      "swipeToClose": ["swipeToCloseChanged"]
    };
  }

};
const LIFECYCLE_MAP = {
  'ionModalDidPresent': 'ionViewDidEnter',
  'ionModalWillPresent': 'ionViewWillEnter',
  'ionModalWillDismiss': 'ionViewWillLeave',
  'ionModalDidDismiss': 'ionViewDidLeave'
};
Modal.style = {
  ios: modalIosCss,
  md: modalMdCss
};


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLW1vZGFsX2VudHJ5X2pzLWVzMjAxNS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0NBR0E7O0FBQ0EsTUFBTWtDLG9CQUFvQixHQUFHO0FBQzNCQyxFQUFBQSxvQkFBb0IsRUFBRTtBQURLLENBQTdCOztBQUdBLE1BQU1DLHlCQUF5QixHQUFHLENBQUNDLEVBQUQsRUFBS0MsU0FBTCxFQUFnQkMsU0FBaEIsS0FBOEI7QUFDOUQsUUFBTUMsTUFBTSxHQUFHSCxFQUFFLENBQUNJLFlBQWxCO0FBQ0EsTUFBSUMsTUFBTSxHQUFHLEtBQWI7O0FBQ0EsUUFBTUMsUUFBUSxHQUFJQyxNQUFELElBQVk7QUFDM0IsVUFBTUMsTUFBTSxHQUFHRCxNQUFNLENBQUNFLEtBQVAsQ0FBYUQsTUFBNUI7O0FBQ0EsUUFBSUEsTUFBTSxLQUFLLElBQVgsSUFDRixDQUFDQSxNQUFNLENBQUNFLE9BRFYsRUFDbUI7QUFDakIsYUFBTyxJQUFQO0FBQ0Q7O0FBQ0QsVUFBTUMsZUFBZSxHQUFHSCxNQUFNLENBQUNFLE9BQVAsQ0FBZSx5QkFBZixDQUF4Qjs7QUFDQSxRQUFJQyxlQUFlLEtBQUssSUFBeEIsRUFBOEI7QUFDNUIsYUFBTyxJQUFQO0FBQ0QsS0FUMEIsQ0FVM0I7QUFDQTtBQUNBOzs7QUFDQSxXQUFPLEtBQVA7QUFDRCxHQWREOztBQWVBLFFBQU1DLE9BQU8sR0FBRyxNQUFNO0FBQ3BCWCxJQUFBQSxTQUFTLENBQUNZLGFBQVYsQ0FBd0IsSUFBeEIsRUFBK0JSLE1BQUQsR0FBVyxDQUFYLEdBQWUsQ0FBN0M7QUFDRCxHQUZEOztBQUdBLFFBQU1TLE1BQU0sR0FBSVAsTUFBRCxJQUFZO0FBQ3pCLFVBQU1RLElBQUksR0FBR25CLHdEQUFLLENBQUMsTUFBRCxFQUFTVyxNQUFNLENBQUNT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QkFBc0IsaUJBREY7QUFFcEIseUJBQXVCLGtCQUZIO0FBR3BCLHlCQUF1QixrQkFISDtBQUlwQix3QkFBc0I7QUFKRixDQUF0QjtBQU1BdEIsS0FBSyxDQUFDdEIsS0FBTixHQUFjO0FBQ1oyRixFQUFBQSxHQUFHLEVBQUV2RSxXQURPO0FBRVp3RSxFQUFBQSxFQUFFLEVBQUV2RTtBQUZRLENBQWQiLCJzb3VyY2VzIjpbIi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2lvbi1tb2RhbC5lbnRyeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByIGFzIHJlZ2lzdGVySW5zdGFuY2UsIGUgYXMgY3JlYXRlRXZlbnQsIGMgYXMgd3JpdGVUYXNrLCBoLCBIIGFzIEhvc3QsIGkgYXMgZ2V0RWxlbWVudCB9IGZyb20gJy4vaW5kZXgtN2E4YjdhMWMuanMnO1xuaW1wb3J0IHsgYiBhcyBnZXRJb25Nb2RlLCBjIGFzIGNvbmZpZyB9IGZyb20gJy4vaW9uaWMtZ2xvYmFsLTYzYTk3YTMyLmpzJztcbmltcG9ydCB7IGEgYXMgYXR0YWNoQ29tcG9uZW50LCBkIGFzIGRldGFjaENvbXBvbmVudCB9IGZyb20gJy4vZnJhbWV3b3JrLWRlbGVnYXRlLTQzOTJjZDYzLmpzJztcbmltcG9ydCB7IEIgYXMgQkFDS0RST1AsIGUgYXMgcHJlcGFyZU92ZXJsYXksIGQgYXMgcHJlc2VudCwgaCBhcyBhY3RpdmVBbmltYXRpb25zLCBmIGFzIGRpc21pc3MsIGcgYXMgZXZlbnRNZXRob2QgfSBmcm9tICcuL292ZXJsYXlzLWU5Y2NmZjMwLmpzJztcbmltcG9ydCB7IGcgYXMgZ2V0Q2xhc3NNYXAgfSBmcm9tICcuL3RoZW1lLWZmM2ZjNTJmLmpzJztcbmltcG9ydCB7IGUgYXMgZGVlcFJlYWR5IH0gZnJvbSAnLi9pbmRleC05MzE0NDBiMS5qcyc7XG5pbXBvcnQgeyBjIGFzIGNyZWF0ZUFuaW1hdGlvbiB9IGZyb20gJy4vYW5pbWF0aW9uLTA5NmM2MzkxLmpzJztcbmltcG9ydCB7IGcgYXMgZ2V0VGltZUdpdmVuUHJvZ3Jlc3Npb24gfSBmcm9tICcuL2N1YmljLWJlemllci1lZWE5YTdhOS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVHZXN0dXJlIH0gZnJvbSAnLi9pbmRleC0zNGNiMjc0My5qcyc7XG5pbXBvcnQgeyBqIGFzIGNsYW1wIH0gZnJvbSAnLi9oZWxwZXJzLWRkN2U0YjdiLmpzJztcbmltcG9ydCAnLi9oYXJkd2FyZS1iYWNrLWJ1dHRvbi00YTZiMzdmYi5qcyc7XG5pbXBvcnQgJy4vZ2VzdHVyZS1jb250cm9sbGVyLTMxY2I2YmI5LmpzJztcblxuLy8gRGVmYXVsdHMgZm9yIHRoZSBjYXJkIHN3aXBlIGFuaW1hdGlvblxuY29uc3QgU3dpcGVUb0Nsb3NlRGVmYXVsdHMgPSB7XG4gIE1JTl9QUkVTRU5USU5HX1NDQUxFOiAwLjkzLFxufTtcbmNvbnN0IGNyZWF0ZVN3aXBlVG9DbG9zZUdlc3R1cmUgPSAoZWwsIGFuaW1hdGlvbiwgb25EaXNtaXNzKSA9PiB7XG4gIGNvbnN0IGhlaWdodCA9IGVsLm9mZnNldEhlaWdodDtcbiAgbGV0IGlzT3BlbiA9IGZhbHNlO1xuICBjb25zdCBjYW5TdGFydCA9IChkZXRhaWwpID0+IHtcbiAgICBjb25zdCB0YXJnZXQgPSBkZXRhaWwuZXZlbnQudGFyZ2V0O1xuICAgIGlmICh0YXJnZXQgPT09IG51bGwgfHxcbiAgICAgICF0YXJnZXQuY2xvc2VzdCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRPckZvb3RlciA9IHRhcmdldC5jbG9zZXN0KCdpb24tY29udGVudCwgaW9uLWZvb3RlcicpO1xuICAgIGlmIChjb250ZW50T3JGb290ZXIgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBUYXJnZXQgaXMgaW4gdGhlIGNvbnRlbnQgb3IgdGhlIGZvb3RlciBzbyBkbyBub3Qgc3RhcnQgdGhlIGdlc3R1cmUuXG4gICAgLy8gV2UgY291bGQgYmUgbW9yZSBudWFuY2VkIGhlcmUgYW5kIGFsbG93IGl0IGZvciBjb250ZW50IHRoYXRcbiAgICAvLyBkb2VzIG5vdCBuZWVkIHRvIHNjcm9sbC5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG4gIGNvbnN0IG9uU3RhcnQgPSAoKSA9PiB7XG4gICAgYW5pbWF0aW9uLnByb2dyZXNzU3RhcnQodHJ1ZSwgKGlzT3BlbikgPyAxIDogMCk7XG4gIH07XG4gIGNvbnN0IG9uTW92ZSA9IChkZXRhaWwpID0+IHtcbiAgICBjb25zdCBzdGVwID0gY2xhbXAoMC4wMDAxLCBkZXRhaWwuZGVsdGFZIC8gaGVpZ2h0LCAwLjk5OTkpO1xuICAgIGFuaW1hdGlvbi5wcm9ncmVzc1N0ZXAoc3RlcCk7XG4gIH07XG4gIGNvbnN0IG9uRW5kID0gKGRldGFpbCkgPT4ge1xuICAgIGNvbnN0IHZlbG9jaXR5ID0gZGV0YWlsLnZlbG9jaXR5WTtcbiAgICBjb25zdCBzdGVwID0gY2xhbXAoMC4wMDAxLCBkZXRhaWwuZGVsdGFZIC8gaGVpZ2h0LCAwLjk5OTkpO1xuICAgIGNvbnN0IHRocmVzaG9sZCA9IChkZXRhaWwuZGVsdGFZICsgdmVsb2NpdHkgKiAxMDAwKSAvIGhlaWdodDtcbiAgICBjb25zdCBzaG91bGRDb21wbGV0ZSA9IHRocmVzaG9sZCA+PSAwLjU7XG4gICAgbGV0IG5ld1N0ZXBWYWx1ZSA9IChzaG91bGRDb21wbGV0ZSkgPyAtMC4wMDEgOiAwLjAwMTtcbiAgICBpZiAoIXNob3VsZENvbXBsZXRlKSB7XG4gICAgICBhbmltYXRpb24uZWFzaW5nKCdjdWJpYy1iZXppZXIoMSwgMCwgMC42OCwgMC4yOCknKTtcbiAgICAgIG5ld1N0ZXBWYWx1ZSArPSBnZXRUaW1lR2l2ZW5Qcm9ncmVzc2lvbihbMCwgMF0sIFsxLCAwXSwgWzAuNjgsIDAuMjhdLCBbMSwgMV0sIHN0ZXApWzBdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGFuaW1hdGlvbi5lYXNpbmcoJ2N1YmljLWJlemllcigwLjMyLCAwLjcyLCAwLCAxKScpO1xuICAgICAgbmV3U3RlcFZhbHVlICs9IGdldFRpbWVHaXZlblByb2dyZXNzaW9uKFswLCAwXSwgWzAuMzIsIDAuNzJdLCBbMCwgMV0sIFsxLCAxXSwgc3RlcClbMF07XG4gICAgfVxuICAgIGNvbnN0IGR1cmF0aW9uID0gKHNob3VsZENvbXBsZXRlKSA/IGNvbXB1dGVEdXJhdGlvbihzdGVwICogaGVpZ2h0LCB2ZWxvY2l0eSkgOiBjb21wdXRlRHVyYXRpb24oKDEgLSBzdGVwKSAqIGhlaWdodCwgdmVsb2NpdHkpO1xuICAgIGlzT3BlbiA9IHNob3VsZENvbXBsZXRlO1xuICAgIGdlc3R1cmUuZW5hYmxlKGZhbHNlKTtcbiAgICBhbmltYXRpb25cbiAgICAgIC5vbkZpbmlzaCgoKSA9PiB7XG4gICAgICBpZiAoIXNob3VsZENvbXBsZXRlKSB7XG4gICAgICAgIGdlc3R1cmUuZW5hYmxlKHRydWUpO1xuICAgICAgfVxuICAgIH0pXG4gICAgICAucHJvZ3Jlc3NFbmQoKHNob3VsZENvbXBsZXRlKSA/IDEgOiAwLCBuZXdTdGVwVmFsdWUsIGR1cmF0aW9uKTtcbiAgICBpZiAoc2hvdWxkQ29tcGxldGUpIHtcbiAgICAgIG9uRGlzbWlzcygpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgZ2VzdHVyZSA9IGNyZWF0ZUdlc3R1cmUoe1xuICAgIGVsLFxuICAgIGdlc3R1cmVOYW1lOiAnbW9kYWxTd2lwZVRvQ2xvc2UnLFxuICAgIGdlc3R1cmVQcmlvcml0eTogNDAsXG4gICAgZGlyZWN0aW9uOiAneScsXG4gICAgdGhyZXNob2xkOiAxMCxcbiAgICBjYW5TdGFydCxcbiAgICBvblN0YXJ0LFxuICAgIG9uTW92ZSxcbiAgICBvbkVuZFxuICB9KTtcbiAgcmV0dXJuIGdlc3R1cmU7XG59O1xuY29uc3QgY29tcHV0ZUR1cmF0aW9uID0gKHJlbWFpbmluZywgdmVsb2NpdHkpID0+IHtcbiAgcmV0dXJuIGNsYW1wKDQwMCwgcmVtYWluaW5nIC8gTWF0aC5hYnModmVsb2NpdHkgKiAxLjEpLCA1MDApO1xufTtcblxuLyoqXG4gKiBpT1MgTW9kYWwgRW50ZXIgQW5pbWF0aW9uIGZvciB0aGUgQ2FyZCBwcmVzZW50YXRpb24gc3R5bGVcbiAqL1xuY29uc3QgaW9zRW50ZXJBbmltYXRpb24gPSAoYmFzZUVsLCBwcmVzZW50aW5nRWwpID0+IHtcbiAgY29uc3QgYmFja2Ryb3BBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKVxuICAgIC5hZGRFbGVtZW50KGJhc2VFbC5xdWVyeVNlbGVjdG9yKCdpb24tYmFja2Ryb3AnKSlcbiAgICAuZnJvbVRvKCdvcGFjaXR5JywgMC4wMSwgJ3ZhcigtLWJhY2tkcm9wLW9wYWNpdHkpJylcbiAgICAuYmVmb3JlU3R5bGVzKHtcbiAgICAncG9pbnRlci1ldmVudHMnOiAnbm9uZSdcbiAgfSlcbiAgICAuYWZ0ZXJDbGVhclN0eWxlcyhbJ3BvaW50ZXItZXZlbnRzJ10pO1xuICBjb25zdCB3cmFwcGVyQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKClcbiAgICAuYWRkRWxlbWVudChiYXNlRWwucXVlcnlTZWxlY3RvckFsbCgnLm1vZGFsLXdyYXBwZXIsIC5tb2RhbC1zaGFkb3cnKSlcbiAgICAuYmVmb3JlU3R5bGVzKHsgJ29wYWNpdHknOiAxIH0pXG4gICAgLmZyb21UbygndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZVkoMTAwdmgpJywgJ3RyYW5zbGF0ZVkoMHZoKScpO1xuICBjb25zdCBiYXNlQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKClcbiAgICAuYWRkRWxlbWVudChiYXNlRWwpXG4gICAgLmVhc2luZygnY3ViaWMtYmV6aWVyKDAuMzIsMC43MiwwLDEpJylcbiAgICAuZHVyYXRpb24oNTAwKVxuICAgIC5hZGRBbmltYXRpb24od3JhcHBlckFuaW1hdGlvbik7XG4gIGlmIChwcmVzZW50aW5nRWwpIHtcbiAgICBjb25zdCBpc01vYmlsZSA9IHdpbmRvdy5pbm5lcldpZHRoIDwgNzY4O1xuICAgIGNvbnN0IGhhc0NhcmRNb2RhbCA9IChwcmVzZW50aW5nRWwudGFnTmFtZSA9PT0gJ0lPTi1NT0RBTCcgJiYgcHJlc2VudGluZ0VsLnByZXNlbnRpbmdFbGVtZW50ICE9PSB1bmRlZmluZWQpO1xuICAgIGNvbnN0IHByZXNlbnRpbmdBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKVxuICAgICAgLmJlZm9yZVN0eWxlcyh7XG4gICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVkoMCknLFxuICAgICAgJ3RyYW5zZm9ybS1vcmlnaW4nOiAndG9wIGNlbnRlcicsXG4gICAgICAnb3ZlcmZsb3cnOiAnaGlkZGVuJ1xuICAgIH0pO1xuICAgIGNvbnN0IGJvZHlFbCA9IGRvY3VtZW50LmJvZHk7XG4gICAgaWYgKGlzTW9iaWxlKSB7XG4gICAgICAvKipcbiAgICAgICAqIEZhbGxiYWNrIGZvciBicm93c2VycyB0aGF0IGRvZXMgbm90IHN1cHBvcnQgYG1heCgpYCAoZXg6IEZpcmVmb3gpXG4gICAgICAgKiBObyBuZWVkIHRvIHdvcnJ5IGFib3V0IHN0YXR1c2JhciBwYWRkaW5nIHNpbmNlIGVuZ2luZXMgbGlrZSBHZWNrb1xuICAgICAgICogYXJlIG5vdCB1c2VkIGFzIHRoZSBlbmdpbmUgZm9yIHN0YW5kbG9uZSBDb3Jkb3ZhL0NhcGFjaXRvciBhcHBzXG4gICAgICAgKi9cbiAgICAgIGNvbnN0IHRyYW5zZm9ybU9mZnNldCA9ICghQ1NTLnN1cHBvcnRzKCd3aWR0aCcsICdtYXgoMHB4LCAxcHgpJykpID8gJzMwcHgnIDogJ21heCgzMHB4LCB2YXIoLS1pb24tc2FmZS1hcmVhLXRvcCkpJztcbiAgICAgIGNvbnN0IG1vZGFsVHJhbnNmb3JtID0gaGFzQ2FyZE1vZGFsID8gJy0xMHB4JyA6IHRyYW5zZm9ybU9mZnNldDtcbiAgICAgIGNvbnN0IHRvUHJlc2VudGluZ1NjYWxlID0gU3dpcGVUb0Nsb3NlRGVmYXVsdHMuTUlOX1BSRVNFTlRJTkdfU0NBTEU7XG4gICAgICBjb25zdCBmaW5hbFRyYW5zZm9ybSA9IGB0cmFuc2xhdGVZKCR7bW9kYWxUcmFuc2Zvcm19KSBzY2FsZSgke3RvUHJlc2VudGluZ1NjYWxlfSlgO1xuICAgICAgcHJlc2VudGluZ0FuaW1hdGlvblxuICAgICAgICAuYWZ0ZXJTdHlsZXMoe1xuICAgICAgICAndHJhbnNmb3JtJzogZmluYWxUcmFuc2Zvcm1cbiAgICAgIH0pXG4gICAgICAgIC5iZWZvcmVBZGRXcml0ZSgoKSA9PiBib2R5RWwuc3R5bGUuc2V0UHJvcGVydHkoJ2JhY2tncm91bmQtY29sb3InLCAnYmxhY2snKSlcbiAgICAgICAgLmFkZEVsZW1lbnQocHJlc2VudGluZ0VsKVxuICAgICAgICAua2V5ZnJhbWVzKFtcbiAgICAgICAgeyBvZmZzZXQ6IDAsIGZpbHRlcjogJ2NvbnRyYXN0KDEpJywgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgwcHgpIHNjYWxlKDEpJywgYm9yZGVyUmFkaXVzOiAnMHB4JyB9LFxuICAgICAgICB7IG9mZnNldDogMSwgZmlsdGVyOiAnY29udHJhc3QoMC44NSknLCB0cmFuc2Zvcm06IGZpbmFsVHJhbnNmb3JtLCBib3JkZXJSYWRpdXM6ICcxMHB4IDEwcHggMCAwJyB9XG4gICAgICBdKTtcbiAgICAgIGJhc2VBbmltYXRpb24uYWRkQW5pbWF0aW9uKHByZXNlbnRpbmdBbmltYXRpb24pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGJhc2VBbmltYXRpb24uYWRkQW5pbWF0aW9uKGJhY2tkcm9wQW5pbWF0aW9uKTtcbiAgICAgIGlmICghaGFzQ2FyZE1vZGFsKSB7XG4gICAgICAgIHdyYXBwZXJBbmltYXRpb24uZnJvbVRvKCdvcGFjaXR5JywgJzAnLCAnMScpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHRvUHJlc2VudGluZ1NjYWxlID0gKGhhc0NhcmRNb2RhbCkgPyBTd2lwZVRvQ2xvc2VEZWZhdWx0cy5NSU5fUFJFU0VOVElOR19TQ0FMRSA6IDE7XG4gICAgICAgIGNvbnN0IGZpbmFsVHJhbnNmb3JtID0gYHRyYW5zbGF0ZVkoLTEwcHgpIHNjYWxlKCR7dG9QcmVzZW50aW5nU2NhbGV9KWA7XG4gICAgICAgIHByZXNlbnRpbmdBbmltYXRpb25cbiAgICAgICAgICAuYWZ0ZXJTdHlsZXMoe1xuICAgICAgICAgICd0cmFuc2Zvcm0nOiBmaW5hbFRyYW5zZm9ybVxuICAgICAgICB9KVxuICAgICAgICAgIC5hZGRFbGVtZW50KHByZXNlbnRpbmdFbC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtd3JhcHBlcicpKVxuICAgICAgICAgIC5rZXlmcmFtZXMoW1xuICAgICAgICAgIHsgb2Zmc2V0OiAwLCBmaWx0ZXI6ICdjb250cmFzdCgxKScsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoMCkgc2NhbGUoMSknIH0sXG4gICAgICAgICAgeyBvZmZzZXQ6IDEsIGZpbHRlcjogJ2NvbnRyYXN0KDAuODUpJywgdHJhbnNmb3JtOiBmaW5hbFRyYW5zZm9ybSB9XG4gICAgICAgIF0pO1xuICAgICAgICBjb25zdCBzaGFkb3dBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKVxuICAgICAgICAgIC5hZnRlclN0eWxlcyh7XG4gICAgICAgICAgJ3RyYW5zZm9ybSc6IGZpbmFsVHJhbnNmb3JtXG4gICAgICAgIH0pXG4gICAgICAgICAgLmFkZEVsZW1lbnQocHJlc2VudGluZ0VsLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1zaGFkb3cnKSlcbiAgICAgICAgICAua2V5ZnJhbWVzKFtcbiAgICAgICAgICB7IG9mZnNldDogMCwgb3BhY2l0eTogJzEnLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKDApIHNjYWxlKDEpJyB9LFxuICAgICAgICAgIHsgb2Zmc2V0OiAxLCBvcGFjaXR5OiAnMCcsIHRyYW5zZm9ybTogZmluYWxUcmFuc2Zvcm0gfVxuICAgICAgICBdKTtcbiAgICAgICAgYmFzZUFuaW1hdGlvbi5hZGRBbmltYXRpb24oW3ByZXNlbnRpbmdBbmltYXRpb24sIHNoYWRvd0FuaW1hdGlvbl0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBlbHNlIHtcbiAgICBiYXNlQW5pbWF0aW9uLmFkZEFuaW1hdGlvbihiYWNrZHJvcEFuaW1hdGlvbik7XG4gIH1cbiAgcmV0dXJuIGJhc2VBbmltYXRpb247XG59O1xuXG4vKipcbiAqIGlPUyBNb2RhbCBMZWF2ZSBBbmltYXRpb25cbiAqL1xuY29uc3QgaW9zTGVhdmVBbmltYXRpb24gPSAoYmFzZUVsLCBwcmVzZW50aW5nRWwsIGR1cmF0aW9uID0gNTAwKSA9PiB7XG4gIGNvbnN0IGJhY2tkcm9wQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKClcbiAgICAuYWRkRWxlbWVudChiYXNlRWwucXVlcnlTZWxlY3RvcignaW9uLWJhY2tkcm9wJykpXG4gICAgLmZyb21Ubygnb3BhY2l0eScsICd2YXIoLS1iYWNrZHJvcC1vcGFjaXR5KScsIDAuMCk7XG4gIGNvbnN0IHdyYXBwZXJBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKVxuICAgIC5hZGRFbGVtZW50KGJhc2VFbC5xdWVyeVNlbGVjdG9yQWxsKCcubW9kYWwtd3JhcHBlciwgLm1vZGFsLXNoYWRvdycpKVxuICAgIC5iZWZvcmVTdHlsZXMoeyAnb3BhY2l0eSc6IDEgfSlcbiAgICAuZnJvbVRvKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlWSgwdmgpJywgJ3RyYW5zbGF0ZVkoMTAwdmgpJyk7XG4gIGNvbnN0IGJhc2VBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKVxuICAgIC5hZGRFbGVtZW50KGJhc2VFbClcbiAgICAuZWFzaW5nKCdjdWJpYy1iZXppZXIoMC4zMiwwLjcyLDAsMSknKVxuICAgIC5kdXJhdGlvbihkdXJhdGlvbilcbiAgICAuYWRkQW5pbWF0aW9uKHdyYXBwZXJBbmltYXRpb24pO1xuICBpZiAocHJlc2VudGluZ0VsKSB7XG4gICAgY29uc3QgaXNNb2JpbGUgPSB3aW5kb3cuaW5uZXJXaWR0aCA8IDc2ODtcbiAgICBjb25zdCBoYXNDYXJkTW9kYWwgPSAocHJlc2VudGluZ0VsLnRhZ05hbWUgPT09ICdJT04tTU9EQUwnICYmIHByZXNlbnRpbmdFbC5wcmVzZW50aW5nRWxlbWVudCAhPT0gdW5kZWZpbmVkKTtcbiAgICBjb25zdCBwcmVzZW50aW5nQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKClcbiAgICAgIC5iZWZvcmVDbGVhclN0eWxlcyhbJ3RyYW5zZm9ybSddKVxuICAgICAgLmFmdGVyQ2xlYXJTdHlsZXMoWyd0cmFuc2Zvcm0nXSlcbiAgICAgIC5vbkZpbmlzaChjdXJyZW50U3RlcCA9PiB7XG4gICAgICAvLyBvbmx5IHJlc2V0IGJhY2tncm91bmQgY29sb3IgaWYgdGhpcyBpcyB0aGUgbGFzdCBjYXJkLXN0eWxlIG1vZGFsXG4gICAgICBpZiAoY3VycmVudFN0ZXAgIT09IDEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJlc2VudGluZ0VsLnN0eWxlLnNldFByb3BlcnR5KCdvdmVyZmxvdycsICcnKTtcbiAgICAgIGNvbnN0IG51bU1vZGFscyA9IEFycmF5LmZyb20oYm9keUVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lvbi1tb2RhbCcpKS5maWx0ZXIobSA9PiBtLnByZXNlbnRpbmdFbGVtZW50ICE9PSB1bmRlZmluZWQpLmxlbmd0aDtcbiAgICAgIGlmIChudW1Nb2RhbHMgPD0gMSkge1xuICAgICAgICBib2R5RWwuc3R5bGUuc2V0UHJvcGVydHkoJ2JhY2tncm91bmQtY29sb3InLCAnJyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgYm9keUVsID0gZG9jdW1lbnQuYm9keTtcbiAgICBpZiAoaXNNb2JpbGUpIHtcbiAgICAgIGNvbnN0IHRyYW5zZm9ybU9mZnNldCA9ICghQ1NTLnN1cHBvcnRzKCd3aWR0aCcsICdtYXgoMHB4LCAxcHgpJykpID8gJzMwcHgnIDogJ21heCgzMHB4LCB2YXIoLS1pb24tc2FmZS1hcmVhLXRvcCkpJztcbiAgICAgIGNvbnN0IG1vZGFsVHJhbnNmb3JtID0gaGFzQ2FyZE1vZGFsID8gJy0xMHB4JyA6IHRyYW5zZm9ybU9mZnNldDtcbiAgICAgIGNvbnN0IHRvUHJlc2VudGluZ1NjYWxlID0gU3dpcGVUb0Nsb3NlRGVmYXVsdHMuTUlOX1BSRVNFTlRJTkdfU0NBTEU7XG4gICAgICBjb25zdCBmaW5hbFRyYW5zZm9ybSA9IGB0cmFuc2xhdGVZKCR7bW9kYWxUcmFuc2Zvcm19KSBzY2FsZSgke3RvUHJlc2VudGluZ1NjYWxlfSlgO1xuICAgICAgcHJlc2VudGluZ0FuaW1hdGlvblxuICAgICAgICAuYWRkRWxlbWVudChwcmVzZW50aW5nRWwpXG4gICAgICAgIC5rZXlmcmFtZXMoW1xuICAgICAgICB7IG9mZnNldDogMCwgZmlsdGVyOiAnY29udHJhc3QoMC44NSknLCB0cmFuc2Zvcm06IGZpbmFsVHJhbnNmb3JtLCBib3JkZXJSYWRpdXM6ICcxMHB4IDEwcHggMCAwJyB9LFxuICAgICAgICB7IG9mZnNldDogMSwgZmlsdGVyOiAnY29udHJhc3QoMSknLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKDBweCkgc2NhbGUoMSknLCBib3JkZXJSYWRpdXM6ICcwcHgnIH1cbiAgICAgIF0pO1xuICAgICAgYmFzZUFuaW1hdGlvbi5hZGRBbmltYXRpb24ocHJlc2VudGluZ0FuaW1hdGlvbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgYmFzZUFuaW1hdGlvbi5hZGRBbmltYXRpb24oYmFja2Ryb3BBbmltYXRpb24pO1xuICAgICAgaWYgKCFoYXNDYXJkTW9kYWwpIHtcbiAgICAgICAgd3JhcHBlckFuaW1hdGlvbi5mcm9tVG8oJ29wYWNpdHknLCAnMScsICcwJyk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgdG9QcmVzZW50aW5nU2NhbGUgPSAoaGFzQ2FyZE1vZGFsKSA/IFN3aXBlVG9DbG9zZURlZmF1bHRzLk1JTl9QUkVTRU5USU5HX1NDQUxFIDogMTtcbiAgICAgICAgY29uc3QgZmluYWxUcmFuc2Zvcm0gPSBgdHJhbnNsYXRlWSgtMTBweCkgc2NhbGUoJHt0b1ByZXNlbnRpbmdTY2FsZX0pYDtcbiAgICAgICAgcHJlc2VudGluZ0FuaW1hdGlvblxuICAgICAgICAgIC5hZGRFbGVtZW50KHByZXNlbnRpbmdFbC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtd3JhcHBlcicpKVxuICAgICAgICAgIC5hZnRlclN0eWxlcyh7XG4gICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGUzZCgwLCAwLCAwKSdcbiAgICAgICAgfSlcbiAgICAgICAgICAua2V5ZnJhbWVzKFtcbiAgICAgICAgICB7IG9mZnNldDogMCwgZmlsdGVyOiAnY29udHJhc3QoMC44NSknLCB0cmFuc2Zvcm06IGZpbmFsVHJhbnNmb3JtIH0sXG4gICAgICAgICAgeyBvZmZzZXQ6IDEsIGZpbHRlcjogJ2NvbnRyYXN0KDEpJywgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgwKSBzY2FsZSgxKScgfVxuICAgICAgICBdKTtcbiAgICAgICAgY29uc3Qgc2hhZG93QW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKClcbiAgICAgICAgICAuYWRkRWxlbWVudChwcmVzZW50aW5nRWwucXVlcnlTZWxlY3RvcignLm1vZGFsLXNoYWRvdycpKVxuICAgICAgICAgIC5hZnRlclN0eWxlcyh7XG4gICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGVZKDApIHNjYWxlKDEpJ1xuICAgICAgICB9KVxuICAgICAgICAgIC5rZXlmcmFtZXMoW1xuICAgICAgICAgIHsgb2Zmc2V0OiAwLCBvcGFjaXR5OiAnMCcsIHRyYW5zZm9ybTogZmluYWxUcmFuc2Zvcm0gfSxcbiAgICAgICAgICB7IG9mZnNldDogMSwgb3BhY2l0eTogJzEnLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKDApIHNjYWxlKDEpJyB9XG4gICAgICAgIF0pO1xuICAgICAgICBiYXNlQW5pbWF0aW9uLmFkZEFuaW1hdGlvbihbcHJlc2VudGluZ0FuaW1hdGlvbiwgc2hhZG93QW5pbWF0aW9uXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGVsc2Uge1xuICAgIGJhc2VBbmltYXRpb24uYWRkQW5pbWF0aW9uKGJhY2tkcm9wQW5pbWF0aW9uKTtcbiAgfVxuICByZXR1cm4gYmFzZUFuaW1hdGlvbjtcbn07XG5cbi8qKlxuICogTWQgTW9kYWwgRW50ZXIgQW5pbWF0aW9uXG4gKi9cbmNvbnN0IG1kRW50ZXJBbmltYXRpb24gPSAoYmFzZUVsKSA9PiB7XG4gIGNvbnN0IGJhc2VBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgY29uc3QgYmFja2Ryb3BBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgY29uc3Qgd3JhcHBlckFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICBiYWNrZHJvcEFuaW1hdGlvblxuICAgIC5hZGRFbGVtZW50KGJhc2VFbC5xdWVyeVNlbGVjdG9yKCdpb24tYmFja2Ryb3AnKSlcbiAgICAuZnJvbVRvKCdvcGFjaXR5JywgMC4wMSwgJ3ZhcigtLWJhY2tkcm9wLW9wYWNpdHkpJylcbiAgICAuYmVmb3JlU3R5bGVzKHtcbiAgICAncG9pbnRlci1ldmVudHMnOiAnbm9uZSdcbiAgfSlcbiAgICAuYWZ0ZXJDbGVhclN0eWxlcyhbJ3BvaW50ZXItZXZlbnRzJ10pO1xuICB3cmFwcGVyQW5pbWF0aW9uXG4gICAgLmFkZEVsZW1lbnQoYmFzZUVsLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC13cmFwcGVyJykpXG4gICAgLmtleWZyYW1lcyhbXG4gICAgeyBvZmZzZXQ6IDAsIG9wYWNpdHk6IDAuMDEsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoNDBweCknIH0sXG4gICAgeyBvZmZzZXQ6IDEsIG9wYWNpdHk6IDEsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoMHB4KScgfVxuICBdKTtcbiAgcmV0dXJuIGJhc2VBbmltYXRpb25cbiAgICAuYWRkRWxlbWVudChiYXNlRWwpXG4gICAgLmVhc2luZygnY3ViaWMtYmV6aWVyKDAuMzYsMC42NiwwLjA0LDEpJylcbiAgICAuZHVyYXRpb24oMjgwKVxuICAgIC5hZGRBbmltYXRpb24oW2JhY2tkcm9wQW5pbWF0aW9uLCB3cmFwcGVyQW5pbWF0aW9uXSk7XG59O1xuXG4vKipcbiAqIE1kIE1vZGFsIExlYXZlIEFuaW1hdGlvblxuICovXG5jb25zdCBtZExlYXZlQW5pbWF0aW9uID0gKGJhc2VFbCkgPT4ge1xuICBjb25zdCBiYXNlQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gIGNvbnN0IGJhY2tkcm9wQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gIGNvbnN0IHdyYXBwZXJBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgY29uc3Qgd3JhcHBlckVsID0gYmFzZUVsLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC13cmFwcGVyJyk7XG4gIGJhY2tkcm9wQW5pbWF0aW9uXG4gICAgLmFkZEVsZW1lbnQoYmFzZUVsLnF1ZXJ5U2VsZWN0b3IoJ2lvbi1iYWNrZHJvcCcpKVxuICAgIC5mcm9tVG8oJ29wYWNpdHknLCAndmFyKC0tYmFja2Ryb3Atb3BhY2l0eSknLCAwLjApO1xuICB3cmFwcGVyQW5pbWF0aW9uXG4gICAgLmFkZEVsZW1lbnQod3JhcHBlckVsKVxuICAgIC5rZXlmcmFtZXMoW1xuICAgIHsgb2Zmc2V0OiAwLCBvcGFjaXR5OiAwLjk5LCB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKDBweCknIH0sXG4gICAgeyBvZmZzZXQ6IDEsIG9wYWNpdHk6IDAsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoNDBweCknIH1cbiAgXSk7XG4gIHJldHVybiBiYXNlQW5pbWF0aW9uXG4gICAgLmFkZEVsZW1lbnQoYmFzZUVsKVxuICAgIC5lYXNpbmcoJ2N1YmljLWJlemllcigwLjQ3LDAsMC43NDUsMC43MTUpJylcbiAgICAuZHVyYXRpb24oMjAwKVxuICAgIC5hZGRBbmltYXRpb24oW2JhY2tkcm9wQW5pbWF0aW9uLCB3cmFwcGVyQW5pbWF0aW9uXSk7XG59O1xuXG5jb25zdCBtb2RhbElvc0NzcyA9IFwiLnNjLWlvbi1tb2RhbC1pb3MtaHstLXdpZHRoOjEwMCU7LS1taW4td2lkdGg6YXV0bzstLW1heC13aWR0aDphdXRvOy0taGVpZ2h0OjEwMCU7LS1taW4taGVpZ2h0OmF1dG87LS1tYXgtaGVpZ2h0OmF1dG87LS1vdmVyZmxvdzpoaWRkZW47LS1ib3JkZXItcmFkaXVzOjA7LS1ib3JkZXItd2lkdGg6MDstLWJvcmRlci1zdHlsZTpub25lOy0tYm9yZGVyLWNvbG9yOnRyYW5zcGFyZW50Oy0tYmFja2dyb3VuZDp2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvciwgI2ZmZik7LS1ib3gtc2hhZG93Om5vbmU7LS1iYWNrZHJvcC1vcGFjaXR5OjA7bGVmdDowO3JpZ2h0OjA7dG9wOjA7Ym90dG9tOjA7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7cG9zaXRpb246YWJzb2x1dGU7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO291dGxpbmU6bm9uZTtjb250YWluOnN0cmljdH0ub3ZlcmxheS1oaWRkZW4uc2MtaW9uLW1vZGFsLWlvcy1oe2Rpc3BsYXk6bm9uZX0ubW9kYWwtd3JhcHBlci5zYy1pb24tbW9kYWwtaW9zLC5tb2RhbC1zaGFkb3cuc2MtaW9uLW1vZGFsLWlvc3tib3JkZXItcmFkaXVzOnZhcigtLWJvcmRlci1yYWRpdXMpO3dpZHRoOnZhcigtLXdpZHRoKTttaW4td2lkdGg6dmFyKC0tbWluLXdpZHRoKTttYXgtd2lkdGg6dmFyKC0tbWF4LXdpZHRoKTtoZWlnaHQ6dmFyKC0taGVpZ2h0KTttaW4taGVpZ2h0OnZhcigtLW1pbi1oZWlnaHQpO21heC1oZWlnaHQ6dmFyKC0tbWF4LWhlaWdodCk7Ym9yZGVyLXdpZHRoOnZhcigtLWJvcmRlci13aWR0aCk7Ym9yZGVyLXN0eWxlOnZhcigtLWJvcmRlci1zdHlsZSk7Ym9yZGVyLWNvbG9yOnZhcigtLWJvcmRlci1jb2xvcik7YmFja2dyb3VuZDp2YXIoLS1iYWNrZ3JvdW5kKTstd2Via2l0LWJveC1zaGFkb3c6dmFyKC0tYm94LXNoYWRvdyk7Ym94LXNoYWRvdzp2YXIoLS1ib3gtc2hhZG93KTtvdmVyZmxvdzp2YXIoLS1vdmVyZmxvdyk7ei1pbmRleDoxMH0ubW9kYWwtc2hhZG93LnNjLWlvbi1tb2RhbC1pb3N7cG9zaXRpb246YWJzb2x1dGU7YmFja2dyb3VuZDp0cmFuc3BhcmVudH1AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDc2OHB4KSBhbmQgKG1pbi1oZWlnaHQ6IDYwMHB4KXsuc2MtaW9uLW1vZGFsLWlvcy1oey0td2lkdGg6NjAwcHg7LS1oZWlnaHQ6NTAwcHg7LS1pb24tc2FmZS1hcmVhLXRvcDowcHg7LS1pb24tc2FmZS1hcmVhLWJvdHRvbTowcHg7LS1pb24tc2FmZS1hcmVhLXJpZ2h0OjBweDstLWlvbi1zYWZlLWFyZWEtbGVmdDowcHh9fUBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNzY4cHgpIGFuZCAobWluLWhlaWdodDogNzY4cHgpey5zYy1pb24tbW9kYWwtaW9zLWh7LS13aWR0aDo2MDBweDstLWhlaWdodDo2MDBweH19LnNjLWlvbi1tb2RhbC1pb3MtaDpmaXJzdC1vZi10eXBley0tYmFja2Ryb3Atb3BhY2l0eTp2YXIoLS1pb24tYmFja2Ryb3Atb3BhY2l0eSwgMC40KX1AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDc2OHB4KSBhbmQgKG1pbi1oZWlnaHQ6IDYwMHB4KXsuc2MtaW9uLW1vZGFsLWlvcy1oey0tYm9yZGVyLXJhZGl1czoxMHB4fX0ubW9kYWwtd3JhcHBlci5zYy1pb24tbW9kYWwtaW9zey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsICAxMDAlLCAgMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsICAxMDAlLCAgMCl9QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogNzY3cHgpe0BzdXBwb3J0cyAod2lkdGg6IG1heCgwcHgsIDFweCkpey5tb2RhbC1jYXJkLnNjLWlvbi1tb2RhbC1pb3MtaHstLWhlaWdodDpjYWxjKDEwMCUgLSBtYXgoMzBweCwgdmFyKC0taW9uLXNhZmUtYXJlYS10b3ApKSAtIDEwcHgpfX1Ac3VwcG9ydHMgbm90ICh3aWR0aDogbWF4KDBweCwgMXB4KSl7Lm1vZGFsLWNhcmQuc2MtaW9uLW1vZGFsLWlvcy1oey0taGVpZ2h0OmNhbGMoMTAwJSAtIDQwcHgpfX0ubW9kYWwtY2FyZC5zYy1pb24tbW9kYWwtaW9zLWggLm1vZGFsLXdyYXBwZXIuc2MtaW9uLW1vZGFsLWlvc3tib3JkZXItdG9wLWxlZnQtcmFkaXVzOjEwcHg7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MTBweDtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czowO2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6MH1bZGlyPXJ0bF0uc2MtaW9uLW1vZGFsLWlvcy1oIC1uby1jb21iaW5hdG9yLm1vZGFsLWNhcmQuc2MtaW9uLW1vZGFsLWlvcy1oIC5tb2RhbC13cmFwcGVyLnNjLWlvbi1tb2RhbC1pb3MsW2Rpcj1ydGxdIC5zYy1pb24tbW9kYWwtaW9zLWggLW5vLWNvbWJpbmF0b3IubW9kYWwtY2FyZC5zYy1pb24tbW9kYWwtaW9zLWggLm1vZGFsLXdyYXBwZXIuc2MtaW9uLW1vZGFsLWlvcyxbZGlyPXJ0bF0ubW9kYWwtY2FyZC5zYy1pb24tbW9kYWwtaW9zLWggLm1vZGFsLXdyYXBwZXIuc2MtaW9uLW1vZGFsLWlvcyxbZGlyPXJ0bF0gLm1vZGFsLWNhcmQuc2MtaW9uLW1vZGFsLWlvcy1oIC5tb2RhbC13cmFwcGVyLnNjLWlvbi1tb2RhbC1pb3N7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czoxMHB4O2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjEwcHg7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6MDtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjB9Lm1vZGFsLWNhcmQuc2MtaW9uLW1vZGFsLWlvcy1oey0tYmFja2Ryb3Atb3BhY2l0eTowOy0td2lkdGg6MTAwJTstbXMtZmxleC1hbGlnbjplbmQ7YWxpZ24taXRlbXM6ZmxleC1lbmR9Lm1vZGFsLWNhcmQuc2MtaW9uLW1vZGFsLWlvcy1oIC5tb2RhbC1zaGFkb3cuc2MtaW9uLW1vZGFsLWlvc3tkaXNwbGF5Om5vbmV9Lm1vZGFsLWNhcmQuc2MtaW9uLW1vZGFsLWlvcy1oIGlvbi1iYWNrZHJvcC5zYy1pb24tbW9kYWwtaW9ze3BvaW50ZXItZXZlbnRzOm5vbmV9fUBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDc2OHB4KXsubW9kYWwtY2FyZC5zYy1pb24tbW9kYWwtaW9zLWh7LS13aWR0aDpjYWxjKDEwMCUgLSAxMjBweCk7LS1oZWlnaHQ6Y2FsYygxMDAlIC0gKDEyMHB4ICsgdmFyKC0taW9uLXNhZmUtYXJlYS10b3ApICsgdmFyKC0taW9uLXNhZmUtYXJlYS1ib3R0b20pKSk7LS1tYXgtd2lkdGg6NzIwcHg7LS1tYXgtaGVpZ2h0OjEwMDBweH0ubW9kYWwtY2FyZC5zYy1pb24tbW9kYWwtaW9zLWh7LS1iYWNrZHJvcC1vcGFjaXR5OjA7LXdlYmtpdC10cmFuc2l0aW9uOmFsbCAwLjVzIGVhc2UtaW4tb3V0O3RyYW5zaXRpb246YWxsIDAuNXMgZWFzZS1pbi1vdXR9Lm1vZGFsLWNhcmQuc2MtaW9uLW1vZGFsLWlvcy1oOmZpcnN0LW9mLXR5cGV7LS1iYWNrZHJvcC1vcGFjaXR5OjAuMTh9Lm1vZGFsLWNhcmQuc2MtaW9uLW1vZGFsLWlvcy1oIC5tb2RhbC1zaGFkb3cuc2MtaW9uLW1vZGFsLWlvc3std2Via2l0LWJveC1zaGFkb3c6MHB4IDBweCAzMHB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpO2JveC1zaGFkb3c6MHB4IDBweCAzMHB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpfX1cIjtcblxuY29uc3QgbW9kYWxNZENzcyA9IFwiLnNjLWlvbi1tb2RhbC1tZC1oey0td2lkdGg6MTAwJTstLW1pbi13aWR0aDphdXRvOy0tbWF4LXdpZHRoOmF1dG87LS1oZWlnaHQ6MTAwJTstLW1pbi1oZWlnaHQ6YXV0bzstLW1heC1oZWlnaHQ6YXV0bzstLW92ZXJmbG93OmhpZGRlbjstLWJvcmRlci1yYWRpdXM6MDstLWJvcmRlci13aWR0aDowOy0tYm9yZGVyLXN0eWxlOm5vbmU7LS1ib3JkZXItY29sb3I6dHJhbnNwYXJlbnQ7LS1iYWNrZ3JvdW5kOnZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLCAjZmZmKTstLWJveC1zaGFkb3c6bm9uZTstLWJhY2tkcm9wLW9wYWNpdHk6MDtsZWZ0OjA7cmlnaHQ6MDt0b3A6MDtib3R0b206MDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjphYnNvbHV0ZTstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7b3V0bGluZTpub25lO2NvbnRhaW46c3RyaWN0fS5vdmVybGF5LWhpZGRlbi5zYy1pb24tbW9kYWwtbWQtaHtkaXNwbGF5Om5vbmV9Lm1vZGFsLXdyYXBwZXIuc2MtaW9uLW1vZGFsLW1kLC5tb2RhbC1zaGFkb3cuc2MtaW9uLW1vZGFsLW1ke2JvcmRlci1yYWRpdXM6dmFyKC0tYm9yZGVyLXJhZGl1cyk7d2lkdGg6dmFyKC0td2lkdGgpO21pbi13aWR0aDp2YXIoLS1taW4td2lkdGgpO21heC13aWR0aDp2YXIoLS1tYXgtd2lkdGgpO2hlaWdodDp2YXIoLS1oZWlnaHQpO21pbi1oZWlnaHQ6dmFyKC0tbWluLWhlaWdodCk7bWF4LWhlaWdodDp2YXIoLS1tYXgtaGVpZ2h0KTtib3JkZXItd2lkdGg6dmFyKC0tYm9yZGVyLXdpZHRoKTtib3JkZXItc3R5bGU6dmFyKC0tYm9yZGVyLXN0eWxlKTtib3JkZXItY29sb3I6dmFyKC0tYm9yZGVyLWNvbG9yKTtiYWNrZ3JvdW5kOnZhcigtLWJhY2tncm91bmQpOy13ZWJraXQtYm94LXNoYWRvdzp2YXIoLS1ib3gtc2hhZG93KTtib3gtc2hhZG93OnZhcigtLWJveC1zaGFkb3cpO292ZXJmbG93OnZhcigtLW92ZXJmbG93KTt6LWluZGV4OjEwfS5tb2RhbC1zaGFkb3cuc2MtaW9uLW1vZGFsLW1ke3Bvc2l0aW9uOmFic29sdXRlO2JhY2tncm91bmQ6dHJhbnNwYXJlbnR9QG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA3NjhweCkgYW5kIChtaW4taGVpZ2h0OiA2MDBweCl7LnNjLWlvbi1tb2RhbC1tZC1oey0td2lkdGg6NjAwcHg7LS1oZWlnaHQ6NTAwcHg7LS1pb24tc2FmZS1hcmVhLXRvcDowcHg7LS1pb24tc2FmZS1hcmVhLWJvdHRvbTowcHg7LS1pb24tc2FmZS1hcmVhLXJpZ2h0OjBweDstLWlvbi1zYWZlLWFyZWEtbGVmdDowcHh9fUBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNzY4cHgpIGFuZCAobWluLWhlaWdodDogNzY4cHgpey5zYy1pb24tbW9kYWwtbWQtaHstLXdpZHRoOjYwMHB4Oy0taGVpZ2h0OjYwMHB4fX0uc2MtaW9uLW1vZGFsLW1kLWg6Zmlyc3Qtb2YtdHlwZXstLWJhY2tkcm9wLW9wYWNpdHk6dmFyKC0taW9uLWJhY2tkcm9wLW9wYWNpdHksIDAuMzIpfUBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNzY4cHgpIGFuZCAobWluLWhlaWdodDogNjAwcHgpey5zYy1pb24tbW9kYWwtbWQtaHstLWJvcmRlci1yYWRpdXM6MnB4fS5zYy1pb24tbW9kYWwtbWQtaDpmaXJzdC1vZi10eXBley0tYm94LXNoYWRvdzowIDI4cHggNDhweCByZ2JhKDAsIDAsIDAsIDAuNCl9fS5tb2RhbC13cmFwcGVyLnNjLWlvbi1tb2RhbC1tZHstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLCAgNDBweCwgIDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLCAgNDBweCwgIDApO29wYWNpdHk6MC4wMX1cIjtcblxuY29uc3QgTW9kYWwgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGhvc3RSZWYpIHtcbiAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xuICAgIHRoaXMuZGlkUHJlc2VudCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiaW9uTW9kYWxEaWRQcmVzZW50XCIsIDcpO1xuICAgIHRoaXMud2lsbFByZXNlbnQgPSBjcmVhdGVFdmVudCh0aGlzLCBcImlvbk1vZGFsV2lsbFByZXNlbnRcIiwgNyk7XG4gICAgdGhpcy53aWxsRGlzbWlzcyA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiaW9uTW9kYWxXaWxsRGlzbWlzc1wiLCA3KTtcbiAgICB0aGlzLmRpZERpc21pc3MgPSBjcmVhdGVFdmVudCh0aGlzLCBcImlvbk1vZGFsRGlkRGlzbWlzc1wiLCA3KTtcbiAgICAvLyBXaGV0aGVyIG9yIG5vdCBtb2RhbCBpcyBiZWluZyBkaXNtaXNzZWQgdmlhIGdlc3R1cmVcbiAgICB0aGlzLmdlc3R1cmVBbmltYXRpb25EaXNtaXNzaW5nID0gZmFsc2U7XG4gICAgdGhpcy5wcmVzZW50ZWQgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBJZiBgdHJ1ZWAsIHRoZSBrZXlib2FyZCB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgZGlzbWlzc2VkIHdoZW4gdGhlIG92ZXJsYXkgaXMgcHJlc2VudGVkLlxuICAgICAqL1xuICAgIHRoaXMua2V5Ym9hcmRDbG9zZSA9IHRydWU7XG4gICAgLyoqXG4gICAgICogSWYgYHRydWVgLCB0aGUgbW9kYWwgd2lsbCBiZSBkaXNtaXNzZWQgd2hlbiB0aGUgYmFja2Ryb3AgaXMgY2xpY2tlZC5cbiAgICAgKi9cbiAgICB0aGlzLmJhY2tkcm9wRGlzbWlzcyA9IHRydWU7XG4gICAgLyoqXG4gICAgICogSWYgYHRydWVgLCBhIGJhY2tkcm9wIHdpbGwgYmUgZGlzcGxheWVkIGJlaGluZCB0aGUgbW9kYWwuXG4gICAgICovXG4gICAgdGhpcy5zaG93QmFja2Ryb3AgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgdGhlIG1vZGFsIHdpbGwgYW5pbWF0ZS5cbiAgICAgKi9cbiAgICB0aGlzLmFuaW1hdGVkID0gdHJ1ZTtcbiAgICAvKipcbiAgICAgKiBJZiBgdHJ1ZWAsIHRoZSBtb2RhbCBjYW4gYmUgc3dpcGVkIHRvIGRpc21pc3MuIE9ubHkgYXBwbGllcyBpbiBpT1MgbW9kZS5cbiAgICAgKi9cbiAgICB0aGlzLnN3aXBlVG9DbG9zZSA9IGZhbHNlO1xuICAgIHRoaXMub25CYWNrZHJvcFRhcCA9ICgpID0+IHtcbiAgICAgIHRoaXMuZGlzbWlzcyh1bmRlZmluZWQsIEJBQ0tEUk9QKTtcbiAgICB9O1xuICAgIHRoaXMub25EaXNtaXNzID0gKGV2KSA9PiB7XG4gICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLmRpc21pc3MoKTtcbiAgICB9O1xuICAgIHRoaXMub25MaWZlY3ljbGUgPSAobW9kYWxFdmVudCkgPT4ge1xuICAgICAgY29uc3QgZWwgPSB0aGlzLnVzZXJzRWxlbWVudDtcbiAgICAgIGNvbnN0IG5hbWUgPSBMSUZFQ1lDTEVfTUFQW21vZGFsRXZlbnQudHlwZV07XG4gICAgICBpZiAoZWwgJiYgbmFtZSkge1xuICAgICAgICBjb25zdCBldiA9IG5ldyBDdXN0b21FdmVudChuYW1lLCB7XG4gICAgICAgICAgYnViYmxlczogZmFsc2UsXG4gICAgICAgICAgY2FuY2VsYWJsZTogZmFsc2UsXG4gICAgICAgICAgZGV0YWlsOiBtb2RhbEV2ZW50LmRldGFpbFxuICAgICAgICB9KTtcbiAgICAgICAgZWwuZGlzcGF0Y2hFdmVudChldik7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBzd2lwZVRvQ2xvc2VDaGFuZ2VkKGVuYWJsZSkge1xuICAgIGlmICh0aGlzLmdlc3R1cmUpIHtcbiAgICAgIHRoaXMuZ2VzdHVyZS5lbmFibGUoZW5hYmxlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZW5hYmxlKSB7XG4gICAgICB0aGlzLmluaXRTd2lwZVRvQ2xvc2UoKTtcbiAgICB9XG4gIH1cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgcHJlcGFyZU92ZXJsYXkodGhpcy5lbCk7XG4gIH1cbiAgLyoqXG4gICAqIFByZXNlbnQgdGhlIG1vZGFsIG92ZXJsYXkgYWZ0ZXIgaXQgaGFzIGJlZW4gY3JlYXRlZC5cbiAgICovXG4gIGFzeW5jIHByZXNlbnQoKSB7XG4gICAgaWYgKHRoaXMucHJlc2VudGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcihgLm1vZGFsLXdyYXBwZXJgKTtcbiAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb250YWluZXIgaXMgdW5kZWZpbmVkJyk7XG4gICAgfVxuICAgIGNvbnN0IGNvbXBvbmVudFByb3BzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB0aGlzLmNvbXBvbmVudFByb3BzKSwgeyBtb2RhbDogdGhpcy5lbCB9KTtcbiAgICB0aGlzLnVzZXJzRWxlbWVudCA9IGF3YWl0IGF0dGFjaENvbXBvbmVudCh0aGlzLmRlbGVnYXRlLCBjb250YWluZXIsIHRoaXMuY29tcG9uZW50LCBbJ2lvbi1wYWdlJ10sIGNvbXBvbmVudFByb3BzKTtcbiAgICBhd2FpdCBkZWVwUmVhZHkodGhpcy51c2Vyc0VsZW1lbnQpO1xuICAgIHdyaXRlVGFzaygoKSA9PiB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ3Nob3ctbW9kYWwnKSk7XG4gICAgYXdhaXQgcHJlc2VudCh0aGlzLCAnbW9kYWxFbnRlcicsIGlvc0VudGVyQW5pbWF0aW9uLCBtZEVudGVyQW5pbWF0aW9uLCB0aGlzLnByZXNlbnRpbmdFbGVtZW50KTtcbiAgICBpZiAodGhpcy5zd2lwZVRvQ2xvc2UpIHtcbiAgICAgIHRoaXMuaW5pdFN3aXBlVG9DbG9zZSgpO1xuICAgIH1cbiAgfVxuICBpbml0U3dpcGVUb0Nsb3NlKCkge1xuICAgIGlmIChnZXRJb25Nb2RlKHRoaXMpICE9PSAnaW9zJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBBbGwgb2YgdGhlIGVsZW1lbnRzIG5lZWRlZCBmb3IgdGhlIHN3aXBlIGdlc3R1cmVcbiAgICAvLyBzaG91bGQgYmUgaW4gdGhlIERPTSBhbmQgcmVmZXJlbmNlZCBieSBub3csIGV4Y2VwdFxuICAgIC8vIGZvciB0aGUgcHJlc2VudGluZyBlbFxuICAgIGNvbnN0IGFuaW1hdGlvbkJ1aWxkZXIgPSB0aGlzLmxlYXZlQW5pbWF0aW9uIHx8IGNvbmZpZy5nZXQoJ21vZGFsTGVhdmUnLCBpb3NMZWF2ZUFuaW1hdGlvbik7XG4gICAgY29uc3QgYW5pID0gdGhpcy5hbmltYXRpb24gPSBhbmltYXRpb25CdWlsZGVyKHRoaXMuZWwsIHRoaXMucHJlc2VudGluZ0VsZW1lbnQpO1xuICAgIHRoaXMuZ2VzdHVyZSA9IGNyZWF0ZVN3aXBlVG9DbG9zZUdlc3R1cmUodGhpcy5lbCwgYW5pLCAoKSA9PiB7XG4gICAgICAvKipcbiAgICAgICAqIFdoaWxlIHRoZSBnZXN0dXJlIGFuaW1hdGlvbiBpcyBmaW5pc2hpbmdcbiAgICAgICAqIGl0IGlzIHBvc3NpYmxlIGZvciBhIHVzZXIgdG8gdGFwIHRoZSBiYWNrZHJvcC5cbiAgICAgICAqIFRoaXMgd291bGQgcmVzdWx0IGluIHRoZSBkaXNtaXNzIGFuaW1hdGlvblxuICAgICAgICogYmVpbmcgcGxheWVkIGFnYWluLiBUeXBpY2FsbHkgdGhpcyBpcyBhdm9pZGVkXG4gICAgICAgKiBieSBzZXR0aW5nIGBwcmVzZW50ZWQgPSBmYWxzZWAgb24gdGhlIG92ZXJsYXlcbiAgICAgICAqIGNvbXBvbmVudDsgaG93ZXZlciwgd2UgY2Fubm90IGRvIHRoYXQgaGVyZSBhc1xuICAgICAgICogdGhhdCB3b3VsZCBwcmV2ZW50IHRoZSBlbGVtZW50IGZyb20gYmVpbmdcbiAgICAgICAqIHJlbW92ZWQgZnJvbSB0aGUgRE9NLlxuICAgICAgICovXG4gICAgICB0aGlzLmdlc3R1cmVBbmltYXRpb25EaXNtaXNzaW5nID0gdHJ1ZTtcbiAgICAgIHRoaXMuYW5pbWF0aW9uLm9uRmluaXNoKGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5kaXNtaXNzKHVuZGVmaW5lZCwgJ2dlc3R1cmUnKTtcbiAgICAgICAgdGhpcy5nZXN0dXJlQW5pbWF0aW9uRGlzbWlzc2luZyA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5nZXN0dXJlLmVuYWJsZSh0cnVlKTtcbiAgfVxuICAvKipcbiAgICogRGlzbWlzcyB0aGUgbW9kYWwgb3ZlcmxheSBhZnRlciBpdCBoYXMgYmVlbiBwcmVzZW50ZWQuXG4gICAqXG4gICAqIEBwYXJhbSBkYXRhIEFueSBkYXRhIHRvIGVtaXQgaW4gdGhlIGRpc21pc3MgZXZlbnRzLlxuICAgKiBAcGFyYW0gcm9sZSBUaGUgcm9sZSBvZiB0aGUgZWxlbWVudCB0aGF0IGlzIGRpc21pc3NpbmcgdGhlIG1vZGFsLiBGb3IgZXhhbXBsZSwgJ2NhbmNlbCcgb3IgJ2JhY2tkcm9wJy5cbiAgICovXG4gIGFzeW5jIGRpc21pc3MoZGF0YSwgcm9sZSkge1xuICAgIGlmICh0aGlzLmdlc3R1cmVBbmltYXRpb25EaXNtaXNzaW5nICYmIHJvbGUgIT09ICdnZXN0dXJlJykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBlbnRlcmluZ0FuaW1hdGlvbiA9IGFjdGl2ZUFuaW1hdGlvbnMuZ2V0KHRoaXMpIHx8IFtdO1xuICAgIGNvbnN0IGRpc21pc3NlZCA9IGF3YWl0IGRpc21pc3ModGhpcywgZGF0YSwgcm9sZSwgJ21vZGFsTGVhdmUnLCBpb3NMZWF2ZUFuaW1hdGlvbiwgbWRMZWF2ZUFuaW1hdGlvbiwgdGhpcy5wcmVzZW50aW5nRWxlbWVudCk7XG4gICAgaWYgKGRpc21pc3NlZCkge1xuICAgICAgYXdhaXQgZGV0YWNoQ29tcG9uZW50KHRoaXMuZGVsZWdhdGUsIHRoaXMudXNlcnNFbGVtZW50KTtcbiAgICAgIGlmICh0aGlzLmFuaW1hdGlvbikge1xuICAgICAgICB0aGlzLmFuaW1hdGlvbi5kZXN0cm95KCk7XG4gICAgICB9XG4gICAgICBlbnRlcmluZ0FuaW1hdGlvbi5mb3JFYWNoKGFuaSA9PiBhbmkuZGVzdHJveSgpKTtcbiAgICB9XG4gICAgdGhpcy5hbmltYXRpb24gPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIGRpc21pc3NlZDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBtb2RhbCBkaWQgZGlzbWlzcy5cbiAgICovXG4gIG9uRGlkRGlzbWlzcygpIHtcbiAgICByZXR1cm4gZXZlbnRNZXRob2QodGhpcy5lbCwgJ2lvbk1vZGFsRGlkRGlzbWlzcycpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIG1vZGFsIHdpbGwgZGlzbWlzcy5cbiAgICovXG4gIG9uV2lsbERpc21pc3MoKSB7XG4gICAgcmV0dXJuIGV2ZW50TWV0aG9kKHRoaXMuZWwsICdpb25Nb2RhbFdpbGxEaXNtaXNzJyk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IG1vZGUgPSBnZXRJb25Nb2RlKHRoaXMpO1xuICAgIHJldHVybiAoaChIb3N0LCB7IFwibm8tcm91dGVyXCI6IHRydWUsIFwiYXJpYS1tb2RhbFwiOiBcInRydWVcIiwgdGFiaW5kZXg6IFwiLTFcIiwgY2xhc3M6IE9iamVjdC5hc3NpZ24oeyBbbW9kZV06IHRydWUsIFtgbW9kYWwtY2FyZGBdOiB0aGlzLnByZXNlbnRpbmdFbGVtZW50ICE9PSB1bmRlZmluZWQgJiYgbW9kZSA9PT0gJ2lvcycgfSwgZ2V0Q2xhc3NNYXAodGhpcy5jc3NDbGFzcykpLCBzdHlsZToge1xuICAgICAgICB6SW5kZXg6IGAkezIwMDAwICsgdGhpcy5vdmVybGF5SW5kZXh9YCxcbiAgICAgIH0sIG9uSW9uQmFja2Ryb3BUYXA6IHRoaXMub25CYWNrZHJvcFRhcCwgb25Jb25EaXNtaXNzOiB0aGlzLm9uRGlzbWlzcywgb25Jb25Nb2RhbERpZFByZXNlbnQ6IHRoaXMub25MaWZlY3ljbGUsIG9uSW9uTW9kYWxXaWxsUHJlc2VudDogdGhpcy5vbkxpZmVjeWNsZSwgb25Jb25Nb2RhbFdpbGxEaXNtaXNzOiB0aGlzLm9uTGlmZWN5Y2xlLCBvbklvbk1vZGFsRGlkRGlzbWlzczogdGhpcy5vbkxpZmVjeWNsZSB9LCBoKFwiaW9uLWJhY2tkcm9wXCIsIHsgdmlzaWJsZTogdGhpcy5zaG93QmFja2Ryb3AsIHRhcHBhYmxlOiB0aGlzLmJhY2tkcm9wRGlzbWlzcyB9KSwgbW9kZSA9PT0gJ2lvcycgJiYgaChcImRpdlwiLCB7IGNsYXNzOiBcIm1vZGFsLXNoYWRvd1wiIH0pLCBoKFwiZGl2XCIsIHsgdGFiaW5kZXg6IFwiMFwiIH0pLCBoKFwiZGl2XCIsIHsgcm9sZTogXCJkaWFsb2dcIiwgY2xhc3M6IFwibW9kYWwtd3JhcHBlciBpb24tb3ZlcmxheS13cmFwcGVyXCIgfSksIGgoXCJkaXZcIiwgeyB0YWJpbmRleDogXCIwXCIgfSkpKTtcbiAgfVxuICBnZXQgZWwoKSB7IHJldHVybiBnZXRFbGVtZW50KHRoaXMpOyB9XG4gIHN0YXRpYyBnZXQgd2F0Y2hlcnMoKSB7IHJldHVybiB7XG4gICAgXCJzd2lwZVRvQ2xvc2VcIjogW1wic3dpcGVUb0Nsb3NlQ2hhbmdlZFwiXVxuICB9OyB9XG59O1xuY29uc3QgTElGRUNZQ0xFX01BUCA9IHtcbiAgJ2lvbk1vZGFsRGlkUHJlc2VudCc6ICdpb25WaWV3RGlkRW50ZXInLFxuICAnaW9uTW9kYWxXaWxsUHJlc2VudCc6ICdpb25WaWV3V2lsbEVudGVyJyxcbiAgJ2lvbk1vZGFsV2lsbERpc21pc3MnOiAnaW9uVmlld1dpbGxMZWF2ZScsXG4gICdpb25Nb2RhbERpZERpc21pc3MnOiAnaW9uVmlld0RpZExlYXZlJyxcbn07XG5Nb2RhbC5zdHlsZSA9IHtcbiAgaW9zOiBtb2RhbElvc0NzcyxcbiAgbWQ6IG1vZGFsTWRDc3Ncbn07XG5cbmV4cG9ydCB7IE1vZGFsIGFzIGlvbl9tb2RhbCB9O1xuIl0sIm5hbWVzIjpbInIiLCJyZWdpc3Rlckluc3RhbmNlIiwiZSIsImNyZWF0ZUV2ZW50IiwiYyIsIndyaXRlVGFzayIsImgiLCJIIiwiSG9zdCIsImkiLCJnZXRFbGVtZW50IiwiYiIsImdldElvbk1vZGUiLCJjb25maWciLCJhIiwiYXR0YWNoQ29tcG9uZW50IiwiZCIsImRldGFjaENvbXBvbmVudCIsIkIiLCJCQUNLRFJPUCIsInByZXBhcmVPdmVybGF5IiwicHJlc2VudCIsImFjdGl2ZUFuaW1hdGlvbnMiLCJmIiwiZGlzbWlzcyIsImciLCJldmVudE1ldGhvZCIsImdldENsYXNzTWFwIiwiZGVlcFJlYWR5IiwiY3JlYXRlQW5pbWF0aW9uIiwiZ2V0VGltZUdpdmVuUHJvZ3Jlc3Npb24iLCJjcmVhdGVHZXN0dXJlIiwiaiIsImNsYW1wIiwiU3dpcGVUb0Nsb3NlRGVmYXVsdHMiLCJNSU5fUFJFU0VOVElOR19TQ0FMRSIsImNyZWF0ZVN3aXBlVG9DbG9zZUdlc3R1cmUiLCJlbCIsImFuaW1hdGlvbiIsIm9uRGlzbWlzcyIsImhlaWdodCIsIm9mZnNldEhlaWdodCIsImlzT3BlbiIsImNhblN0YXJ0IiwiZGV0YWlsIiwidGFyZ2V0IiwiZXZlbnQiLCJjbG9zZXN0IiwiY29udGVudE9yRm9vdGVyIiwib25TdGFydCIsInByb2dyZXNzU3RhcnQiLCJvbk1vdmUiLCJzdGVwIiwiZGVsdGFZIiwicHJvZ3Jlc3NTdGVwIiwib25FbmQiLCJ2ZWxvY2l0eSIsInZlbG9jaXR5WSIsInRocmVzaG9sZCIsInNob3VsZENvbXBsZXRlIiwibmV3U3RlcFZhbHVlIiwiZWFzaW5nIiwiZHVyYXRpb24iLCJjb21wdXRlRHVyYXRpb24iLCJnZXN0dXJlIiwiZW5hYmxlIiwib25GaW5pc2giLCJwcm9ncmVzc0VuZCIsImdlc3R1cmVOYW1lIiwiZ2VzdHVyZVByaW9yaXR5IiwiZGlyZWN0aW9uIiwicmVtYWluaW5nIiwiTWF0aCIsImFicyIsImlvc0VudGVyQW5pbWF0aW9uIiwiYmFzZUVsIiwicHJlc2VudGluZ0VsIiwiYmFja2Ryb3BBbmltYXRpb24iLCJhZGRFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImZyb21UbyIsImJlZm9yZVN0eWxlcyIsImFmdGVyQ2xlYXJTdHlsZXMiLCJ3cmFwcGVyQW5pbWF0aW9uIiwicXVlcnlTZWxlY3RvckFsbCIsImJhc2VBbmltYXRpb24iLCJhZGRBbmltYXRpb24iLCJpc01vYmlsZSIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJoYXNDYXJkTW9kYWwiLCJ0YWdOYW1lIiwicHJlc2VudGluZ0VsZW1lbnQiLCJ1bmRlZmluZWQiLCJwcmVzZW50aW5nQW5pbWF0aW9uIiwiYm9keUVsIiwiZG9jdW1lbnQiLCJib2R5IiwidHJhbnNmb3JtT2Zmc2V0IiwiQ1NTIiwic3VwcG9ydHMiLCJtb2RhbFRyYW5zZm9ybSIsInRvUHJlc2VudGluZ1NjYWxlIiwiZmluYWxUcmFuc2Zvcm0iLCJhZnRlclN0eWxlcyIsImJlZm9yZUFkZFdyaXRlIiwic3R5bGUiLCJzZXRQcm9wZXJ0eSIsImtleWZyYW1lcyIsIm9mZnNldCIsImZpbHRlciIsInRyYW5zZm9ybSIsImJvcmRlclJhZGl1cyIsInNoYWRvd0FuaW1hdGlvbiIsIm9wYWNpdHkiLCJpb3NMZWF2ZUFuaW1hdGlvbiIsImJlZm9yZUNsZWFyU3R5bGVzIiwiY3VycmVudFN0ZXAiLCJudW1Nb2RhbHMiLCJBcnJheSIsImZyb20iLCJtIiwibGVuZ3RoIiwibWRFbnRlckFuaW1hdGlvbiIsIm1kTGVhdmVBbmltYXRpb24iLCJ3cmFwcGVyRWwiLCJtb2RhbElvc0NzcyIsIm1vZGFsTWRDc3MiLCJNb2RhbCIsImNvbnN0cnVjdG9yIiwiaG9zdFJlZiIsImRpZFByZXNlbnQiLCJ3aWxsUHJlc2VudCIsIndpbGxEaXNtaXNzIiwiZGlkRGlzbWlzcyIsImdlc3R1cmVBbmltYXRpb25EaXNtaXNzaW5nIiwicHJlc2VudGVkIiwia2V5Ym9hcmRDbG9zZSIsImJhY2tkcm9wRGlzbWlzcyIsInNob3dCYWNrZHJvcCIsImFuaW1hdGVkIiwic3dpcGVUb0Nsb3NlIiwib25CYWNrZHJvcFRhcCIsImV2Iiwic3RvcFByb3BhZ2F0aW9uIiwicHJldmVudERlZmF1bHQiLCJvbkxpZmVjeWNsZSIsIm1vZGFsRXZlbnQiLCJ1c2Vyc0VsZW1lbnQiLCJuYW1lIiwiTElGRUNZQ0xFX01BUCIsInR5cGUiLCJDdXN0b21FdmVudCIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwiZGlzcGF0Y2hFdmVudCIsInN3aXBlVG9DbG9zZUNoYW5nZWQiLCJpbml0U3dpcGVUb0Nsb3NlIiwiY29ubmVjdGVkQ2FsbGJhY2siLCJjb250YWluZXIiLCJFcnJvciIsImNvbXBvbmVudFByb3BzIiwiT2JqZWN0IiwiYXNzaWduIiwibW9kYWwiLCJkZWxlZ2F0ZSIsImNvbXBvbmVudCIsImNsYXNzTGlzdCIsImFkZCIsImFuaW1hdGlvbkJ1aWxkZXIiLCJsZWF2ZUFuaW1hdGlvbiIsImdldCIsImFuaSIsImRhdGEiLCJyb2xlIiwiZW50ZXJpbmdBbmltYXRpb24iLCJkaXNtaXNzZWQiLCJkZXN0cm95IiwiZm9yRWFjaCIsIm9uRGlkRGlzbWlzcyIsIm9uV2lsbERpc21pc3MiLCJyZW5kZXIiLCJtb2RlIiwidGFiaW5kZXgiLCJjbGFzcyIsImNzc0NsYXNzIiwiekluZGV4Iiwib3ZlcmxheUluZGV4Iiwib25Jb25CYWNrZHJvcFRhcCIsIm9uSW9uRGlzbWlzcyIsIm9uSW9uTW9kYWxEaWRQcmVzZW50Iiwib25Jb25Nb2RhbFdpbGxQcmVzZW50Iiwib25Jb25Nb2RhbFdpbGxEaXNtaXNzIiwib25Jb25Nb2RhbERpZERpc21pc3MiLCJ2aXNpYmxlIiwidGFwcGFibGUiLCJ3YXRjaGVycyIsImlvcyIsIm1kIiwiaW9uX21vZGFsIl0sInNvdXJjZVJvb3QiOiJ3ZWJwYWNrOi8vLyJ9