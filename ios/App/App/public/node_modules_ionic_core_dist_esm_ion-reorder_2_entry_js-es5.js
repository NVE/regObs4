(function () {
  "use strict";

  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

  (self["webpackChunkregobs4"] = self["webpackChunkregobs4"] || []).push([["node_modules_ionic_core_dist_esm_ion-reorder_2_entry_js"], {
    /***/
    14977: function _(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
      __webpack_require__.r(__webpack_exports__);
      /* harmony export */


      __webpack_require__.d(__webpack_exports__, {
        /* harmony export */
        "ion_reorder": function ion_reorder() {
          return (
            /* binding */
            Reorder
          );
        },

        /* harmony export */
        "ion_reorder_group": function ion_reorder_group() {
          return (
            /* binding */
            ReorderGroup
          );
        }
        /* harmony export */

      });
      /* harmony import */


      var C_Repos_regobs_regObs4_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
      /*! ./node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator */
      80151);
      /* harmony import */


      var _index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
      /*! ./index-7a8b7a1c.js */
      76842);
      /* harmony import */


      var _ionic_global_63a97a32_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
      /*! ./ionic-global-63a97a32.js */
      33124);
      /* harmony import */


      var _haptic_27b3f981_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
      /*! ./haptic-27b3f981.js */
      99502);

      var reorderIosCss = ":host([slot]){display:none;line-height:0;z-index:100}.reorder-icon{display:block;font-size:22px}.reorder-icon{font-size:34px;opacity:0.4}";
      var reorderMdCss = ":host([slot]){display:none;line-height:0;z-index:100}.reorder-icon{display:block;font-size:22px}.reorder-icon{font-size:31px;opacity:0.3}";

      var Reorder = /*#__PURE__*/function () {
        function Reorder(hostRef) {
          _classCallCheck(this, Reorder);

          (0, _index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
        }

        _createClass(Reorder, [{
          key: "onClick",
          value: function onClick(ev) {
            var reorderGroup = this.el.closest('ion-reorder-group');
            ev.preventDefault(); // Only stop event propagation if the reorder is inside of an enabled
            // reorder group. This allows interaction with clickable children components.

            if (!reorderGroup || !reorderGroup.disabled) {
              ev.stopImmediatePropagation();
            }
          }
        }, {
          key: "render",
          value: function render() {
            var mode = (0, _ionic_global_63a97a32_js__WEBPACK_IMPORTED_MODULE_2__.b)(this);
            var reorderIcon = mode === 'ios' ? 'reorder-three-outline' : 'reorder-two-sharp';
            return (0, _index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.H, {
              "class": mode
            }, (0, _index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", null, (0, _index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.h)("ion-icon", {
              name: reorderIcon,
              lazy: false,
              "class": "reorder-icon",
              part: "icon"
            })));
          }
        }, {
          key: "el",
          get: function get() {
            return (0, _index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.i)(this);
          }
        }]);

        return Reorder;
      }();

      Reorder.style = {
        ios: reorderIosCss,
        md: reorderMdCss
      };
      var reorderGroupCss = ".reorder-list-active>*{-webkit-transition:-webkit-transform 300ms;transition:-webkit-transform 300ms;transition:transform 300ms;transition:transform 300ms, -webkit-transform 300ms;will-change:transform}.reorder-enabled{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.reorder-enabled ion-reorder{display:block;cursor:-webkit-grab;cursor:grab;pointer-events:all;-ms-touch-action:none;touch-action:none}.reorder-selected,.reorder-selected ion-reorder{cursor:-webkit-grabbing;cursor:grabbing}.reorder-selected{position:relative;-webkit-transition:none !important;transition:none !important;-webkit-box-shadow:0 0 10px rgba(0, 0, 0, 0.4);box-shadow:0 0 10px rgba(0, 0, 0, 0.4);opacity:0.8;z-index:100}.reorder-visible ion-reorder .reorder-icon{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}";

      var ReorderGroup = /*#__PURE__*/function () {
        function ReorderGroup(hostRef) {
          _classCallCheck(this, ReorderGroup);

          (0, _index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
          this.ionItemReorder = (0, _index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "ionItemReorder", 7);
          this.lastToIndex = -1;
          this.cachedHeights = [];
          this.scrollElTop = 0;
          this.scrollElBottom = 0;
          this.scrollElInitial = 0;
          this.containerTop = 0;
          this.containerBottom = 0;
          this.state = 0
          /* Idle */
          ;
          /**
           * If `true`, the reorder will be hidden.
           */

          this.disabled = true;
        }

        _createClass(ReorderGroup, [{
          key: "disabledChanged",
          value: function disabledChanged() {
            if (this.gesture) {
              this.gesture.enable(!this.disabled);
            }
          }
        }, {
          key: "connectedCallback",
          value: function connectedCallback() {
            var _this = this;

            return (0, C_Repos_regobs_regObs4_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {
              var contentEl;
              return regeneratorRuntime.wrap(function _callee$(_context) {
                while (1) {
                  switch (_context.prev = _context.next) {
                    case 0:
                      contentEl = _this.el.closest('ion-content');

                      if (!contentEl) {
                        _context.next = 5;
                        break;
                      }

                      _context.next = 4;
                      return contentEl.getScrollElement();

                    case 4:
                      _this.scrollEl = _context.sent;

                    case 5:
                      _context.next = 7;
                      return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,
                      /*! ./index-34cb2743.js */
                      88910));

                    case 7:
                      _this.gesture = _context.sent.createGesture({
                        el: _this.el,
                        gestureName: 'reorder',
                        gesturePriority: 110,
                        threshold: 0,
                        direction: 'y',
                        passive: false,
                        canStart: function canStart(detail) {
                          return _this.canStart(detail);
                        },
                        onStart: function onStart(ev) {
                          return _this.onStart(ev);
                        },
                        onMove: function onMove(ev) {
                          return _this.onMove(ev);
                        },
                        onEnd: function onEnd() {
                          return _this.onEnd();
                        }
                      });

                      _this.disabledChanged();

                    case 9:
                    case "end":
                      return _context.stop();
                  }
                }
              }, _callee);
            }))();
          }
        }, {
          key: "disconnectedCallback",
          value: function disconnectedCallback() {
            this.onEnd();

            if (this.gesture) {
              this.gesture.destroy();
              this.gesture = undefined;
            }
          }
          /**
           * Completes the reorder operation. Must be called by the `ionItemReorder` event.
           *
           * If a list of items is passed, the list will be reordered and returned in the
           * proper order.
           *
           * If no parameters are passed or if `true` is passed in, the reorder will complete
           * and the item will remain in the position it was dragged to. If `false` is passed,
           * the reorder will complete and the item will bounce back to its original position.
           *
           * @param listOrReorder A list of items to be sorted and returned in the new order or a
           * boolean of whether or not the reorder should reposition the item.
           */

        }, {
          key: "complete",
          value: function complete(listOrReorder) {
            return Promise.resolve(this.completeSync(listOrReorder));
          }
        }, {
          key: "canStart",
          value: function canStart(ev) {
            if (this.selectedItemEl || this.state !== 0
            /* Idle */
            ) {
              return false;
            }

            var target = ev.event.target;
            var reorderEl = target.closest('ion-reorder');

            if (!reorderEl) {
              return false;
            }

            var item = findReorderItem(reorderEl, this.el);

            if (!item) {
              return false;
            }

            ev.data = item;
            return true;
          }
        }, {
          key: "onStart",
          value: function onStart(ev) {
            ev.event.preventDefault();
            var item = this.selectedItemEl = ev.data;
            var heights = this.cachedHeights;
            heights.length = 0;
            var el = this.el;
            var children = el.children;

            if (!children || children.length === 0) {
              return;
            }

            var sum = 0;

            for (var i = 0; i < children.length; i++) {
              var child = children[i];
              sum += child.offsetHeight;
              heights.push(sum);
              child.$ionIndex = i;
            }

            var box = el.getBoundingClientRect();
            this.containerTop = box.top;
            this.containerBottom = box.bottom;

            if (this.scrollEl) {
              var scrollBox = this.scrollEl.getBoundingClientRect();
              this.scrollElInitial = this.scrollEl.scrollTop;
              this.scrollElTop = scrollBox.top + AUTO_SCROLL_MARGIN;
              this.scrollElBottom = scrollBox.bottom - AUTO_SCROLL_MARGIN;
            } else {
              this.scrollElInitial = 0;
              this.scrollElTop = 0;
              this.scrollElBottom = 0;
            }

            this.lastToIndex = indexForItem(item);
            this.selectedItemHeight = item.offsetHeight;
            this.state = 1
            /* Active */
            ;
            item.classList.add(ITEM_REORDER_SELECTED);
            (0, _haptic_27b3f981_js__WEBPACK_IMPORTED_MODULE_3__.a)();
          }
        }, {
          key: "onMove",
          value: function onMove(ev) {
            var selectedItem = this.selectedItemEl;

            if (!selectedItem) {
              return;
            } // Scroll if we reach the scroll margins


            var scroll = this.autoscroll(ev.currentY); // // Get coordinate

            var top = this.containerTop - scroll;
            var bottom = this.containerBottom - scroll;
            var currentY = Math.max(top, Math.min(ev.currentY, bottom));
            var deltaY = scroll + currentY - ev.startY;
            var normalizedY = currentY - top;
            var toIndex = this.itemIndexForTop(normalizedY);

            if (toIndex !== this.lastToIndex) {
              var fromIndex = indexForItem(selectedItem);
              this.lastToIndex = toIndex;
              (0, _haptic_27b3f981_js__WEBPACK_IMPORTED_MODULE_3__.b)();
              this.reorderMove(fromIndex, toIndex);
            } // Update selected item position


            selectedItem.style.transform = "translateY(".concat(deltaY, "px)");
          }
        }, {
          key: "onEnd",
          value: function onEnd() {
            var selectedItemEl = this.selectedItemEl;
            this.state = 2
            /* Complete */
            ;

            if (!selectedItemEl) {
              this.state = 0
              /* Idle */
              ;
              return;
            }

            var toIndex = this.lastToIndex;
            var fromIndex = indexForItem(selectedItemEl);

            if (toIndex === fromIndex) {
              this.completeSync();
            } else {
              this.ionItemReorder.emit({
                from: fromIndex,
                to: toIndex,
                complete: this.completeSync.bind(this)
              });
            }

            (0, _haptic_27b3f981_js__WEBPACK_IMPORTED_MODULE_3__.h)();
          }
        }, {
          key: "completeSync",
          value: function completeSync(listOrReorder) {
            var selectedItemEl = this.selectedItemEl;

            if (selectedItemEl && this.state === 2
            /* Complete */
            ) {
              var children = this.el.children;
              var len = children.length;
              var toIndex = this.lastToIndex;
              var fromIndex = indexForItem(selectedItemEl);

              if (toIndex !== fromIndex && (listOrReorder === undefined || listOrReorder === true)) {
                var ref = fromIndex < toIndex ? children[toIndex + 1] : children[toIndex];
                this.el.insertBefore(selectedItemEl, ref);
              }

              if (Array.isArray(listOrReorder)) {
                listOrReorder = reorderArray(listOrReorder, fromIndex, toIndex);
              }

              for (var i = 0; i < len; i++) {
                children[i].style['transform'] = '';
              }

              selectedItemEl.style.transition = '';
              selectedItemEl.classList.remove(ITEM_REORDER_SELECTED);
              this.selectedItemEl = undefined;
              this.state = 0
              /* Idle */
              ;
            }

            return listOrReorder;
          }
        }, {
          key: "itemIndexForTop",
          value: function itemIndexForTop(deltaY) {
            var heights = this.cachedHeights; // TODO: since heights is a sorted array of integers, we can do
            // speed up the search using binary search. Remember that linear-search is still
            // faster than binary-search for small arrays (<64) due CPU branch misprediction.

            for (var i = 0; i < heights.length; i++) {
              if (heights[i] > deltaY) {
                return i;
              }
            }

            return heights.length - 1;
          }
          /********* DOM WRITE ********* */

        }, {
          key: "reorderMove",
          value: function reorderMove(fromIndex, toIndex) {
            var itemHeight = this.selectedItemHeight;
            var children = this.el.children;

            for (var i = 0; i < children.length; i++) {
              var style = children[i].style;
              var value = '';

              if (i > fromIndex && i <= toIndex) {
                value = "translateY(".concat(-itemHeight, "px)");
              } else if (i < fromIndex && i >= toIndex) {
                value = "translateY(".concat(itemHeight, "px)");
              }

              style['transform'] = value;
            }
          }
        }, {
          key: "autoscroll",
          value: function autoscroll(posY) {
            if (!this.scrollEl) {
              return 0;
            }

            var amount = 0;

            if (posY < this.scrollElTop) {
              amount = -SCROLL_JUMP;
            } else if (posY > this.scrollElBottom) {
              amount = SCROLL_JUMP;
            }

            if (amount !== 0) {
              this.scrollEl.scrollBy(0, amount);
            }

            return this.scrollEl.scrollTop - this.scrollElInitial;
          }
        }, {
          key: "render",
          value: function render() {
            var _class;

            var mode = (0, _ionic_global_63a97a32_js__WEBPACK_IMPORTED_MODULE_2__.b)(this);
            return (0, _index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.H, {
              "class": (_class = {}, _defineProperty(_class, mode, true), _defineProperty(_class, 'reorder-enabled', !this.disabled), _defineProperty(_class, 'reorder-list-active', this.state !== 0), _class)
            });
          }
        }, {
          key: "el",
          get: function get() {
            return (0, _index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.i)(this);
          }
        }], [{
          key: "watchers",
          get: function get() {
            return {
              "disabled": ["disabledChanged"]
            };
          }
        }]);

        return ReorderGroup;
      }();

      var indexForItem = function indexForItem(element) {
        return element['$ionIndex'];
      };

      var findReorderItem = function findReorderItem(node, container) {
        var parent;

        while (node) {
          parent = node.parentElement;

          if (parent === container) {
            return node;
          }

          node = parent;
        }

        return undefined;
      };

      var AUTO_SCROLL_MARGIN = 60;
      var SCROLL_JUMP = 10;
      var ITEM_REORDER_SELECTED = 'reorder-selected';

      var reorderArray = function reorderArray(array, from, to) {
        var element = array[from];
        array.splice(from, 1);
        array.splice(to, 0, element);
        return array.slice();
      };

      ReorderGroup.style = reorderGroupCss;
      /***/
    }
  }]);
})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFNLEdBQUdGLElBQUksQ0FBQ0csYUFBZEQ7O0FBQ0EsY0FBSUEsTUFBTSxLQUFLRCxTQUFmLEVBQTBCO0FBQ3hCLG1CQUFPRCxJQUFQO0FBQ0Q7O0FBQ0RBLGNBQUksR0FBR0UsTUFBUEY7QUFDRDs7QUFDRCxlQUFPdEUsU0FBUDtBQVRGOztBQVdBLFVBQU0yQixrQkFBa0IsR0FBRyxFQUEzQjtBQUNBLFVBQU13QyxXQUFXLEdBQUcsRUFBcEI7QUFDQSxVQUFNbkMscUJBQXFCLEdBQUcsa0JBQTlCOztBQUNBLFVBQU00QixZQUFZLEdBQUcsU0FBZkEsWUFBZSxDQUFDYyxLQUFELEVBQVF2QixJQUFSLEVBQWNDLEVBQWQsRUFBcUI7QUFDeEMsWUFBTWlCLE9BQU8sR0FBR0ssS0FBSyxDQUFDdkIsSUFBRCxDQUFyQjtBQUNBdUIsYUFBSyxDQUFDQyxNQUFORCxDQUFhdkIsSUFBYnVCLEVBQW1CLENBQW5CQTtBQUNBQSxhQUFLLENBQUNDLE1BQU5ELENBQWF0QixFQUFic0IsRUFBaUIsQ0FBakJBLEVBQW9CTCxPQUFwQks7QUFDQSxlQUFPQSxLQUFLLENBQUNFLEtBQU5GLEVBQVA7QUFKRjs7QUFNQTNHLGtCQUFZLENBQUNKLEtBQWJJLEdBQXFCRCxlQUFyQkM7OzsiLCJuYW1lcyI6WyJyZW9yZGVySW9zQ3NzIiwicmVvcmRlck1kQ3NzIiwiUmVvcmRlciIsImNvbnN0cnVjdG9yIiwiaG9zdFJlZiIsInJlZ2lzdGVySW5zdGFuY2UiLCJvbkNsaWNrIiwiZXYiLCJyZW9yZGVyR3JvdXAiLCJlbCIsImNsb3Nlc3QiLCJwcmV2ZW50RGVmYXVsdCIsImRpc2FibGVkIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwicmVuZGVyIiwibW9kZSIsImdldElvbk1vZGUiLCJyZW9yZGVySWNvbiIsImgiLCJIb3N0IiwiY2xhc3MiLCJuYW1lIiwibGF6eSIsInBhcnQiLCJnZXRFbGVtZW50Iiwic3R5bGUiLCJpb3MiLCJtZCIsInJlb3JkZXJHcm91cENzcyIsIlJlb3JkZXJHcm91cCIsImlvbkl0ZW1SZW9yZGVyIiwiY3JlYXRlRXZlbnQiLCJsYXN0VG9JbmRleCIsImNhY2hlZEhlaWdodHMiLCJzY3JvbGxFbFRvcCIsInNjcm9sbEVsQm90dG9tIiwic2Nyb2xsRWxJbml0aWFsIiwiY29udGFpbmVyVG9wIiwiY29udGFpbmVyQm90dG9tIiwic3RhdGUiLCJkaXNhYmxlZENoYW5nZWQiLCJnZXN0dXJlIiwiZW5hYmxlIiwiY29ubmVjdGVkQ2FsbGJhY2siLCJjb250ZW50RWwiLCJfdGhpcyIsImdldFNjcm9sbEVsZW1lbnQiLCJzY3JvbGxFbCIsIlByb21pc2UiLCJjcmVhdGVHZXN0dXJlIiwiZ2VzdHVyZU5hbWUiLCJnZXN0dXJlUHJpb3JpdHkiLCJ0aHJlc2hvbGQiLCJkaXJlY3Rpb24iLCJwYXNzaXZlIiwiY2FuU3RhcnQiLCJkZXRhaWwiLCJvblN0YXJ0Iiwib25Nb3ZlIiwib25FbmQiLCJkaXNjb25uZWN0ZWRDYWxsYmFjayIsImRlc3Ryb3kiLCJ1bmRlZmluZWQiLCJjb21wbGV0ZSIsImxpc3RPclJlb3JkZXIiLCJyZXNvbHZlIiwiY29tcGxldGVTeW5jIiwic2VsZWN0ZWRJdGVtRWwiLCJ0YXJnZXQiLCJldmVudCIsInJlb3JkZXJFbCIsIml0ZW0iLCJmaW5kUmVvcmRlckl0ZW0iLCJkYXRhIiwiaGVpZ2h0cyIsImxlbmd0aCIsImNoaWxkcmVuIiwic3VtIiwiaSIsImNoaWxkIiwib2Zmc2V0SGVpZ2h0IiwicHVzaCIsIiRpb25JbmRleCIsImJveCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInRvcCIsImJvdHRvbSIsInNjcm9sbEJveCIsInNjcm9sbFRvcCIsIkFVVE9fU0NST0xMX01BUkdJTiIsImluZGV4Rm9ySXRlbSIsInNlbGVjdGVkSXRlbUhlaWdodCIsImNsYXNzTGlzdCIsImFkZCIsIklURU1fUkVPUkRFUl9TRUxFQ1RFRCIsImhhcHRpY1NlbGVjdGlvblN0YXJ0Iiwic2VsZWN0ZWRJdGVtIiwic2Nyb2xsIiwiYXV0b3Njcm9sbCIsImN1cnJlbnRZIiwiTWF0aCIsIm1heCIsIm1pbiIsImRlbHRhWSIsInN0YXJ0WSIsIm5vcm1hbGl6ZWRZIiwidG9JbmRleCIsIml0ZW1JbmRleEZvclRvcCIsImZyb21JbmRleCIsImhhcHRpY1NlbGVjdGlvbkNoYW5nZWQiLCJyZW9yZGVyTW92ZSIsInRyYW5zZm9ybSIsImVtaXQiLCJmcm9tIiwidG8iLCJiaW5kIiwiaGFwdGljU2VsZWN0aW9uRW5kIiwibGVuIiwicmVmIiwiaW5zZXJ0QmVmb3JlIiwiQXJyYXkiLCJpc0FycmF5IiwicmVvcmRlckFycmF5IiwidHJhbnNpdGlvbiIsInJlbW92ZSIsIml0ZW1IZWlnaHQiLCJ2YWx1ZSIsInBvc1kiLCJhbW91bnQiLCJTQ1JPTExfSlVNUCIsInNjcm9sbEJ5IiwiZWxlbWVudCIsIm5vZGUiLCJjb250YWluZXIiLCJwYXJlbnQiLCJwYXJlbnRFbGVtZW50IiwiYXJyYXkiLCJzcGxpY2UiLCJzbGljZSJdLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2lvbi1yZW9yZGVyXzIuZW50cnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgciBhcyByZWdpc3Rlckluc3RhbmNlLCBoLCBIIGFzIEhvc3QsIGkgYXMgZ2V0RWxlbWVudCwgZSBhcyBjcmVhdGVFdmVudCB9IGZyb20gJy4vaW5kZXgtN2E4YjdhMWMuanMnO1xuaW1wb3J0IHsgYiBhcyBnZXRJb25Nb2RlIH0gZnJvbSAnLi9pb25pYy1nbG9iYWwtNjNhOTdhMzIuanMnO1xuaW1wb3J0IHsgYSBhcyBoYXB0aWNTZWxlY3Rpb25TdGFydCwgYiBhcyBoYXB0aWNTZWxlY3Rpb25DaGFuZ2VkLCBoIGFzIGhhcHRpY1NlbGVjdGlvbkVuZCB9IGZyb20gJy4vaGFwdGljLTI3YjNmOTgxLmpzJztcblxuY29uc3QgcmVvcmRlcklvc0NzcyA9IFwiOmhvc3QoW3Nsb3RdKXtkaXNwbGF5Om5vbmU7bGluZS1oZWlnaHQ6MDt6LWluZGV4OjEwMH0ucmVvcmRlci1pY29ue2Rpc3BsYXk6YmxvY2s7Zm9udC1zaXplOjIycHh9LnJlb3JkZXItaWNvbntmb250LXNpemU6MzRweDtvcGFjaXR5OjAuNH1cIjtcblxuY29uc3QgcmVvcmRlck1kQ3NzID0gXCI6aG9zdChbc2xvdF0pe2Rpc3BsYXk6bm9uZTtsaW5lLWhlaWdodDowO3otaW5kZXg6MTAwfS5yZW9yZGVyLWljb257ZGlzcGxheTpibG9jaztmb250LXNpemU6MjJweH0ucmVvcmRlci1pY29ue2ZvbnQtc2l6ZTozMXB4O29wYWNpdHk6MC4zfVwiO1xuXG5jb25zdCBSZW9yZGVyID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XG4gICAgcmVnaXN0ZXJJbnN0YW5jZSh0aGlzLCBob3N0UmVmKTtcbiAgfVxuICBvbkNsaWNrKGV2KSB7XG4gICAgY29uc3QgcmVvcmRlckdyb3VwID0gdGhpcy5lbC5jbG9zZXN0KCdpb24tcmVvcmRlci1ncm91cCcpO1xuICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgLy8gT25seSBzdG9wIGV2ZW50IHByb3BhZ2F0aW9uIGlmIHRoZSByZW9yZGVyIGlzIGluc2lkZSBvZiBhbiBlbmFibGVkXG4gICAgLy8gcmVvcmRlciBncm91cC4gVGhpcyBhbGxvd3MgaW50ZXJhY3Rpb24gd2l0aCBjbGlja2FibGUgY2hpbGRyZW4gY29tcG9uZW50cy5cbiAgICBpZiAoIXJlb3JkZXJHcm91cCB8fCAhcmVvcmRlckdyb3VwLmRpc2FibGVkKSB7XG4gICAgICBldi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICB9XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IG1vZGUgPSBnZXRJb25Nb2RlKHRoaXMpO1xuICAgIGNvbnN0IHJlb3JkZXJJY29uID0gbW9kZSA9PT0gJ2lvcycgPyAncmVvcmRlci10aHJlZS1vdXRsaW5lJyA6ICdyZW9yZGVyLXR3by1zaGFycCc7XG4gICAgcmV0dXJuIChoKEhvc3QsIHsgY2xhc3M6IG1vZGUgfSwgaChcInNsb3RcIiwgbnVsbCwgaChcImlvbi1pY29uXCIsIHsgbmFtZTogcmVvcmRlckljb24sIGxhenk6IGZhbHNlLCBjbGFzczogXCJyZW9yZGVyLWljb25cIiwgcGFydDogXCJpY29uXCIgfSkpKSk7XG4gIH1cbiAgZ2V0IGVsKCkgeyByZXR1cm4gZ2V0RWxlbWVudCh0aGlzKTsgfVxufTtcblJlb3JkZXIuc3R5bGUgPSB7XG4gIGlvczogcmVvcmRlcklvc0NzcyxcbiAgbWQ6IHJlb3JkZXJNZENzc1xufTtcblxuY29uc3QgcmVvcmRlckdyb3VwQ3NzID0gXCIucmVvcmRlci1saXN0LWFjdGl2ZT4qey13ZWJraXQtdHJhbnNpdGlvbjotd2Via2l0LXRyYW5zZm9ybSAzMDBtczt0cmFuc2l0aW9uOi13ZWJraXQtdHJhbnNmb3JtIDMwMG1zO3RyYW5zaXRpb246dHJhbnNmb3JtIDMwMG1zO3RyYW5zaXRpb246dHJhbnNmb3JtIDMwMG1zLCAtd2Via2l0LXRyYW5zZm9ybSAzMDBtczt3aWxsLWNoYW5nZTp0cmFuc2Zvcm19LnJlb3JkZXItZW5hYmxlZHstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmV9LnJlb3JkZXItZW5hYmxlZCBpb24tcmVvcmRlcntkaXNwbGF5OmJsb2NrO2N1cnNvcjotd2Via2l0LWdyYWI7Y3Vyc29yOmdyYWI7cG9pbnRlci1ldmVudHM6YWxsOy1tcy10b3VjaC1hY3Rpb246bm9uZTt0b3VjaC1hY3Rpb246bm9uZX0ucmVvcmRlci1zZWxlY3RlZCwucmVvcmRlci1zZWxlY3RlZCBpb24tcmVvcmRlcntjdXJzb3I6LXdlYmtpdC1ncmFiYmluZztjdXJzb3I6Z3JhYmJpbmd9LnJlb3JkZXItc2VsZWN0ZWR7cG9zaXRpb246cmVsYXRpdmU7LXdlYmtpdC10cmFuc2l0aW9uOm5vbmUgIWltcG9ydGFudDt0cmFuc2l0aW9uOm5vbmUgIWltcG9ydGFudDstd2Via2l0LWJveC1zaGFkb3c6MCAwIDEwcHggcmdiYSgwLCAwLCAwLCAwLjQpO2JveC1zaGFkb3c6MCAwIDEwcHggcmdiYSgwLCAwLCAwLCAwLjQpO29wYWNpdHk6MC44O3otaW5kZXg6MTAwfS5yZW9yZGVyLXZpc2libGUgaW9uLXJlb3JkZXIgLnJlb3JkZXItaWNvbnstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLCAgMCwgIDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLCAgMCwgIDApfVwiO1xuXG5jb25zdCBSZW9yZGVyR3JvdXAgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGhvc3RSZWYpIHtcbiAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xuICAgIHRoaXMuaW9uSXRlbVJlb3JkZXIgPSBjcmVhdGVFdmVudCh0aGlzLCBcImlvbkl0ZW1SZW9yZGVyXCIsIDcpO1xuICAgIHRoaXMubGFzdFRvSW5kZXggPSAtMTtcbiAgICB0aGlzLmNhY2hlZEhlaWdodHMgPSBbXTtcbiAgICB0aGlzLnNjcm9sbEVsVG9wID0gMDtcbiAgICB0aGlzLnNjcm9sbEVsQm90dG9tID0gMDtcbiAgICB0aGlzLnNjcm9sbEVsSW5pdGlhbCA9IDA7XG4gICAgdGhpcy5jb250YWluZXJUb3AgPSAwO1xuICAgIHRoaXMuY29udGFpbmVyQm90dG9tID0gMDtcbiAgICB0aGlzLnN0YXRlID0gMCAvKiBJZGxlICovO1xuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgdGhlIHJlb3JkZXIgd2lsbCBiZSBoaWRkZW4uXG4gICAgICovXG4gICAgdGhpcy5kaXNhYmxlZCA9IHRydWU7XG4gIH1cbiAgZGlzYWJsZWRDaGFuZ2VkKCkge1xuICAgIGlmICh0aGlzLmdlc3R1cmUpIHtcbiAgICAgIHRoaXMuZ2VzdHVyZS5lbmFibGUoIXRoaXMuZGlzYWJsZWQpO1xuICAgIH1cbiAgfVxuICBhc3luYyBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBjb25zdCBjb250ZW50RWwgPSB0aGlzLmVsLmNsb3Nlc3QoJ2lvbi1jb250ZW50Jyk7XG4gICAgaWYgKGNvbnRlbnRFbCkge1xuICAgICAgdGhpcy5zY3JvbGxFbCA9IGF3YWl0IGNvbnRlbnRFbC5nZXRTY3JvbGxFbGVtZW50KCk7XG4gICAgfVxuICAgIHRoaXMuZ2VzdHVyZSA9IChhd2FpdCBpbXBvcnQoJy4vaW5kZXgtMzRjYjI3NDMuanMnKSkuY3JlYXRlR2VzdHVyZSh7XG4gICAgICBlbDogdGhpcy5lbCxcbiAgICAgIGdlc3R1cmVOYW1lOiAncmVvcmRlcicsXG4gICAgICBnZXN0dXJlUHJpb3JpdHk6IDExMCxcbiAgICAgIHRocmVzaG9sZDogMCxcbiAgICAgIGRpcmVjdGlvbjogJ3knLFxuICAgICAgcGFzc2l2ZTogZmFsc2UsXG4gICAgICBjYW5TdGFydDogZGV0YWlsID0+IHRoaXMuY2FuU3RhcnQoZGV0YWlsKSxcbiAgICAgIG9uU3RhcnQ6IGV2ID0+IHRoaXMub25TdGFydChldiksXG4gICAgICBvbk1vdmU6IGV2ID0+IHRoaXMub25Nb3ZlKGV2KSxcbiAgICAgIG9uRW5kOiAoKSA9PiB0aGlzLm9uRW5kKCksXG4gICAgfSk7XG4gICAgdGhpcy5kaXNhYmxlZENoYW5nZWQoKTtcbiAgfVxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLm9uRW5kKCk7XG4gICAgaWYgKHRoaXMuZ2VzdHVyZSkge1xuICAgICAgdGhpcy5nZXN0dXJlLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMuZ2VzdHVyZSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENvbXBsZXRlcyB0aGUgcmVvcmRlciBvcGVyYXRpb24uIE11c3QgYmUgY2FsbGVkIGJ5IHRoZSBgaW9uSXRlbVJlb3JkZXJgIGV2ZW50LlxuICAgKlxuICAgKiBJZiBhIGxpc3Qgb2YgaXRlbXMgaXMgcGFzc2VkLCB0aGUgbGlzdCB3aWxsIGJlIHJlb3JkZXJlZCBhbmQgcmV0dXJuZWQgaW4gdGhlXG4gICAqIHByb3BlciBvcmRlci5cbiAgICpcbiAgICogSWYgbm8gcGFyYW1ldGVycyBhcmUgcGFzc2VkIG9yIGlmIGB0cnVlYCBpcyBwYXNzZWQgaW4sIHRoZSByZW9yZGVyIHdpbGwgY29tcGxldGVcbiAgICogYW5kIHRoZSBpdGVtIHdpbGwgcmVtYWluIGluIHRoZSBwb3NpdGlvbiBpdCB3YXMgZHJhZ2dlZCB0by4gSWYgYGZhbHNlYCBpcyBwYXNzZWQsXG4gICAqIHRoZSByZW9yZGVyIHdpbGwgY29tcGxldGUgYW5kIHRoZSBpdGVtIHdpbGwgYm91bmNlIGJhY2sgdG8gaXRzIG9yaWdpbmFsIHBvc2l0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gbGlzdE9yUmVvcmRlciBBIGxpc3Qgb2YgaXRlbXMgdG8gYmUgc29ydGVkIGFuZCByZXR1cm5lZCBpbiB0aGUgbmV3IG9yZGVyIG9yIGFcbiAgICogYm9vbGVhbiBvZiB3aGV0aGVyIG9yIG5vdCB0aGUgcmVvcmRlciBzaG91bGQgcmVwb3NpdGlvbiB0aGUgaXRlbS5cbiAgICovXG4gIGNvbXBsZXRlKGxpc3RPclJlb3JkZXIpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuY29tcGxldGVTeW5jKGxpc3RPclJlb3JkZXIpKTtcbiAgfVxuICBjYW5TdGFydChldikge1xuICAgIGlmICh0aGlzLnNlbGVjdGVkSXRlbUVsIHx8IHRoaXMuc3RhdGUgIT09IDAgLyogSWRsZSAqLykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCB0YXJnZXQgPSBldi5ldmVudC50YXJnZXQ7XG4gICAgY29uc3QgcmVvcmRlckVsID0gdGFyZ2V0LmNsb3Nlc3QoJ2lvbi1yZW9yZGVyJyk7XG4gICAgaWYgKCFyZW9yZGVyRWwpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgaXRlbSA9IGZpbmRSZW9yZGVySXRlbShyZW9yZGVyRWwsIHRoaXMuZWwpO1xuICAgIGlmICghaXRlbSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBldi5kYXRhID0gaXRlbTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBvblN0YXJ0KGV2KSB7XG4gICAgZXYuZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBpdGVtID0gdGhpcy5zZWxlY3RlZEl0ZW1FbCA9IGV2LmRhdGE7XG4gICAgY29uc3QgaGVpZ2h0cyA9IHRoaXMuY2FjaGVkSGVpZ2h0cztcbiAgICBoZWlnaHRzLmxlbmd0aCA9IDA7XG4gICAgY29uc3QgZWwgPSB0aGlzLmVsO1xuICAgIGNvbnN0IGNoaWxkcmVuID0gZWwuY2hpbGRyZW47XG4gICAgaWYgKCFjaGlsZHJlbiB8fCBjaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IHN1bSA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgIHN1bSArPSBjaGlsZC5vZmZzZXRIZWlnaHQ7XG4gICAgICBoZWlnaHRzLnB1c2goc3VtKTtcbiAgICAgIGNoaWxkLiRpb25JbmRleCA9IGk7XG4gICAgfVxuICAgIGNvbnN0IGJveCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHRoaXMuY29udGFpbmVyVG9wID0gYm94LnRvcDtcbiAgICB0aGlzLmNvbnRhaW5lckJvdHRvbSA9IGJveC5ib3R0b207XG4gICAgaWYgKHRoaXMuc2Nyb2xsRWwpIHtcbiAgICAgIGNvbnN0IHNjcm9sbEJveCA9IHRoaXMuc2Nyb2xsRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB0aGlzLnNjcm9sbEVsSW5pdGlhbCA9IHRoaXMuc2Nyb2xsRWwuc2Nyb2xsVG9wO1xuICAgICAgdGhpcy5zY3JvbGxFbFRvcCA9IHNjcm9sbEJveC50b3AgKyBBVVRPX1NDUk9MTF9NQVJHSU47XG4gICAgICB0aGlzLnNjcm9sbEVsQm90dG9tID0gc2Nyb2xsQm94LmJvdHRvbSAtIEFVVE9fU0NST0xMX01BUkdJTjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLnNjcm9sbEVsSW5pdGlhbCA9IDA7XG4gICAgICB0aGlzLnNjcm9sbEVsVG9wID0gMDtcbiAgICAgIHRoaXMuc2Nyb2xsRWxCb3R0b20gPSAwO1xuICAgIH1cbiAgICB0aGlzLmxhc3RUb0luZGV4ID0gaW5kZXhGb3JJdGVtKGl0ZW0pO1xuICAgIHRoaXMuc2VsZWN0ZWRJdGVtSGVpZ2h0ID0gaXRlbS5vZmZzZXRIZWlnaHQ7XG4gICAgdGhpcy5zdGF0ZSA9IDEgLyogQWN0aXZlICovO1xuICAgIGl0ZW0uY2xhc3NMaXN0LmFkZChJVEVNX1JFT1JERVJfU0VMRUNURUQpO1xuICAgIGhhcHRpY1NlbGVjdGlvblN0YXJ0KCk7XG4gIH1cbiAgb25Nb3ZlKGV2KSB7XG4gICAgY29uc3Qgc2VsZWN0ZWRJdGVtID0gdGhpcy5zZWxlY3RlZEl0ZW1FbDtcbiAgICBpZiAoIXNlbGVjdGVkSXRlbSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBTY3JvbGwgaWYgd2UgcmVhY2ggdGhlIHNjcm9sbCBtYXJnaW5zXG4gICAgY29uc3Qgc2Nyb2xsID0gdGhpcy5hdXRvc2Nyb2xsKGV2LmN1cnJlbnRZKTtcbiAgICAvLyAvLyBHZXQgY29vcmRpbmF0ZVxuICAgIGNvbnN0IHRvcCA9IHRoaXMuY29udGFpbmVyVG9wIC0gc2Nyb2xsO1xuICAgIGNvbnN0IGJvdHRvbSA9IHRoaXMuY29udGFpbmVyQm90dG9tIC0gc2Nyb2xsO1xuICAgIGNvbnN0IGN1cnJlbnRZID0gTWF0aC5tYXgodG9wLCBNYXRoLm1pbihldi5jdXJyZW50WSwgYm90dG9tKSk7XG4gICAgY29uc3QgZGVsdGFZID0gc2Nyb2xsICsgY3VycmVudFkgLSBldi5zdGFydFk7XG4gICAgY29uc3Qgbm9ybWFsaXplZFkgPSBjdXJyZW50WSAtIHRvcDtcbiAgICBjb25zdCB0b0luZGV4ID0gdGhpcy5pdGVtSW5kZXhGb3JUb3Aobm9ybWFsaXplZFkpO1xuICAgIGlmICh0b0luZGV4ICE9PSB0aGlzLmxhc3RUb0luZGV4KSB7XG4gICAgICBjb25zdCBmcm9tSW5kZXggPSBpbmRleEZvckl0ZW0oc2VsZWN0ZWRJdGVtKTtcbiAgICAgIHRoaXMubGFzdFRvSW5kZXggPSB0b0luZGV4O1xuICAgICAgaGFwdGljU2VsZWN0aW9uQ2hhbmdlZCgpO1xuICAgICAgdGhpcy5yZW9yZGVyTW92ZShmcm9tSW5kZXgsIHRvSW5kZXgpO1xuICAgIH1cbiAgICAvLyBVcGRhdGUgc2VsZWN0ZWQgaXRlbSBwb3NpdGlvblxuICAgIHNlbGVjdGVkSXRlbS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWSgke2RlbHRhWX1weClgO1xuICB9XG4gIG9uRW5kKCkge1xuICAgIGNvbnN0IHNlbGVjdGVkSXRlbUVsID0gdGhpcy5zZWxlY3RlZEl0ZW1FbDtcbiAgICB0aGlzLnN0YXRlID0gMiAvKiBDb21wbGV0ZSAqLztcbiAgICBpZiAoIXNlbGVjdGVkSXRlbUVsKSB7XG4gICAgICB0aGlzLnN0YXRlID0gMCAvKiBJZGxlICovO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0b0luZGV4ID0gdGhpcy5sYXN0VG9JbmRleDtcbiAgICBjb25zdCBmcm9tSW5kZXggPSBpbmRleEZvckl0ZW0oc2VsZWN0ZWRJdGVtRWwpO1xuICAgIGlmICh0b0luZGV4ID09PSBmcm9tSW5kZXgpIHtcbiAgICAgIHRoaXMuY29tcGxldGVTeW5jKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5pb25JdGVtUmVvcmRlci5lbWl0KHtcbiAgICAgICAgZnJvbTogZnJvbUluZGV4LFxuICAgICAgICB0bzogdG9JbmRleCxcbiAgICAgICAgY29tcGxldGU6IHRoaXMuY29tcGxldGVTeW5jLmJpbmQodGhpcylcbiAgICAgIH0pO1xuICAgIH1cbiAgICBoYXB0aWNTZWxlY3Rpb25FbmQoKTtcbiAgfVxuICBjb21wbGV0ZVN5bmMobGlzdE9yUmVvcmRlcikge1xuICAgIGNvbnN0IHNlbGVjdGVkSXRlbUVsID0gdGhpcy5zZWxlY3RlZEl0ZW1FbDtcbiAgICBpZiAoc2VsZWN0ZWRJdGVtRWwgJiYgdGhpcy5zdGF0ZSA9PT0gMiAvKiBDb21wbGV0ZSAqLykge1xuICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmVsLmNoaWxkcmVuO1xuICAgICAgY29uc3QgbGVuID0gY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgY29uc3QgdG9JbmRleCA9IHRoaXMubGFzdFRvSW5kZXg7XG4gICAgICBjb25zdCBmcm9tSW5kZXggPSBpbmRleEZvckl0ZW0oc2VsZWN0ZWRJdGVtRWwpO1xuICAgICAgaWYgKHRvSW5kZXggIT09IGZyb21JbmRleCAmJiAobGlzdE9yUmVvcmRlciA9PT0gdW5kZWZpbmVkIHx8IGxpc3RPclJlb3JkZXIgPT09IHRydWUpKSB7XG4gICAgICAgIGNvbnN0IHJlZiA9IChmcm9tSW5kZXggPCB0b0luZGV4KVxuICAgICAgICAgID8gY2hpbGRyZW5bdG9JbmRleCArIDFdXG4gICAgICAgICAgOiBjaGlsZHJlblt0b0luZGV4XTtcbiAgICAgICAgdGhpcy5lbC5pbnNlcnRCZWZvcmUoc2VsZWN0ZWRJdGVtRWwsIHJlZik7XG4gICAgICB9XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShsaXN0T3JSZW9yZGVyKSkge1xuICAgICAgICBsaXN0T3JSZW9yZGVyID0gcmVvcmRlckFycmF5KGxpc3RPclJlb3JkZXIsIGZyb21JbmRleCwgdG9JbmRleCk7XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGNoaWxkcmVuW2ldLnN0eWxlWyd0cmFuc2Zvcm0nXSA9ICcnO1xuICAgICAgfVxuICAgICAgc2VsZWN0ZWRJdGVtRWwuc3R5bGUudHJhbnNpdGlvbiA9ICcnO1xuICAgICAgc2VsZWN0ZWRJdGVtRWwuY2xhc3NMaXN0LnJlbW92ZShJVEVNX1JFT1JERVJfU0VMRUNURUQpO1xuICAgICAgdGhpcy5zZWxlY3RlZEl0ZW1FbCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuc3RhdGUgPSAwIC8qIElkbGUgKi87XG4gICAgfVxuICAgIHJldHVybiBsaXN0T3JSZW9yZGVyO1xuICB9XG4gIGl0ZW1JbmRleEZvclRvcChkZWx0YVkpIHtcbiAgICBjb25zdCBoZWlnaHRzID0gdGhpcy5jYWNoZWRIZWlnaHRzO1xuICAgIC8vIFRPRE86IHNpbmNlIGhlaWdodHMgaXMgYSBzb3J0ZWQgYXJyYXkgb2YgaW50ZWdlcnMsIHdlIGNhbiBkb1xuICAgIC8vIHNwZWVkIHVwIHRoZSBzZWFyY2ggdXNpbmcgYmluYXJ5IHNlYXJjaC4gUmVtZW1iZXIgdGhhdCBsaW5lYXItc2VhcmNoIGlzIHN0aWxsXG4gICAgLy8gZmFzdGVyIHRoYW4gYmluYXJ5LXNlYXJjaCBmb3Igc21hbGwgYXJyYXlzICg8NjQpIGR1ZSBDUFUgYnJhbmNoIG1pc3ByZWRpY3Rpb24uXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBoZWlnaHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoaGVpZ2h0c1tpXSA+IGRlbHRhWSkge1xuICAgICAgICByZXR1cm4gaTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGhlaWdodHMubGVuZ3RoIC0gMTtcbiAgfVxuICAvKioqKioqKioqIERPTSBXUklURSAqKioqKioqKiogKi9cbiAgcmVvcmRlck1vdmUoZnJvbUluZGV4LCB0b0luZGV4KSB7XG4gICAgY29uc3QgaXRlbUhlaWdodCA9IHRoaXMuc2VsZWN0ZWRJdGVtSGVpZ2h0O1xuICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5lbC5jaGlsZHJlbjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBzdHlsZSA9IGNoaWxkcmVuW2ldLnN0eWxlO1xuICAgICAgbGV0IHZhbHVlID0gJyc7XG4gICAgICBpZiAoaSA+IGZyb21JbmRleCAmJiBpIDw9IHRvSW5kZXgpIHtcbiAgICAgICAgdmFsdWUgPSBgdHJhbnNsYXRlWSgkey1pdGVtSGVpZ2h0fXB4KWA7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChpIDwgZnJvbUluZGV4ICYmIGkgPj0gdG9JbmRleCkge1xuICAgICAgICB2YWx1ZSA9IGB0cmFuc2xhdGVZKCR7aXRlbUhlaWdodH1weClgO1xuICAgICAgfVxuICAgICAgc3R5bGVbJ3RyYW5zZm9ybSddID0gdmFsdWU7XG4gICAgfVxuICB9XG4gIGF1dG9zY3JvbGwocG9zWSkge1xuICAgIGlmICghdGhpcy5zY3JvbGxFbCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGxldCBhbW91bnQgPSAwO1xuICAgIGlmIChwb3NZIDwgdGhpcy5zY3JvbGxFbFRvcCkge1xuICAgICAgYW1vdW50ID0gLVNDUk9MTF9KVU1QO1xuICAgIH1cbiAgICBlbHNlIGlmIChwb3NZID4gdGhpcy5zY3JvbGxFbEJvdHRvbSkge1xuICAgICAgYW1vdW50ID0gU0NST0xMX0pVTVA7XG4gICAgfVxuICAgIGlmIChhbW91bnQgIT09IDApIHtcbiAgICAgIHRoaXMuc2Nyb2xsRWwuc2Nyb2xsQnkoMCwgYW1vdW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Nyb2xsRWwuc2Nyb2xsVG9wIC0gdGhpcy5zY3JvbGxFbEluaXRpYWw7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IG1vZGUgPSBnZXRJb25Nb2RlKHRoaXMpO1xuICAgIHJldHVybiAoaChIb3N0LCB7IGNsYXNzOiB7XG4gICAgICAgIFttb2RlXTogdHJ1ZSxcbiAgICAgICAgJ3Jlb3JkZXItZW5hYmxlZCc6ICF0aGlzLmRpc2FibGVkLFxuICAgICAgICAncmVvcmRlci1saXN0LWFjdGl2ZSc6IHRoaXMuc3RhdGUgIT09IDAgLyogSWRsZSAqLyxcbiAgICAgIH0gfSkpO1xuICB9XG4gIGdldCBlbCgpIHsgcmV0dXJuIGdldEVsZW1lbnQodGhpcyk7IH1cbiAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICBcImRpc2FibGVkXCI6IFtcImRpc2FibGVkQ2hhbmdlZFwiXVxuICB9OyB9XG59O1xuY29uc3QgaW5kZXhGb3JJdGVtID0gKGVsZW1lbnQpID0+IHtcbiAgcmV0dXJuIGVsZW1lbnRbJyRpb25JbmRleCddO1xufTtcbmNvbnN0IGZpbmRSZW9yZGVySXRlbSA9IChub2RlLCBjb250YWluZXIpID0+IHtcbiAgbGV0IHBhcmVudDtcbiAgd2hpbGUgKG5vZGUpIHtcbiAgICBwYXJlbnQgPSBub2RlLnBhcmVudEVsZW1lbnQ7XG4gICAgaWYgKHBhcmVudCA9PT0gY29udGFpbmVyKSB7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgbm9kZSA9IHBhcmVudDtcbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcbmNvbnN0IEFVVE9fU0NST0xMX01BUkdJTiA9IDYwO1xuY29uc3QgU0NST0xMX0pVTVAgPSAxMDtcbmNvbnN0IElURU1fUkVPUkRFUl9TRUxFQ1RFRCA9ICdyZW9yZGVyLXNlbGVjdGVkJztcbmNvbnN0IHJlb3JkZXJBcnJheSA9IChhcnJheSwgZnJvbSwgdG8pID0+IHtcbiAgY29uc3QgZWxlbWVudCA9IGFycmF5W2Zyb21dO1xuICBhcnJheS5zcGxpY2UoZnJvbSwgMSk7XG4gIGFycmF5LnNwbGljZSh0bywgMCwgZWxlbWVudCk7XG4gIHJldHVybiBhcnJheS5zbGljZSgpO1xufTtcblJlb3JkZXJHcm91cC5zdHlsZSA9IHJlb3JkZXJHcm91cENzcztcblxuZXhwb3J0IHsgUmVvcmRlciBhcyBpb25fcmVvcmRlciwgUmVvcmRlckdyb3VwIGFzIGlvbl9yZW9yZGVyX2dyb3VwIH07XG4iXX0=