{"version":3,"mappings":"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CEA;;AACEA;;AAEFA;;AACAA;;AACEA;;AAEFA;;AACAA;;AACEA;;AAEFA;;AACAA;;AACEA;;AAEFA;;AACAA;;AACEA;;AAEFA;;AACAA;;AACEA;;AAEFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAgCA;;;;AAA0CA;;AAC1EA;;AACEA;;;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AAEFA;;AACAA;;AACEA;;AACFA;;AACAA;;AACEA;;AAEFA;;AACAA;;AACEA;;AAGFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAgCA;;;;AAA0CA;;AAC1EA;;AACEA;;;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AAEFA;;AACAA;;AACEA;;AAEFA;;AACAA;;AACEA;;AAEFA;;AACAA;;AACEA;;AAEFA;;AACAA;;AACEA;;AAEFA;;AACAA;;AACEA;;AAEFA;;AACAA;;AACEA;;AAEFA;;AAIFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAgCA;;;;AAA0CA;;AAC1EA;;AACEA;;;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AACEA;;AAEAA;;AAEAA;;AAEAA;;AAEAA;;AAEAA;;AAEFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAgCA;;;;AAAmDA;;AACnFA;;AACEA;;;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AACEA;;AACEA;;AAA8DA;;AAC9DA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAAgCA;;;;AAAoCA;;AACpEA;;AACEA;;AACEA;;AAA0BA;;;;AAAoCA;;AAC9DA;;AAA0BA;;;;AAAoCA;;AAC9DA;;AAA0BA;;;;AAAoCA;;AAChEA;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACFA;;AACAA;;AACEA;;AACEA;;AAA+DA;AAAA,qBAASyC,WAAT;AAAgB,aAAhB;;AAC7DzC;;;;AAGFA;;AACFA;;AACFA;;;;AA3NiCA;;AAAAA;;AAWuBA;;AAAAA;;AAOxCA;;AAAAA;;AAA2BA;;AAAAA;;AAA4CA;;AAAAA;;AAKrEA;;AAAAA;;AAA2DA;;AAAAA;;AAGjDA;;AAAAA;;AAA8CA;;AAEGA;;AAAAA;;AAmBpBA;;AAAAA;;AAIAA;;AAAAA;;AAICA;;AAAAA;;AAIAA;;AAAAA;;AAICA;;AAAAA;;AAO3CA;;AAAAA;;AAA4BA;;AAAAA;;AAE9BA;;AAAAA;;AAkBiDA;;AAAAA;;AAIGA;;AAAAA;;AAQlDA;;AAAAA;;AAA4BA;;AAAAA;;AAE9BA;;AAAAA;;AAWmDA;;AAAAA;;AAITA;;AAAAA;;AAIHA;;AAAAA;;AAIEA;;AAAAA;;AAIGA;;AAAAA;;AAIJA;;AAAAA;;AAIDA;;AAAAA;;AAUrCA;;AAAAA;;AAA4BA;;AAAAA;;AAE9BA;;AAAAA;;AAW0DA;;AAAAA;;AAEAA;;AAAAA;;AAEAA;;AAAAA;;AAEAA;;AAAAA;;AAEAA;;AAAAA;;AASxDA;;AAAAA;;AAA4BA;;AAAAA;;AAE9BA;;AAAAA;;AAUsBA;;AAAAA;;AAMpBA;;AAAAA;;AAA4BA;;AAAAA;;AAGxBA;;AAAAA;;AAAsBA;;AAAAA;;AACtBA;;AAAAA;;AAAsBA;;AAAAA;;AACtBA;;AAAAA;;AAAsBA;;AAAAA;;AAYpCA;;AAAAA;;;;;;;qBC1MQ0C;;;;;","names":["scaleUpCubicBezier","defaultDuration","scaleUpHeaderFrom","keyFramesScaleUp","transform","offset","keyFramesPulse","keyFramesScaleUpHeader","getScaleUpAnimation","delay","getFadeInAnimation","page","opacity","getHeaderAnimation","animations","routes","path","component","_start_wizard_page__WEBPACK_IMPORTED_MODULE_0__","StartWizardPageModule","_angular_router__WEBPACK_IMPORTED_MODULE_3__","_modules_shared_shared_module__WEBPACK_IMPORTED_MODULE_1__","declarations","imports","_angular_core__WEBPACK_IMPORTED_MODULE_3__","StartWizardPage","userSettingService","navController","_varsom_regobs_common_core__WEBPACK_IMPORTED_MODULE_4__","_settings__WEBPACK_IMPORTED_MODULE_2__","lang","Object","langKey","rxjs__WEBPACK_IMPORTED_MODULE_5__","state","userSetting$","pipe","subscribe","us","language","initStarIndexCounter","setPageIndex","toPromise","userSettings","saveUserSettings","index","setTimeout","resetVisibleStars","activeIndex","next","visibleStarNumber","isIncreasing","ngDestroy$","complete","slides","slideNext","reachedEnd","completedStartWizard","navigateRoot","slideTo","getActiveIndex","showLegalIcon","selectors","viewQuery","_ionic_angular__WEBPACK_IMPORTED_MODULE_13__","ctx","_start_wizard_animations__WEBPACK_IMPORTED_MODULE_1__"],"sources":["webpack:///src/app/pages/start-wizard/start-wizard.animations.ts","webpack:///src/app/pages/start-wizard/start-wizard.module.ts","webpack:///src/app/pages/start-wizard/start-wizard.page.html","webpack:///src/app/pages/start-wizard/start-wizard.page.ts"],"sourcesContent":["import {\r\n  trigger,\r\n  state,\r\n  transition,\r\n  style,\r\n  animate,\r\n  keyframes\r\n} from '@angular/animations';\r\n\r\nexport const scaleUpCubicBezier = 'cubic-bezier(0.64, 0.1, 0.57, 1.53)';\r\nexport const defaultDuration = '700ms';\r\nexport const scaleUpHeaderFrom = 'scale3d(0.9, 0.9, 1)';\r\n\r\nexport const keyFramesScaleUp = keyframes([\r\n  style({ transform: 'scale3d(0, 0, 1)', offset: 0 }),\r\n  style({ transform: 'scale3d(1, 1, 1)', offset: 1 })\r\n]);\r\n\r\nexport const keyFramesPulse = keyframes([\r\n  style({ transform: 'scale3d(1, 1, 1)', offset: 0 }),\r\n  style({ transform: 'scale3d(1.2, 1.2, 1.2)', offset: 0.5 }),\r\n  style({ transform: 'scale3d(1, 1, 1)', offset: 1.0 })\r\n]);\r\n\r\nexport const keyFramesScaleUpHeader = keyframes([\r\n  style({ transform: scaleUpHeaderFrom, offset: 0 }),\r\n  style({ transform: 'scale3d(1, 1, 1)', offset: 1 })\r\n]);\r\n\r\nexport function getScaleUpAnimation(delay: number) {\r\n  return [\r\n    state(\r\n      '*',\r\n      style({\r\n        transform: 'scale3d(0, 0, 1)'\r\n      })\r\n    ),\r\n    // http://cubic-bezier.com/#.64,.1,.57,1.53\r\n    transition(\r\n      '* => page_1',\r\n      animate(\r\n        `${defaultDuration} ${delay}ms ${scaleUpCubicBezier}`,\r\n        keyFramesScaleUp\r\n      )\r\n    ),\r\n    state(\r\n      'page_1',\r\n      style({\r\n        transform: 'scale3d(1, 1, 1)'\r\n      })\r\n    )\r\n  ];\r\n}\r\n\r\nexport function getFadeInAnimation(page: number, delay: number) {\r\n  return [\r\n    state(\r\n      '*',\r\n      style({\r\n        opacity: 0\r\n      })\r\n    ),\r\n    // http://cubic-bezier.com/#.64,.1,.57,1.53\r\n    transition(\r\n      `* => page_${page}`,\r\n      animate(\r\n        `500ms ${delay}ms ease-out`,\r\n        keyframes([\r\n          style({ opacity: 0, offset: 0 }),\r\n          style({ opacity: 1, offset: 1 })\r\n        ])\r\n      )\r\n    ),\r\n    transition(\r\n      `page_${page} => *`,\r\n      animate(\r\n        '500ms ease-out',\r\n        keyframes([\r\n          style({ opacity: 1, offset: 0 }),\r\n          style({ opacity: 0, offset: 1 })\r\n        ])\r\n      )\r\n    ),\r\n    state(\r\n      `page_${page}`,\r\n      style({\r\n        opacity: 1\r\n      })\r\n    )\r\n  ];\r\n}\r\n\r\nexport function getHeaderAnimation(page: number) {\r\n  return [\r\n    state(\r\n      '*',\r\n      style({\r\n        transform: scaleUpHeaderFrom\r\n      })\r\n    ),\r\n    transition(\r\n      `* => page_${page}`,\r\n      animate(`500ms 200ms ${scaleUpCubicBezier}`, keyFramesScaleUpHeader)\r\n    ),\r\n    state(\r\n      `page_${page}`,\r\n      style({\r\n        transform: 'scale3d(1, 1, 1)'\r\n      })\r\n    )\r\n  ];\r\n}\r\n\r\nexport const animations = [\r\n  // Generic animations\r\n  trigger('pulse', [\r\n    state(\r\n      '*',\r\n      style({\r\n        transform: 'scale3d(1, 1, 1)'\r\n      })\r\n    ),\r\n    transition(\r\n      '* => *',\r\n      animate(`${defaultDuration} 500ms ease-out`, keyFramesPulse)\r\n    )\r\n  ]),\r\n\r\n  // Page 0 animations\r\n  trigger('headerAnimation', getHeaderAnimation(0)),\r\n\r\n  // Page 1 animations\r\n  trigger('headerAnimation1', getHeaderAnimation(1)),\r\n  trigger('scaleUpIce', getScaleUpAnimation(500)),\r\n  trigger('scaleUpWater', getScaleUpAnimation(700)),\r\n  trigger('scaleUpWarning', getScaleUpAnimation(820)),\r\n  trigger('scaleUpSnow', getScaleUpAnimation(1000)),\r\n  trigger('scaleUpDirt', getScaleUpAnimation(650)),\r\n  trigger('bouncePath', [\r\n    state(\r\n      '*',\r\n      style({\r\n        transform: 'translateX(0)'\r\n      })\r\n    ),\r\n    transition(\r\n      'page_0 => page_1',\r\n      animate(\r\n        '700ms ease-out',\r\n        keyframes([\r\n          style({ transform: 'translateX(0)', offset: 0 }),\r\n          style({ transform: 'translateX(65px)', offset: 0.5 }),\r\n          style({ transform: 'translateX(0)', offset: 1.0 })\r\n        ])\r\n      )\r\n    ),\r\n    transition(\r\n      'page_2 => page_1',\r\n      animate(\r\n        '700ms ease-out',\r\n        keyframes([\r\n          style({ transform: 'translateX(0)', offset: 0 }),\r\n          style({ transform: 'translateX(-65px)', offset: 0.5 }),\r\n          style({ transform: 'translateX(0)', offset: 1.0 })\r\n        ])\r\n      )\r\n    )\r\n  ]),\r\n\r\n  // Page 2 animations\r\n  trigger('headerAnimation2', getHeaderAnimation(2)),\r\n  trigger('slideInFromRight', [\r\n    state(\r\n      '*',\r\n      style({\r\n        transform: 'translateX(200px)'\r\n      })\r\n    ),\r\n    transition(\r\n      '* => page_2',\r\n      animate(\r\n        '1200ms ease-out',\r\n        keyframes([\r\n          style({ transform: 'translateX(200px)', offset: 0 }),\r\n          style({ transform: 'translateX(0)', offset: 1.0 })\r\n        ])\r\n      )\r\n    ),\r\n    state(\r\n      'page_2',\r\n      style({\r\n        transform: 'translateX(0)'\r\n      })\r\n    )\r\n  ]),\r\n  trigger('nudgeExclamation', [\r\n    transition('* => page_2', animate('500ms 700ms ease-out', keyFramesPulse))\r\n  ]),\r\n\r\n  // Page 3 animations\r\n  trigger('headerAnimation3', getHeaderAnimation(3)),\r\n  trigger('moveDownRight', [\r\n    transition(\r\n      '* => page_3',\r\n      animate(\r\n        '700ms ease-out',\r\n        keyframes([\r\n          style({ transform: 'translate(-30px, -20px)', offset: 0 }),\r\n          style({ transform: 'translate(0px, 0px)', offset: 1 })\r\n        ])\r\n      )\r\n    )\r\n  ]),\r\n  trigger('moveDownRightLess', [\r\n    transition(\r\n      '* => page_3',\r\n      animate(\r\n        '700ms ease-out',\r\n        keyframes([\r\n          style({ transform: 'translate(-10px, -20px)', offset: 0 }),\r\n          style({ transform: 'translate(0px, 0px)', offset: 1 })\r\n        ])\r\n      )\r\n    )\r\n  ]),\r\n  trigger('moveDownLeft', [\r\n    transition(\r\n      '* => page_3',\r\n      animate(\r\n        '700ms ease-out',\r\n        keyframes([\r\n          style({ transform: 'translate(10px, -20px)', offset: 0 }),\r\n          style({ transform: 'translate(0px, 0px)', offset: 1 })\r\n        ])\r\n      )\r\n    )\r\n  ]),\r\n  trigger('moveLeftAndABitDown', [\r\n    transition(\r\n      '* => page_3',\r\n      animate(\r\n        '700ms ease-out',\r\n        keyframes([\r\n          style({ transform: 'translate(20px, -10px)', offset: 0 }),\r\n          style({ transform: 'translate(0px, 0px)', offset: 1 })\r\n        ])\r\n      )\r\n    )\r\n  ]),\r\n  trigger('moveUpAndABitLeft', [\r\n    transition(\r\n      '* => page_3',\r\n      animate(\r\n        '700ms ease-out',\r\n        keyframes([\r\n          style({ transform: 'translate(6px, 25px)', offset: 0 }),\r\n          style({ transform: 'translate(0px, 0px)', offset: 1 })\r\n        ])\r\n      )\r\n    )\r\n  ]),\r\n  trigger('moveUp', [\r\n    state(\r\n      '*',\r\n      style({\r\n        transform: 'translateY(20px)'\r\n      })\r\n    ),\r\n    transition(\r\n      '* => page_3',\r\n      animate(\r\n        `700ms ${scaleUpCubicBezier}`,\r\n        keyframes([\r\n          style({ transform: 'translateY(20px)', offset: 0 }),\r\n          style({ transform: 'translateY(0px)', offset: 1 })\r\n        ])\r\n      )\r\n    ),\r\n    transition(\r\n      'page_3 => *',\r\n      animate(\r\n        `700ms ${scaleUpCubicBezier}`,\r\n        keyframes([\r\n          style({ transform: 'translateY(0px)', offset: 0 }),\r\n          style({ transform: 'translateY(20px)', offset: 1 })\r\n        ])\r\n      )\r\n    ),\r\n    state(\r\n      'page_3',\r\n      style({\r\n        transform: 'translateY(0px)'\r\n      })\r\n    )\r\n  ]),\r\n\r\n  // Page 4 animations\r\n  trigger('headerAnimation4', getHeaderAnimation(4)),\r\n\r\n  // Page 5 animations\r\n  trigger('headerAnimation5', getHeaderAnimation(5)),\r\n  trigger('legalText1', getFadeInAnimation(5, 1000)),\r\n  trigger('legalText2', getFadeInAnimation(5, 2000)),\r\n  trigger('legalText3', getFadeInAnimation(5, 3000))\r\n];\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { StartWizardPage } from './start-wizard.page';\r\nimport { SharedModule } from '../../modules/shared/shared.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: StartWizardPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes), SharedModule],\r\n  declarations: [StartWizardPage]\r\n})\r\nexport class StartWizardPageModule {}\r\n","<ion-content>\r\n  <ion-slides class=\"onboarding\" [options]=\"{autoplay:false}\" pager=\"true\"\r\n    (ionSlideReachEnd)=\"ionSlideReachEnd()\" (ionSlidePrevStart)=\"ionSlidePrevStart()\"\r\n    (ionSlideTransitionStart)=\"ionSlideTransitionStart()\">\r\n    <ion-slide>\r\n      <ion-grid class=\"full-grid\">\r\n        <ion-row class=\"full-grid-row\">\r\n          <ion-col class=\"ion-align-self-center\">\r\n            <div class=\"animated-element-wrapper\">\r\n              <svg-icon class=\"animated-element eclipse\" src=\"/assets/images/onboarding/eclipse.svg\"></svg-icon>\r\n            </div>\r\n            <div class=\"animated-element-wrapper\">\r\n              <svg-icon class=\"animated-element bubble\" [@pulse]=\"state\" src=\"/assets/images/onboarding/bubble.svg\">\r\n              </svg-icon>\r\n            </div>\r\n          </ion-col>\r\n        </ion-row>\r\n        <ion-row class=\"full-grid-row\">\r\n          <ion-col class=\"ion-align-self-center\">\r\n            <h2 [@headerAnimation]=\"state\">{{ \"SETTINGS.LANGUAGE\" | translate }}<span *ngIf=\"language !== LangKey.en\"> /\r\n                Language</span></h2>\r\n            <ion-list class=\"language-list\">\r\n              <ion-item class=\"ion-no-padding\">\r\n                <ion-label position=\"stacked\" color=\"medium\">\r\n                  {{'START_WIZARD.CHOOSE_LANGUAGE.HEADER'| translate}}<span *ngIf=\"language !== LangKey.en\"> / Choose\r\n                    language</span>\r\n                </ion-label>\r\n                <ion-select cancelText=\"{{'DIALOGS.CANCEL' | translate}}\" [(ngModel)]=\"language\"\r\n                  interface=\"action-sheet\" (ngModelChange)=\"saveLanguage()\">\r\n                  <ion-select-option [value]=\"lang.langKey\" *ngFor=\"let lang of supportedLanguages\">\r\n                    {{ lang.name }}\r\n                  </ion-select-option>\r\n                </ion-select>\r\n              </ion-item>\r\n            </ion-list>\r\n          </ion-col>\r\n        </ion-row>\r\n      </ion-grid>\r\n    </ion-slide>\r\n    <ion-slide>\r\n      <ion-grid class=\"full-grid\">\r\n        <ion-row class=\"full-grid-row\">\r\n          <ion-col class=\"ion-align-self-center\">\r\n            <div class=\"animated-element-wrapper\">\r\n              <svg-icon class=\"animated-element line\" src=\"/assets/images/onboarding/line.svg\">\r\n              </svg-icon>\r\n            </div>\r\n            <div class=\"animated-element-wrapper\">\r\n              <svg-icon class=\"animated-element warning\" [@scaleUpWarning]=\"state\"\r\n                src=\"/assets/images/onboarding/warning.svg\"></svg-icon>\r\n            </div>\r\n            <div class=\"animated-element-wrapper\">\r\n              <svg-icon class=\"animated-element pin-ice\" [@scaleUpIce]=\"state\" src=\"/assets/icon/map/pin-ice.svg\">\r\n              </svg-icon>\r\n            </div>\r\n            <div class=\"animated-element-wrapper\">\r\n              <svg-icon class=\"animated-element pin-dirt\" [@scaleUpDirt]=\"state\" src=\"/assets/icon/map/pin-dirt.svg\">\r\n              </svg-icon>\r\n            </div>\r\n            <div class=\"animated-element-wrapper\">\r\n              <svg-icon class=\"animated-element pin-snow\" [@scaleUpSnow]=\"state\" src=\"/assets/icon/map/pin-snow.svg\">\r\n              </svg-icon>\r\n            </div>\r\n            <div class=\"animated-element-wrapper\">\r\n              <svg-icon class=\"animated-element pin-water\" [@scaleUpWater]=\"state\" src=\"/assets/icon/map/pin-water.svg\">\r\n              </svg-icon>\r\n            </div>\r\n          </ion-col>\r\n        </ion-row>\r\n        <ion-row class=\"full-grid-row\">\r\n          <ion-col class=\"ion-align-self-center\">\r\n            <h2 [@headerAnimation1]=\"state\">{{'START_WIZARD.PAGE_1.HEADER'|translate}}</h2>\r\n            <h3 class=\"ion-text-wrap\">\r\n              {{'START_WIZARD.PAGE_1.LINE_1'|translate}}\r\n            </h3>\r\n          </ion-col>\r\n        </ion-row>\r\n      </ion-grid>\r\n    </ion-slide>\r\n    <ion-slide>\r\n      <ion-grid class=\"full-grid\">\r\n        <ion-row class=\"full-grid-row\">\r\n          <ion-col class=\"ion-align-self-center\">\r\n            <div class=\"animated-element-wrapper\">\r\n              <svg-icon class=\"animated-element steepness-background\"\r\n                src=\"/assets/images/onboarding/steepness-background.svg\"></svg-icon>\r\n            </div>\r\n            <div class=\"animated-element-wrapper\">\r\n              <svg-icon class=\"animated-element danger-map\" src=\"/assets/images/onboarding/danger-map.svg\"></svg-icon>\r\n            </div>\r\n            <div class=\"animated-element-wrapper\">\r\n              <svg-icon class=\"animated-element user-location\" [@slideInFromRight]=\"state\"\r\n                src=\"/assets/images/onboarding/user-location.svg\"></svg-icon>\r\n            </div>\r\n            <div class=\"animated-element-wrapper\">\r\n              <svg-icon class=\"animated-element exclamation-mark\" [@nudgeExclamation]=\"state\"\r\n                src=\"/assets/images/onboarding/exclamation-mark.svg\">\r\n              </svg-icon>\r\n            </div>\r\n          </ion-col>\r\n        </ion-row>\r\n        <ion-row class=\"full-grid-row\">\r\n          <ion-col class=\"ion-align-self-center\">\r\n            <h2 [@headerAnimation2]=\"state\">{{'START_WIZARD.PAGE_2.HEADER'|translate}}</h2>\r\n            <h3 class=\"ion-text-wrap\">\r\n              {{'START_WIZARD.PAGE_2.LINE_1'|translate}}\r\n            </h3>\r\n          </ion-col>\r\n        </ion-row>\r\n      </ion-grid>\r\n    </ion-slide>\r\n    <ion-slide>\r\n      <ion-grid class=\"full-grid\">\r\n        <ion-row class=\"full-grid-row\">\r\n          <ion-col class=\"ion-align-self-center\">\r\n            <div class=\"animated-element-wrapper\">\r\n              <svg-icon class=\"animated-element add-observation\" [@pulse]=\"state\"\r\n                src=\"/assets/images/onboarding/add-observation.svg\"></svg-icon>\r\n            </div>\r\n            <div class=\"animated-element-wrapper\">\r\n              <svg-icon class=\"animated-element photos\" [@moveDownRight]=\"state\"\r\n                src=\"/assets/images/onboarding/photos.svg\"></svg-icon>\r\n            </div>\r\n            <div class=\"animated-element-wrapper\">\r\n              <svg-icon class=\"animated-element pin\" [@moveDownRightLess]=\"state\"\r\n                src=\"/assets/images/onboarding/pin.svg\"></svg-icon>\r\n            </div>\r\n            <div class=\"animated-element-wrapper\">\r\n              <svg-icon class=\"animated-element ruler\" [@moveDownRight]=\"state\"\r\n                src=\"/assets/images/onboarding/ruler.svg\"></svg-icon>\r\n            </div>\r\n            <div class=\"animated-element-wrapper\">\r\n              <svg-icon class=\"animated-element document\" [@moveDownLeft]=\"state\"\r\n                src=\"/assets/images/onboarding/document.svg\"></svg-icon>\r\n            </div>\r\n            <div class=\"animated-element-wrapper\">\r\n              <svg-icon class=\"animated-element path\" [@moveDownLeft]=\"state\" src=\"/assets/images/onboarding/path.svg\">\r\n              </svg-icon>\r\n            </div>\r\n            <div class=\"animated-element-wrapper\">\r\n              <svg-icon class=\"animated-element eye\" [@moveLeftAndABitDown]=\"state\"\r\n                src=\"/assets/images/onboarding/eye.svg\"></svg-icon>\r\n            </div>\r\n            <!-- <div class=\"animated-element-wrapper\">\r\n              <h3 class=\"animated-element text\" [@moveUp]=\"state\">{{'START_WIZARD.PAGE_3.BUTTON_TEXT' | translate}}</h3>\r\n            </div> -->\r\n          </ion-col>\r\n        </ion-row>\r\n        <ion-row class=\"full-grid-row\">\r\n          <ion-col class=\"ion-align-self-center\">\r\n            <h2 [@headerAnimation3]=\"state\">{{'START_WIZARD.PAGE_3.HEADER'|translate}}</h2>\r\n            <h3 class=\"ion-text-wrap\">\r\n              {{'START_WIZARD.PAGE_3.LINE_1'|translate}}\r\n            </h3>\r\n          </ion-col>\r\n        </ion-row>\r\n      </ion-grid>\r\n    </ion-slide>\r\n    <ion-slide>\r\n      <ion-grid class=\"full-grid\">\r\n        <ion-row class=\"full-grid-row\">\r\n          <ion-col class=\"ion-align-self-center\">\r\n            <div class=\"animated-element-wrapper\">\r\n              <ion-icon class=\"animated-element star star1\" name=\"star\" [ngClass]=\"{'dark': visibleStarNumber >= 1}\">\r\n              </ion-icon>\r\n              <ion-icon class=\"animated-element star star2\" name=\"star\" [ngClass]=\"{'dark': visibleStarNumber >= 2}\">\r\n              </ion-icon>\r\n              <ion-icon class=\"animated-element star star3\" name=\"star\" [ngClass]=\"{'dark': visibleStarNumber >= 3}\">\r\n              </ion-icon>\r\n              <ion-icon class=\"animated-element star star4\" name=\"star\" [ngClass]=\"{'dark': visibleStarNumber >= 4}\">\r\n              </ion-icon>\r\n              <ion-icon class=\"animated-element star star5\" name=\"star\" [ngClass]=\"{'dark': visibleStarNumber >= 5}\">\r\n              </ion-icon>\r\n              <svg-icon class=\"animated-element competence-finger float\"\r\n                src=\"/assets/images/onboarding/competence-finger.svg\"></svg-icon>\r\n            </div>\r\n          </ion-col>\r\n        </ion-row>\r\n        <ion-row class=\"full-grid-row\">\r\n          <ion-col class=\"ion-align-self-center\">\r\n            <h2 [@headerAnimation4]=\"state\">{{'START_WIZARD.COMPETENCE_PAGE.HEADER'|translate}}</h2>\r\n            <h3 class=\"ion-text-wrap\">\r\n              {{'START_WIZARD.COMPETENCE_PAGE.LINE_1'|translate}}\r\n            </h3>\r\n          </ion-col>\r\n        </ion-row>\r\n      </ion-grid>\r\n    </ion-slide>\r\n    <ion-slide>\r\n      <ion-grid class=\"full-grid legal-grid\">\r\n        <ion-row class=\"legal-info-row\">\r\n          <ion-col class=\"ion-padding ion-align-self-bottom\">\r\n            <div class=\"legal-icon\" [ngClass]=\"{'hide': !showLegalIcon }\">&sect;\r\n            </div>\r\n          </ion-col>\r\n        </ion-row>\r\n        <ion-row class=\"legal-text-row\">\r\n          <ion-col align-self-top>\r\n            <h2 [@headerAnimation5]=\"state\">{{'LEGAL_TERMS.HEADER' | translate}}</h2>\r\n            <h3 class=\"ion-no-padding ion-text-wrap\">\r\n              <ul>\r\n                <li [@legalText1]=\"state\">{{'LEGAL_TERMS.LINE_1' | translate}}</li>\r\n                <li [@legalText2]=\"state\">{{'LEGAL_TERMS.LINE_2' | translate}}</li>\r\n                <li [@legalText3]=\"state\">{{'LEGAL_TERMS.LINE_3' | translate}}</li>\r\n              </ul>\r\n            </h3>\r\n          </ion-col>\r\n        </ion-row>\r\n      </ion-grid>\r\n    </ion-slide>\r\n  </ion-slides>\r\n</ion-content>\r\n<ion-footer>\r\n  <ion-toolbar color=\"varsom-blue\">\r\n    <ion-button class=\"ion-no-margin ion-no-padding\" expand=\"full\" (click)=\"start()\" fill=\"clear\">\r\n      {{ (reachedEnd ?\r\n            'START_WIZARD.I_UNDERSTAND' :\r\n            'START_WIZARD.SKIP_START') |translate}}\r\n    </ion-button>\r\n  </ion-toolbar>\r\n</ion-footer>","import { Component, OnInit, ViewChild, OnDestroy } from '@angular/core';\r\nimport { UserSettingService } from '../../core/services/user-setting/user-setting.service';\r\nimport { IonSlides, NavController } from '@ionic/angular';\r\nimport { LangKey, GeoHazard } from '@varsom-regobs-common/core';\r\nimport { animations } from './start-wizard.animations';\r\nimport { Subject, timer, interval } from 'rxjs';\r\nimport { takeUntil, skipWhile, switchMap, take } from 'rxjs/operators';\r\nimport { settings } from '../../../settings';\r\n\r\n@Component({\r\n  selector: 'app-start-wizard',\r\n  templateUrl: './start-wizard.page.html',\r\n  styleUrls: ['./start-wizard.page.scss'],\r\n  animations: animations\r\n})\r\nexport class StartWizardPage implements OnInit, OnDestroy {\r\n  @ViewChild(IonSlides) slides: IonSlides;\r\n  GeoHazard = GeoHazard;\r\n  LangKey = LangKey;\r\n  state: string;\r\n  reachedEnd = false;\r\n  showLegalIcon = false;\r\n  visibleStarNumber = -1;\r\n  language: LangKey;\r\n  supportedLanguages: {\r\n    lang: string;\r\n    name: string;\r\n    langKey: LangKey;\r\n  }[] = settings.language.supportedLanguages.map((lang) => ({\r\n    ...lang,\r\n    langKey: LangKey[lang.lang]\r\n  }));\r\n\r\n  private ngDestroy$ = new Subject<void>();\r\n  private activeIndex = new Subject<number>();\r\n  private isIncreasing = true;\r\n\r\n  constructor(\r\n    private userSettingService: UserSettingService,\r\n    private navController: NavController\r\n  ) {}\r\n\r\n  ionViewWillEnter() {\r\n    this.state = 'x';\r\n    this.userSettingService.userSetting$.pipe(take(1)).subscribe((us) => {\r\n      this.language = us.language;\r\n      this.initStarIndexCounter();\r\n      this.setPageIndex(0);\r\n    });\r\n  }\r\n\r\n  ngOnInit() {}\r\n\r\n  async saveLanguage() {\r\n    const userSettings = await this.userSettingService.userSetting$\r\n      .pipe(take(1))\r\n      .toPromise();\r\n    this.userSettingService.saveUserSettings({\r\n      ...userSettings,\r\n      language: this.language\r\n    });\r\n  }\r\n\r\n  private setPageIndex(index: number) {\r\n    setTimeout(() => {\r\n      this.resetVisibleStars();\r\n      this.state = `page_${index}`;\r\n      this.activeIndex.next(index);\r\n    }, 0);\r\n  }\r\n\r\n  private resetVisibleStars() {\r\n    this.visibleStarNumber = -1;\r\n    this.isIncreasing = true;\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.ngDestroy$.next();\r\n    this.ngDestroy$.complete();\r\n  }\r\n\r\n  slideNext() {\r\n    timer(700)\r\n      .pipe(takeUntil(this.ngDestroy$))\r\n      .subscribe(() => {\r\n        if (this.slides) {\r\n          this.slides.slideNext();\r\n        }\r\n      });\r\n  }\r\n\r\n  async start() {\r\n    if (this.reachedEnd) {\r\n      const userSettings = await this.userSettingService.userSetting$\r\n        .pipe(take(1))\r\n        .toPromise();\r\n      this.userSettingService.saveUserSettings({\r\n        ...userSettings,\r\n        completedStartWizard: true\r\n      });\r\n      this.navController.navigateRoot('/');\r\n    } else {\r\n      this.slides.slideTo(5, 200);\r\n    }\r\n  }\r\n\r\n  async ionSlideTransitionStart() {\r\n    const index = await this.slides.getActiveIndex();\r\n    this.setPageIndex(index);\r\n  }\r\n\r\n  ionSlideReachEnd() {\r\n    this.reachedEnd = true;\r\n    setTimeout(() => {\r\n      this.showLegalIcon = true;\r\n      // Crazy ios bug to get animation on spinner.. :o\r\n    }, 0);\r\n  }\r\n\r\n  ionSlidePrevStart() {\r\n    this.reachedEnd = false;\r\n  }\r\n\r\n  private initStarIndexCounter() {\r\n    this.activeIndex\r\n      .pipe(\r\n        switchMap((index) => interval(700).pipe(skipWhile(() => index !== 4))),\r\n        takeUntil(this.ngDestroy$)\r\n      )\r\n      .subscribe(() => {\r\n        if (this.isIncreasing && this.visibleStarNumber >= 6) {\r\n          // Count to 6 to add an extra pause on the end\r\n          this.isIncreasing = false;\r\n        }\r\n        if (!this.isIncreasing && this.visibleStarNumber < 0) {\r\n          // Count to -1 to add an extra pause on the start\r\n          this.isIncreasing = true;\r\n        }\r\n        if (this.isIncreasing) {\r\n          this.visibleStarNumber++;\r\n        } else {\r\n          this.visibleStarNumber--;\r\n        }\r\n      });\r\n  }\r\n}\r\n"]}