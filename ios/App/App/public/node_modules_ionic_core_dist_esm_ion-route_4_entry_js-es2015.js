"use strict";
(self["webpackChunkregobs4"] = self["webpackChunkregobs4"] || []).push([["node_modules_ionic_core_dist_esm_ion-route_4_entry_js"],{

/***/ 54990:
/*!****************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/ion-route_4.entry.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ion_route": function() { return /* binding */ Route; },
/* harmony export */   "ion_route_redirect": function() { return /* binding */ RouteRedirect; },
/* harmony export */   "ion_router": function() { return /* binding */ Router; },
/* harmony export */   "ion_router_link": function() { return /* binding */ RouterLink; }
/* harmony export */ });
/* harmony import */ var C_Repos_regobs_regObs4_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ 80151);
/* harmony import */ var _index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-7a8b7a1c.js */ 76842);
/* harmony import */ var _helpers_dd7e4b7b_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./helpers-dd7e4b7b.js */ 40693);
/* harmony import */ var _ionic_global_63a97a32_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ionic-global-63a97a32.js */ 33124);
/* harmony import */ var _theme_ff3fc52f_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./theme-ff3fc52f.js */ 43784);





const Route = class {
  constructor(hostRef) {
    (0,_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.ionRouteDataChanged = (0,_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "ionRouteDataChanged", 7);
    /**
     * Relative path that needs to match in order for this route to apply.
     *
     * Accepts paths similar to expressjs so that you can define parameters
     * in the url /foo/:bar where bar would be available in incoming props.
     */

    this.url = '';
  }

  onUpdate(newValue) {
    this.ionRouteDataChanged.emit(newValue);
  }

  onComponentProps(newValue, oldValue) {
    if (newValue === oldValue) {
      return;
    }

    const keys1 = newValue ? Object.keys(newValue) : [];
    const keys2 = oldValue ? Object.keys(oldValue) : [];

    if (keys1.length !== keys2.length) {
      this.onUpdate(newValue);
      return;
    }

    for (const key of keys1) {
      if (newValue[key] !== oldValue[key]) {
        this.onUpdate(newValue);
        return;
      }
    }
  }

  connectedCallback() {
    this.ionRouteDataChanged.emit();
  }

  static get watchers() {
    return {
      "url": ["onUpdate"],
      "component": ["onUpdate"],
      "componentProps": ["onComponentProps"]
    };
  }

};
const RouteRedirect = class {
  constructor(hostRef) {
    (0,_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.ionRouteRedirectChanged = (0,_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "ionRouteRedirectChanged", 7);
  }

  propDidChange() {
    this.ionRouteRedirectChanged.emit();
  }

  connectedCallback() {
    this.ionRouteRedirectChanged.emit();
  }

  static get watchers() {
    return {
      "from": ["propDidChange"],
      "to": ["propDidChange"]
    };
  }

};
const ROUTER_INTENT_NONE = 'root';
const ROUTER_INTENT_FORWARD = 'forward';
const ROUTER_INTENT_BACK = 'back'; // Join the non empty segments with "/".

const generatePath = segments => {
  const path = segments.filter(s => s.length > 0).join('/');
  return '/' + path;
};

const generateUrl = (segments, useHash, queryString) => {
  let url = generatePath(segments);

  if (useHash) {
    url = '#' + url;
  }

  if (queryString !== undefined) {
    url += '?' + queryString;
  }

  return url;
};

const writePath = (history, root, useHash, path, direction, state, queryString) => {
  const url = generateUrl([...parsePath(root).segments, ...path], useHash, queryString);

  if (direction === ROUTER_INTENT_FORWARD) {
    history.pushState(state, '', url);
  } else {
    history.replaceState(state, '', url);
  }
};

const chainToPath = chain => {
  const path = [];

  for (const route of chain) {
    for (const segment of route.path) {
      if (segment[0] === ':') {
        const param = route.params && route.params[segment.slice(1)];

        if (!param) {
          return null;
        }

        path.push(param);
      } else if (segment !== '') {
        path.push(segment);
      }
    }
  }

  return path;
}; // Remove the prefix segments from the path segments.
//
// Return:
// - null when the path segments do not start with the passed prefix,
// - the path segments after the prefix otherwise.


const removePrefix = (prefix, path) => {
  if (prefix.length > path.length) {
    return null;
  }

  if (prefix.length <= 1 && prefix[0] === '') {
    return path;
  }

  for (let i = 0; i < prefix.length; i++) {
    if (prefix[i] !== path[i]) {
      return null;
    }
  }

  if (path.length === prefix.length) {
    return [''];
  }

  return path.slice(prefix.length);
};

const readPath = (loc, root, useHash) => {
  const prefix = parsePath(root).segments;
  const pathname = useHash ? loc.hash.slice(1) : loc.pathname;
  const path = parsePath(pathname).segments;
  return removePrefix(prefix, path);
}; // Parses the path to:
// - segments an array of '/' separated parts,
// - queryString (undefined when no query string).


const parsePath = path => {
  let segments = [''];
  let queryString;

  if (path != null) {
    const qsStart = path.indexOf('?');

    if (qsStart > -1) {
      queryString = path.substr(qsStart + 1);
      path = path.substr(0, qsStart);
    }

    segments = path.split('/').map(s => s.trim()).filter(s => s.length > 0);

    if (segments.length === 0) {
      segments = [''];
    }
  }

  return {
    segments,
    queryString
  };
};

const printRoutes = routes => {
  console.group(`[ion-core] ROUTES[${routes.length}]`);

  for (const chain of routes) {
    const path = [];
    chain.forEach(r => path.push(...r.path));
    const ids = chain.map(r => r.id);
    console.debug(`%c ${generatePath(path)}`, 'font-weight: bold; padding-left: 20px', '=>\t', `(${ids.join(', ')})`);
  }

  console.groupEnd();
};

const printRedirects = redirects => {
  console.group(`[ion-core] REDIRECTS[${redirects.length}]`);

  for (const redirect of redirects) {
    if (redirect.to) {
      console.debug('FROM: ', `$c ${generatePath(redirect.from)}`, 'font-weight: bold', ' TO: ', `$c ${generatePath(redirect.to.segments)}`, 'font-weight: bold');
    }
  }

  console.groupEnd();
};

const writeNavState = /*#__PURE__*/function () {
  var _ref = (0,C_Repos_regobs_regObs4_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* (root, chain, direction, index, changed = false, animation) {
    try {
      // find next navigation outlet in the DOM
      const outlet = searchNavNode(root); // make sure we can continue interacting the DOM, otherwise abort

      if (index >= chain.length || !outlet) {
        return changed;
      }

      yield new Promise(resolve => (0,_helpers_dd7e4b7b_js__WEBPACK_IMPORTED_MODULE_2__.c)(outlet, resolve));
      const route = chain[index];
      const result = yield outlet.setRouteId(route.id, route.params, direction, animation); // if the outlet changed the page, reset navigation to neutral (no direction)
      // this means nested outlets will not animate

      if (result.changed) {
        direction = ROUTER_INTENT_NONE;
        changed = true;
      } // recursively set nested outlets


      changed = yield writeNavState(result.element, chain, direction, index + 1, changed, animation); // once all nested outlets are visible let's make the parent visible too,
      // using markVisible prevents flickering

      if (result.markVisible) {
        yield result.markVisible();
      }

      return changed;
    } catch (e) {
      console.error(e);
      return false;
    }
  });

  return function writeNavState(_x, _x2, _x3, _x4) {
    return _ref.apply(this, arguments);
  };
}();

const readNavState = /*#__PURE__*/function () {
  var _ref2 = (0,C_Repos_regobs_regObs4_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* (root) {
    const ids = [];
    let outlet;
    let node = root; // tslint:disable-next-line:no-constant-condition

    while (true) {
      outlet = searchNavNode(node);

      if (outlet) {
        const id = yield outlet.getRouteId();

        if (id) {
          node = id.element;
          id.element = undefined;
          ids.push(id);
        } else {
          break;
        }
      } else {
        break;
      }
    }

    return {
      ids,
      outlet
    };
  });

  return function readNavState(_x5) {
    return _ref2.apply(this, arguments);
  };
}();

const waitUntilNavNode = () => {
  if (searchNavNode(document.body)) {
    return Promise.resolve();
  }

  return new Promise(resolve => {
    window.addEventListener('ionNavWillLoad', resolve, {
      once: true
    });
  });
};

const QUERY = ':not([no-router]) ion-nav, :not([no-router]) ion-tabs, :not([no-router]) ion-router-outlet';

const searchNavNode = root => {
  if (!root) {
    return undefined;
  }

  if (root.matches(QUERY)) {
    return root;
  }

  const outlet = root.querySelector(QUERY);
  return outlet !== null && outlet !== void 0 ? outlet : undefined;
}; // Returns whether the given redirect matches the given path segments.
//
// A redirect matches when the segments of the path and redirect.from are equal.
// Note that segments are only checked until redirect.from contains a '*' which matches any path segment.
// The path ['some', 'path', 'to', 'page'] matches both ['some', 'path', 'to', 'page'] and ['some', 'path', '*'].


const matchesRedirect = (path, redirect) => {
  const {
    from,
    to
  } = redirect;

  if (to === undefined) {
    return false;
  }

  if (from.length > path.length) {
    return false;
  }

  for (let i = 0; i < from.length; i++) {
    const expected = from[i];

    if (expected === '*') {
      return true;
    }

    if (expected !== path[i]) {
      return false;
    }
  }

  return from.length === path.length;
}; // Returns the first redirect matching the path segments or undefined when no match found.


const findRouteRedirect = (path, redirects) => {
  return redirects.find(redirect => matchesRedirect(path, redirect));
};

const matchesIDs = (ids, chain) => {
  const len = Math.min(ids.length, chain.length);
  let i = 0;

  for (; i < len; i++) {
    if (ids[i].toLowerCase() !== chain[i].id) {
      break;
    }
  }

  return i;
};

const matchesPath = (inputPath, chain) => {
  const segments = new RouterSegments(inputPath);
  let matchesDefault = false;
  let allparams;

  for (let i = 0; i < chain.length; i++) {
    const path = chain[i].path;

    if (path[0] === '') {
      matchesDefault = true;
    } else {
      for (const segment of path) {
        const data = segments.next(); // data param

        if (segment[0] === ':') {
          if (data === '') {
            return null;
          }

          allparams = allparams || [];
          const params = allparams[i] || (allparams[i] = {});
          params[segment.slice(1)] = data;
        } else if (data !== segment) {
          return null;
        }
      }

      matchesDefault = false;
    }
  }

  const matches = matchesDefault ? matchesDefault === (segments.next() === '') : true;

  if (!matches) {
    return null;
  }

  if (allparams) {
    return chain.map((route, i) => ({
      id: route.id,
      path: route.path,
      params: mergeParams(route.params, allparams[i]),
      beforeEnter: route.beforeEnter,
      beforeLeave: route.beforeLeave
    }));
  }

  return chain;
}; // Merges the route parameter objects.
// Returns undefined when both parameters are undefined.


const mergeParams = (a, b) => {
  return a || b ? Object.assign(Object.assign({}, a), b) : undefined;
};

const routerIDsToChain = (ids, chains) => {
  let match = null;
  let maxMatches = 0;
  const plainIDs = ids.map(i => i.id);

  for (const chain of chains) {
    const score = matchesIDs(plainIDs, chain);

    if (score > maxMatches) {
      match = chain;
      maxMatches = score;
    }
  }

  if (match) {
    return match.map((route, i) => ({
      id: route.id,
      path: route.path,
      params: mergeParams(route.params, ids[i] && ids[i].params)
    }));
  }

  return null;
};

const routerPathToChain = (path, chains) => {
  let match = null;
  let matches = 0;

  for (const chain of chains) {
    const matchedChain = matchesPath(path, chain);

    if (matchedChain !== null) {
      const score = computePriority(matchedChain);

      if (score > matches) {
        matches = score;
        match = matchedChain;
      }
    }
  }

  return match;
};

const computePriority = chain => {
  let score = 1;
  let level = 1;

  for (const route of chain) {
    for (const path of route.path) {
      if (path[0] === ':') {
        score += Math.pow(1, level);
      } else if (path !== '') {
        score += Math.pow(2, level);
      }

      level++;
    }
  }

  return score;
};

class RouterSegments {
  constructor(path) {
    this.path = path.slice();
  }

  next() {
    if (this.path.length > 0) {
      return this.path.shift();
    }

    return '';
  }

}

const readProp = (el, prop) => {
  if (prop in el) {
    return el[prop];
  }

  if (el.hasAttribute(prop)) {
    return el.getAttribute(prop);
  }

  return null;
};

const readRedirects = root => {
  return Array.from(root.children).filter(el => el.tagName === 'ION-ROUTE-REDIRECT').map(el => {
    const to = readProp(el, 'to');
    return {
      from: parsePath(readProp(el, 'from')).segments,
      to: to == null ? undefined : parsePath(to)
    };
  });
};

const readRoutes = root => {
  return flattenRouterTree(readRouteNodes(root));
};

const readRouteNodes = node => {
  return Array.from(node.children).filter(el => el.tagName === 'ION-ROUTE' && el.component).map(el => {
    const component = readProp(el, 'component');
    return {
      path: parsePath(readProp(el, 'url')).segments,
      id: component.toLowerCase(),
      params: el.componentProps,
      beforeLeave: el.beforeLeave,
      beforeEnter: el.beforeEnter,
      children: readRouteNodes(el)
    };
  });
};

const flattenRouterTree = nodes => {
  const chains = [];

  for (const node of nodes) {
    flattenNode([], chains, node);
  }

  return chains;
};

const flattenNode = (chain, chains, node) => {
  chain = chain.slice();
  chain.push({
    id: node.id,
    path: node.path,
    params: node.params,
    beforeLeave: node.beforeLeave,
    beforeEnter: node.beforeEnter
  });

  if (node.children.length === 0) {
    chains.push(chain);
    return;
  }

  for (const child of node.children) {
    flattenNode(chain, chains, child);
  }
};

const Router = class {
  constructor(hostRef) {
    (0,_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.ionRouteWillChange = (0,_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "ionRouteWillChange", 7);
    this.ionRouteDidChange = (0,_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "ionRouteDidChange", 7);
    this.previousPath = null;
    this.busy = false;
    this.state = 0;
    this.lastState = 0;
    /**
     * By default `ion-router` will match the routes at the root path ("/").
     * That can be changed when
     *
     */

    this.root = '/';
    /**
     * The router can work in two "modes":
     * - With hash: `/index.html#/path/to/page`
     * - Without hash: `/path/to/page`
     *
     * Using one or another might depend in the requirements of your app and/or where it's deployed.
     *
     * Usually "hash-less" navigation works better for SEO and it's more user friendly too, but it might
     * requires additional server-side configuration in order to properly work.
     *
     * On the other side hash-navigation is much easier to deploy, it even works over the file protocol.
     *
     * By default, this property is `true`, change to `false` to allow hash-less URLs.
     */

    this.useHash = true;
  }

  componentWillLoad() {
    var _this = this;

    return (0,C_Repos_regobs_regObs4_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      yield waitUntilNavNode();
      const canProceed = yield _this.runGuards(_this.getPath());

      if (canProceed !== true) {
        if (typeof canProceed === 'object') {
          const {
            redirect
          } = canProceed;
          const path = parsePath(redirect);

          _this.setPath(path.segments, ROUTER_INTENT_NONE, path.queryString);

          yield _this.writeNavStateRoot(path.segments, ROUTER_INTENT_NONE);
        }
      } else {
        yield _this.onRoutesChanged();
      }
    })();
  }

  componentDidLoad() {
    window.addEventListener('ionRouteRedirectChanged', (0,_helpers_dd7e4b7b_js__WEBPACK_IMPORTED_MODULE_2__.n)(this.onRedirectChanged.bind(this), 10));
    window.addEventListener('ionRouteDataChanged', (0,_helpers_dd7e4b7b_js__WEBPACK_IMPORTED_MODULE_2__.n)(this.onRoutesChanged.bind(this), 100));
  }

  onPopState() {
    var _this2 = this;

    return (0,C_Repos_regobs_regObs4_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      const direction = _this2.historyDirection();

      let segments = _this2.getPath();

      const canProceed = yield _this2.runGuards(segments);

      if (canProceed !== true) {
        if (typeof canProceed === 'object') {
          segments = parsePath(canProceed.redirect).segments;
        } else {
          return false;
        }
      }

      return _this2.writeNavStateRoot(segments, direction);
    })();
  }

  onBackButton(ev) {
    ev.detail.register(0, processNextHandler => {
      this.back();
      processNextHandler();
    });
  }
  /** @internal */


  canTransition() {
    var _this3 = this;

    return (0,C_Repos_regobs_regObs4_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      const canProceed = yield _this3.runGuards();

      if (canProceed !== true) {
        if (typeof canProceed === 'object') {
          return canProceed.redirect;
        } else {
          return false;
        }
      }

      return true;
    })();
  }
  /**
   * Navigate to the specified URL.
   *
   * @param url The url to navigate to.
   * @param direction The direction of the animation. Defaults to `"forward"`.
   */


  push(url, direction = 'forward', animation) {
    var _this4 = this;

    return (0,C_Repos_regobs_regObs4_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      if (url.startsWith('.')) {
        url = new URL(url, window.location.href).pathname;
      }

      let parsedPath = parsePath(url);
      const canProceed = yield _this4.runGuards(parsedPath.segments);

      if (canProceed !== true) {
        if (typeof canProceed === 'object') {
          parsedPath = parsePath(canProceed.redirect);
        } else {
          return false;
        }
      }

      _this4.setPath(parsedPath.segments, direction, parsedPath.queryString);

      return _this4.writeNavStateRoot(parsedPath.segments, direction, animation);
    })();
  }
  /**
   * Go back to previous page in the window.history.
   */


  back() {
    window.history.back();
    return Promise.resolve(this.waitPromise);
  }
  /** @internal */


  printDebug() {
    var _this5 = this;

    return (0,C_Repos_regobs_regObs4_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      printRoutes(readRoutes(_this5.el));
      printRedirects(readRedirects(_this5.el));
    })();
  }
  /** @internal */


  navChanged(direction) {
    var _this6 = this;

    return (0,C_Repos_regobs_regObs4_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      if (_this6.busy) {
        console.warn('[ion-router] router is busy, navChanged was cancelled');
        return false;
      }

      const {
        ids,
        outlet
      } = yield readNavState(window.document.body);
      const routes = readRoutes(_this6.el);
      const chain = routerIDsToChain(ids, routes);

      if (!chain) {
        console.warn('[ion-router] no matching URL for ', ids.map(i => i.id));
        return false;
      }

      const path = chainToPath(chain);

      if (!path) {
        console.warn('[ion-router] router could not match path because some required param is missing');
        return false;
      }

      _this6.setPath(path, direction);

      yield _this6.safeWriteNavState(outlet, chain, ROUTER_INTENT_NONE, path, null, ids.length);
      return true;
    })();
  } // This handler gets called when a `ion-route-redirect` component is added to the DOM or if the from or to property of such node changes.


  onRedirectChanged() {
    const path = this.getPath();

    if (path && findRouteRedirect(path, readRedirects(this.el))) {
      this.writeNavStateRoot(path, ROUTER_INTENT_NONE);
    }
  } // This handler gets called when a `ion-route` component is added to the DOM or if the from or to property of such node changes.


  onRoutesChanged() {
    return this.writeNavStateRoot(this.getPath(), ROUTER_INTENT_NONE);
  }

  historyDirection() {
    var _a;

    const win = window;

    if (win.history.state === null) {
      this.state++;
      win.history.replaceState(this.state, win.document.title, (_a = win.document.location) === null || _a === void 0 ? void 0 : _a.href);
    }

    const state = win.history.state;
    const lastState = this.lastState;
    this.lastState = state;

    if (state > lastState || state >= lastState && lastState > 0) {
      return ROUTER_INTENT_FORWARD;
    }

    if (state < lastState) {
      return ROUTER_INTENT_BACK;
    }

    return ROUTER_INTENT_NONE;
  }

  writeNavStateRoot(path, direction, animation) {
    var _this7 = this;

    return (0,C_Repos_regobs_regObs4_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      if (!path) {
        console.error('[ion-router] URL is not part of the routing set');
        return false;
      } // lookup redirect rule


      const redirects = readRedirects(_this7.el);
      const redirect = findRouteRedirect(path, redirects);
      let redirectFrom = null;

      if (redirect) {
        const {
          segments,
          queryString
        } = redirect.to;

        _this7.setPath(segments, direction, queryString);

        redirectFrom = redirect.from;
        path = segments;
      } // lookup route chain


      const routes = readRoutes(_this7.el);
      const chain = routerPathToChain(path, routes);

      if (!chain) {
        console.error('[ion-router] the path does not match any route');
        return false;
      } // write DOM give


      return _this7.safeWriteNavState(document.body, chain, direction, path, redirectFrom, 0, animation);
    })();
  }

  safeWriteNavState(node, chain, direction, path, redirectFrom, index = 0, animation) {
    var _this8 = this;

    return (0,C_Repos_regobs_regObs4_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      const unlock = yield _this8.lock();
      let changed = false;

      try {
        changed = yield _this8.writeNavState(node, chain, direction, path, redirectFrom, index, animation);
      } catch (e) {
        console.error(e);
      }

      unlock();
      return changed;
    })();
  }

  lock() {
    var _this9 = this;

    return (0,C_Repos_regobs_regObs4_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      const p = _this9.waitPromise;
      let resolve;
      _this9.waitPromise = new Promise(r => resolve = r);

      if (p !== undefined) {
        yield p;
      }

      return resolve;
    })();
  } // Executes the beforeLeave hook of the source route and the beforeEnter hook of the target route if they exist.
  //
  // When the beforeLeave hook does not return true (to allow navigating) then that value is returned early and the beforeEnter is executed.
  // Otherwise the beforeEnterHook hook of the target route is executed.


  runGuards(to = this.getPath(), from) {
    var _this10 = this;

    return (0,C_Repos_regobs_regObs4_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      if (from === undefined) {
        from = parsePath(_this10.previousPath).segments;
      }

      if (!to || !from) {
        return true;
      }

      const routes = readRoutes(_this10.el);
      const fromChain = routerPathToChain(from, routes);
      const beforeLeaveHook = fromChain && fromChain[fromChain.length - 1].beforeLeave;
      const canLeave = beforeLeaveHook ? yield beforeLeaveHook() : true;

      if (canLeave === false || typeof canLeave === 'object') {
        return canLeave;
      }

      const toChain = routerPathToChain(to, routes);
      const beforeEnterHook = toChain && toChain[toChain.length - 1].beforeEnter;
      return beforeEnterHook ? beforeEnterHook() : true;
    })();
  }

  writeNavState(node, chain, direction, path, redirectFrom, index = 0, animation) {
    var _this11 = this;

    return (0,C_Repos_regobs_regObs4_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      if (_this11.busy) {
        console.warn('[ion-router] router is busy, transition was cancelled');
        return false;
      }

      _this11.busy = true; // generate route event and emit will change

      const routeEvent = _this11.routeChangeEvent(path, redirectFrom);

      if (routeEvent) {
        _this11.ionRouteWillChange.emit(routeEvent);
      }

      const changed = yield writeNavState(node, chain, direction, index, false, animation);
      _this11.busy = false; // emit did change

      if (routeEvent) {
        _this11.ionRouteDidChange.emit(routeEvent);
      }

      return changed;
    })();
  }

  setPath(path, direction, queryString) {
    this.state++;
    writePath(window.history, this.root, this.useHash, path, direction, this.state, queryString);
  }

  getPath() {
    return readPath(window.location, this.root, this.useHash);
  }

  routeChangeEvent(path, redirectFromPath) {
    const from = this.previousPath;
    const to = generatePath(path);
    this.previousPath = to;

    if (to === from) {
      return null;
    }

    const redirectedFrom = redirectFromPath ? generatePath(redirectFromPath) : null;
    return {
      from,
      redirectedFrom,
      to
    };
  }

  get el() {
    return (0,_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.i)(this);
  }

};
const routerLinkCss = ":host{--background:transparent;--color:var(--ion-color-primary, #3880ff);background:var(--background);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}a{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit}";
const RouterLink = class {
  constructor(hostRef) {
    (0,_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    /**
     * When using a router, it specifies the transition direction when navigating to
     * another page using `href`.
     */

    this.routerDirection = 'forward';

    this.onClick = ev => {
      (0,_theme_ff3fc52f_js__WEBPACK_IMPORTED_MODULE_4__.o)(this.href, ev, this.routerDirection, this.routerAnimation);
    };
  }

  render() {
    const mode = (0,_ionic_global_63a97a32_js__WEBPACK_IMPORTED_MODULE_3__.b)(this);
    const attrs = {
      href: this.href,
      rel: this.rel,
      target: this.target
    };
    return (0,_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.H, {
      onClick: this.onClick,
      class: (0,_theme_ff3fc52f_js__WEBPACK_IMPORTED_MODULE_4__.c)(this.color, {
        [mode]: true,
        'ion-activatable': true
      })
    }, (0,_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.h)("a", Object.assign({}, attrs), (0,_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", null)));
  }

};
RouterLink.style = routerLinkCss;


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLXJvdXRlXzRfZW50cnlfanMtZXMyMDE1LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBLE1BQU1rQixLQUFLLEdBQUcsTUFBTTtBQUNsQkMsRUFBQUEsV0FBVyxDQUFDQyxPQUFELEVBQVU7QUFDbkJuQixJQUFBQSxxREFBZ0IsQ0FBQyxJQUFELEVBQU9tQixPQUFQLENBQWhCO0FBQ0EsU0FBS0MsbUJBQUwsR0FBMkJsQixxREFBVyxDQUFDLElBQUQsRUFBTyxxQkFBUCxFQUE4QixDQUE5QixDQUF0QztBQUNBO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDSSxTQUFLbUIsR0FBTCxHQUFXLEVBQVg7QUFDRDs7QUFDREMsRUFBQUEsUUFBUSxDQUFDQyxRQUFELEVBQVc7QUFDakIsU0FBS0gsbUJBQUwsQ0FBeUJJLElBQXpCLENBQThCRCxRQUE5QjtBQUNEOztBQUNERSxFQUFBQSxnQkFBZ0IsQ0FBQ0YsUUFBRCxFQUFXRyxRQUFYLEVBQXFCO0FBQ25DLFFBQUlILFFBQVEsS0FBS0csUUFBakIsRUFBMkI7QUFDekI7QUFDRDs7QUFDRCxVQUFNQyxLQUFLLEdBQUdKLFFBQVEsR0FBR0ssTUFBTSxDQUFDQyxJQUFQLENBQVlOLFFBQVosQ0FBSCxHQUEyQixFQUFqRDtBQUNBLFVBQU1PLEtBQUssR0FBR0osUUFBUSxHQUFHRSxNQUFNLENBQUNDLElBQVAsQ0FBWUgsUUFBWixDQUFILEdBQTJCLEVBQWpEOztBQUNBLFFBQUlDLEtBQUssQ0FBQ0ksTUFBTixLQUFpQkQsS0FBSyxDQUFDQyxNQUEzQixFQUFtQztBQUNqQyxXQUFLVCxRQUFMLENBQWNDLFFBQWQ7QUFDQTtBQUNEOztBQUNELFNBQUssTUFBTVMsR0FBWCxJQUFrQkwsS0FBbEIsRUFBeUI7QUFDdkIsVUFBSUosUUFBUSxDQUFDUyxHQUFELENBQVIsS0FBa0JOLFFBQVEsQ0FB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S0UsZUFBM0MsQ0FBUDtBQUNELEtBRkQ7QUFHRDs7QUFDREMsRUFBQUEsTUFBTSxHQUFHO0FBQ1AsVUFBTUMsSUFBSSxHQUFHcE4sNERBQVUsQ0FBQyxJQUFELENBQXZCO0FBQ0EsVUFBTXFOLEtBQUssR0FBRztBQUNaOUIsTUFBQUEsSUFBSSxFQUFFLEtBQUtBLElBREM7QUFFWitCLE1BQUFBLEdBQUcsRUFBRSxLQUFLQSxHQUZFO0FBR1pDLE1BQUFBLE1BQU0sRUFBRSxLQUFLQTtBQUhELEtBQWQ7QUFLQSxXQUFRL04scURBQUMsQ0FBQ0UsaURBQUQsRUFBTztBQUFFdU4sTUFBQUEsT0FBTyxFQUFFLEtBQUtBLE9BQWhCO0FBQXlCTyxNQUFBQSxLQUFLLEVBQUVyTixxREFBa0IsQ0FBQyxLQUFLc04sS0FBTixFQUFhO0FBQzNFLFNBQUNMLElBQUQsR0FBUSxJQURtRTtBQUUzRSwyQkFBbUI7QUFGd0QsT0FBYjtBQUFsRCxLQUFQLEVBR0Q1TixxREFBQyxDQUFDLEdBQUQsRUFBTXVCLE1BQU0sQ0FBQzhHLE1BQVAsQ0FBYyxFQUFkLEVBQWtCd0YsS0FBbEIsQ0FBTixFQUFnQzdOLHFEQUFDLENBQUMsTUFBRCxFQUFTLElBQVQsQ0FBakMsQ0FIQSxDQUFUO0FBSUQ7O0FBdkJzQixDQUF6QjtBQXlCQXVOLFVBQVUsQ0FBQ1csS0FBWCxHQUFtQlosYUFBbkIiLCJzb3VyY2VzIjpbIi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2lvbi1yb3V0ZV80LmVudHJ5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHIgYXMgcmVnaXN0ZXJJbnN0YW5jZSwgZSBhcyBjcmVhdGVFdmVudCwgaSBhcyBnZXRFbGVtZW50LCBoLCBIIGFzIEhvc3QgfSBmcm9tICcuL2luZGV4LTdhOGI3YTFjLmpzJztcbmltcG9ydCB7IGMgYXMgY29tcG9uZW50T25SZWFkeSwgbiBhcyBkZWJvdW5jZSB9IGZyb20gJy4vaGVscGVycy1kZDdlNGI3Yi5qcyc7XG5pbXBvcnQgeyBiIGFzIGdldElvbk1vZGUgfSBmcm9tICcuL2lvbmljLWdsb2JhbC02M2E5N2EzMi5qcyc7XG5pbXBvcnQgeyBvIGFzIG9wZW5VUkwsIGMgYXMgY3JlYXRlQ29sb3JDbGFzc2VzIH0gZnJvbSAnLi90aGVtZS1mZjNmYzUyZi5qcyc7XG5cbmNvbnN0IFJvdXRlID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XG4gICAgcmVnaXN0ZXJJbnN0YW5jZSh0aGlzLCBob3N0UmVmKTtcbiAgICB0aGlzLmlvblJvdXRlRGF0YUNoYW5nZWQgPSBjcmVhdGVFdmVudCh0aGlzLCBcImlvblJvdXRlRGF0YUNoYW5nZWRcIiwgNyk7XG4gICAgLyoqXG4gICAgICogUmVsYXRpdmUgcGF0aCB0aGF0IG5lZWRzIHRvIG1hdGNoIGluIG9yZGVyIGZvciB0aGlzIHJvdXRlIHRvIGFwcGx5LlxuICAgICAqXG4gICAgICogQWNjZXB0cyBwYXRocyBzaW1pbGFyIHRvIGV4cHJlc3NqcyBzbyB0aGF0IHlvdSBjYW4gZGVmaW5lIHBhcmFtZXRlcnNcbiAgICAgKiBpbiB0aGUgdXJsIC9mb28vOmJhciB3aGVyZSBiYXIgd291bGQgYmUgYXZhaWxhYmxlIGluIGluY29taW5nIHByb3BzLlxuICAgICAqL1xuICAgIHRoaXMudXJsID0gJyc7XG4gIH1cbiAgb25VcGRhdGUobmV3VmFsdWUpIHtcbiAgICB0aGlzLmlvblJvdXRlRGF0YUNoYW5nZWQuZW1pdChuZXdWYWx1ZSk7XG4gIH1cbiAgb25Db21wb25lbnRQcm9wcyhuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICBpZiAobmV3VmFsdWUgPT09IG9sZFZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGtleXMxID0gbmV3VmFsdWUgPyBPYmplY3Qua2V5cyhuZXdWYWx1ZSkgOiBbXTtcbiAgICBjb25zdCBrZXlzMiA9IG9sZFZhbHVlID8gT2JqZWN0LmtleXMob2xkVmFsdWUpIDogW107XG4gICAgaWYgKGtleXMxLmxlbmd0aCAhPT0ga2V5czIubGVuZ3RoKSB7XG4gICAgICB0aGlzLm9uVXBkYXRlKG5ld1ZhbHVlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgb2Yga2V5czEpIHtcbiAgICAgIGlmIChuZXdWYWx1ZVtrZXldICE9PSBvbGRWYWx1ZVtrZXldKSB7XG4gICAgICAgIHRoaXMub25VcGRhdGUobmV3VmFsdWUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMuaW9uUm91dGVEYXRhQ2hhbmdlZC5lbWl0KCk7XG4gIH1cbiAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICBcInVybFwiOiBbXCJvblVwZGF0ZVwiXSxcbiAgICBcImNvbXBvbmVudFwiOiBbXCJvblVwZGF0ZVwiXSxcbiAgICBcImNvbXBvbmVudFByb3BzXCI6IFtcIm9uQ29tcG9uZW50UHJvcHNcIl1cbiAgfTsgfVxufTtcblxuY29uc3QgUm91dGVSZWRpcmVjdCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgIHJlZ2lzdGVySW5zdGFuY2UodGhpcywgaG9zdFJlZik7XG4gICAgdGhpcy5pb25Sb3V0ZVJlZGlyZWN0Q2hhbmdlZCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiaW9uUm91dGVSZWRpcmVjdENoYW5nZWRcIiwgNyk7XG4gIH1cbiAgcHJvcERpZENoYW5nZSgpIHtcbiAgICB0aGlzLmlvblJvdXRlUmVkaXJlY3RDaGFuZ2VkLmVtaXQoKTtcbiAgfVxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLmlvblJvdXRlUmVkaXJlY3RDaGFuZ2VkLmVtaXQoKTtcbiAgfVxuICBzdGF0aWMgZ2V0IHdhdGNoZXJzKCkgeyByZXR1cm4ge1xuICAgIFwiZnJvbVwiOiBbXCJwcm9wRGlkQ2hhbmdlXCJdLFxuICAgIFwidG9cIjogW1wicHJvcERpZENoYW5nZVwiXVxuICB9OyB9XG59O1xuXG5jb25zdCBST1VURVJfSU5URU5UX05PTkUgPSAncm9vdCc7XG5jb25zdCBST1VURVJfSU5URU5UX0ZPUldBUkQgPSAnZm9yd2FyZCc7XG5jb25zdCBST1VURVJfSU5URU5UX0JBQ0sgPSAnYmFjayc7XG5cbi8vIEpvaW4gdGhlIG5vbiBlbXB0eSBzZWdtZW50cyB3aXRoIFwiL1wiLlxuY29uc3QgZ2VuZXJhdGVQYXRoID0gKHNlZ21lbnRzKSA9PiB7XG4gIGNvbnN0IHBhdGggPSBzZWdtZW50c1xuICAgIC5maWx0ZXIocyA9PiBzLmxlbmd0aCA+IDApXG4gICAgLmpvaW4oJy8nKTtcbiAgcmV0dXJuICcvJyArIHBhdGg7XG59O1xuY29uc3QgZ2VuZXJhdGVVcmwgPSAoc2VnbWVudHMsIHVzZUhhc2gsIHF1ZXJ5U3RyaW5nKSA9PiB7XG4gIGxldCB1cmwgPSBnZW5lcmF0ZVBhdGgoc2VnbWVudHMpO1xuICBpZiAodXNlSGFzaCkge1xuICAgIHVybCA9ICcjJyArIHVybDtcbiAgfVxuICBpZiAocXVlcnlTdHJpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgIHVybCArPSAnPycgKyBxdWVyeVN0cmluZztcbiAgfVxuICByZXR1cm4gdXJsO1xufTtcbmNvbnN0IHdyaXRlUGF0aCA9IChoaXN0b3J5LCByb290LCB1c2VIYXNoLCBwYXRoLCBkaXJlY3Rpb24sIHN0YXRlLCBxdWVyeVN0cmluZykgPT4ge1xuICBjb25zdCB1cmwgPSBnZW5lcmF0ZVVybChbLi4ucGFyc2VQYXRoKHJvb3QpLnNlZ21lbnRzLCAuLi5wYXRoXSwgdXNlSGFzaCwgcXVlcnlTdHJpbmcpO1xuICBpZiAoZGlyZWN0aW9uID09PSBST1VURVJfSU5URU5UX0ZPUldBUkQpIHtcbiAgICBoaXN0b3J5LnB1c2hTdGF0ZShzdGF0ZSwgJycsIHVybCk7XG4gIH1cbiAgZWxzZSB7XG4gICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUoc3RhdGUsICcnLCB1cmwpO1xuICB9XG59O1xuY29uc3QgY2hhaW5Ub1BhdGggPSAoY2hhaW4pID0+IHtcbiAgY29uc3QgcGF0aCA9IFtdO1xuICBmb3IgKGNvbnN0IHJvdXRlIG9mIGNoYWluKSB7XG4gICAgZm9yIChjb25zdCBzZWdtZW50IG9mIHJvdXRlLnBhdGgpIHtcbiAgICAgIGlmIChzZWdtZW50WzBdID09PSAnOicpIHtcbiAgICAgICAgY29uc3QgcGFyYW0gPSByb3V0ZS5wYXJhbXMgJiYgcm91dGUucGFyYW1zW3NlZ21lbnQuc2xpY2UoMSldO1xuICAgICAgICBpZiAoIXBhcmFtKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcGF0aC5wdXNoKHBhcmFtKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHNlZ21lbnQgIT09ICcnKSB7XG4gICAgICAgIHBhdGgucHVzaChzZWdtZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBhdGg7XG59O1xuLy8gUmVtb3ZlIHRoZSBwcmVmaXggc2VnbWVudHMgZnJvbSB0aGUgcGF0aCBzZWdtZW50cy5cbi8vXG4vLyBSZXR1cm46XG4vLyAtIG51bGwgd2hlbiB0aGUgcGF0aCBzZWdtZW50cyBkbyBub3Qgc3RhcnQgd2l0aCB0aGUgcGFzc2VkIHByZWZpeCxcbi8vIC0gdGhlIHBhdGggc2VnbWVudHMgYWZ0ZXIgdGhlIHByZWZpeCBvdGhlcndpc2UuXG5jb25zdCByZW1vdmVQcmVmaXggPSAocHJlZml4LCBwYXRoKSA9PiB7XG4gIGlmIChwcmVmaXgubGVuZ3RoID4gcGF0aC5sZW5ndGgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAocHJlZml4Lmxlbmd0aCA8PSAxICYmIHByZWZpeFswXSA9PT0gJycpIHtcbiAgICByZXR1cm4gcGF0aDtcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IHByZWZpeC5sZW5ndGg7IGkrKykge1xuICAgIGlmIChwcmVmaXhbaV0gIT09IHBhdGhbaV0pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuICBpZiAocGF0aC5sZW5ndGggPT09IHByZWZpeC5sZW5ndGgpIHtcbiAgICByZXR1cm4gWycnXTtcbiAgfVxuICByZXR1cm4gcGF0aC5zbGljZShwcmVmaXgubGVuZ3RoKTtcbn07XG5jb25zdCByZWFkUGF0aCA9IChsb2MsIHJvb3QsIHVzZUhhc2gpID0+IHtcbiAgY29uc3QgcHJlZml4ID0gcGFyc2VQYXRoKHJvb3QpLnNlZ21lbnRzO1xuICBjb25zdCBwYXRobmFtZSA9IHVzZUhhc2ggPyBsb2MuaGFzaC5zbGljZSgxKSA6IGxvYy5wYXRobmFtZTtcbiAgY29uc3QgcGF0aCA9IHBhcnNlUGF0aChwYXRobmFtZSkuc2VnbWVudHM7XG4gIHJldHVybiByZW1vdmVQcmVmaXgocHJlZml4LCBwYXRoKTtcbn07XG4vLyBQYXJzZXMgdGhlIHBhdGggdG86XG4vLyAtIHNlZ21lbnRzIGFuIGFycmF5IG9mICcvJyBzZXBhcmF0ZWQgcGFydHMsXG4vLyAtIHF1ZXJ5U3RyaW5nICh1bmRlZmluZWQgd2hlbiBubyBxdWVyeSBzdHJpbmcpLlxuY29uc3QgcGFyc2VQYXRoID0gKHBhdGgpID0+IHtcbiAgbGV0IHNlZ21lbnRzID0gWycnXTtcbiAgbGV0IHF1ZXJ5U3RyaW5nO1xuICBpZiAocGF0aCAhPSBudWxsKSB7XG4gICAgY29uc3QgcXNTdGFydCA9IHBhdGguaW5kZXhPZignPycpO1xuICAgIGlmIChxc1N0YXJ0ID4gLTEpIHtcbiAgICAgIHF1ZXJ5U3RyaW5nID0gcGF0aC5zdWJzdHIocXNTdGFydCArIDEpO1xuICAgICAgcGF0aCA9IHBhdGguc3Vic3RyKDAsIHFzU3RhcnQpO1xuICAgIH1cbiAgICBzZWdtZW50cyA9IHBhdGguc3BsaXQoJy8nKVxuICAgICAgLm1hcChzID0+IHMudHJpbSgpKVxuICAgICAgLmZpbHRlcihzID0+IHMubGVuZ3RoID4gMCk7XG4gICAgaWYgKHNlZ21lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2VnbWVudHMgPSBbJyddO1xuICAgIH1cbiAgfVxuICByZXR1cm4geyBzZWdtZW50cywgcXVlcnlTdHJpbmcgfTtcbn07XG5cbmNvbnN0IHByaW50Um91dGVzID0gKHJvdXRlcykgPT4ge1xuICBjb25zb2xlLmdyb3VwKGBbaW9uLWNvcmVdIFJPVVRFU1ske3JvdXRlcy5sZW5ndGh9XWApO1xuICBmb3IgKGNvbnN0IGNoYWluIG9mIHJvdXRlcykge1xuICAgIGNvbnN0IHBhdGggPSBbXTtcbiAgICBjaGFpbi5mb3JFYWNoKHIgPT4gcGF0aC5wdXNoKC4uLnIucGF0aCkpO1xuICAgIGNvbnN0IGlkcyA9IGNoYWluLm1hcChyID0+IHIuaWQpO1xuICAgIGNvbnNvbGUuZGVidWcoYCVjICR7Z2VuZXJhdGVQYXRoKHBhdGgpfWAsICdmb250LXdlaWdodDogYm9sZDsgcGFkZGluZy1sZWZ0OiAyMHB4JywgJz0+XFx0JywgYCgke2lkcy5qb2luKCcsICcpfSlgKTtcbiAgfVxuICBjb25zb2xlLmdyb3VwRW5kKCk7XG59O1xuY29uc3QgcHJpbnRSZWRpcmVjdHMgPSAocmVkaXJlY3RzKSA9PiB7XG4gIGNvbnNvbGUuZ3JvdXAoYFtpb24tY29yZV0gUkVESVJFQ1RTWyR7cmVkaXJlY3RzLmxlbmd0aH1dYCk7XG4gIGZvciAoY29uc3QgcmVkaXJlY3Qgb2YgcmVkaXJlY3RzKSB7XG4gICAgaWYgKHJlZGlyZWN0LnRvKSB7XG4gICAgICBjb25zb2xlLmRlYnVnKCdGUk9NOiAnLCBgJGMgJHtnZW5lcmF0ZVBhdGgocmVkaXJlY3QuZnJvbSl9YCwgJ2ZvbnQtd2VpZ2h0OiBib2xkJywgJyBUTzogJywgYCRjICR7Z2VuZXJhdGVQYXRoKHJlZGlyZWN0LnRvLnNlZ21lbnRzKX1gLCAnZm9udC13ZWlnaHQ6IGJvbGQnKTtcbiAgICB9XG4gIH1cbiAgY29uc29sZS5ncm91cEVuZCgpO1xufTtcblxuY29uc3Qgd3JpdGVOYXZTdGF0ZSA9IGFzeW5jIChyb290LCBjaGFpbiwgZGlyZWN0aW9uLCBpbmRleCwgY2hhbmdlZCA9IGZhbHNlLCBhbmltYXRpb24pID0+IHtcbiAgdHJ5IHtcbiAgICAvLyBmaW5kIG5leHQgbmF2aWdhdGlvbiBvdXRsZXQgaW4gdGhlIERPTVxuICAgIGNvbnN0IG91dGxldCA9IHNlYXJjaE5hdk5vZGUocm9vdCk7XG4gICAgLy8gbWFrZSBzdXJlIHdlIGNhbiBjb250aW51ZSBpbnRlcmFjdGluZyB0aGUgRE9NLCBvdGhlcndpc2UgYWJvcnRcbiAgICBpZiAoaW5kZXggPj0gY2hhaW4ubGVuZ3RoIHx8ICFvdXRsZXQpIHtcbiAgICAgIHJldHVybiBjaGFuZ2VkO1xuICAgIH1cbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IGNvbXBvbmVudE9uUmVhZHkob3V0bGV0LCByZXNvbHZlKSk7XG4gICAgY29uc3Qgcm91dGUgPSBjaGFpbltpbmRleF07XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgb3V0bGV0LnNldFJvdXRlSWQocm91dGUuaWQsIHJvdXRlLnBhcmFtcywgZGlyZWN0aW9uLCBhbmltYXRpb24pO1xuICAgIC8vIGlmIHRoZSBvdXRsZXQgY2hhbmdlZCB0aGUgcGFnZSwgcmVzZXQgbmF2aWdhdGlvbiB0byBuZXV0cmFsIChubyBkaXJlY3Rpb24pXG4gICAgLy8gdGhpcyBtZWFucyBuZXN0ZWQgb3V0bGV0cyB3aWxsIG5vdCBhbmltYXRlXG4gICAgaWYgKHJlc3VsdC5jaGFuZ2VkKSB7XG4gICAgICBkaXJlY3Rpb24gPSBST1VURVJfSU5URU5UX05PTkU7XG4gICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICB9XG4gICAgLy8gcmVjdXJzaXZlbHkgc2V0IG5lc3RlZCBvdXRsZXRzXG4gICAgY2hhbmdlZCA9IGF3YWl0IHdyaXRlTmF2U3RhdGUocmVzdWx0LmVsZW1lbnQsIGNoYWluLCBkaXJlY3Rpb24sIGluZGV4ICsgMSwgY2hhbmdlZCwgYW5pbWF0aW9uKTtcbiAgICAvLyBvbmNlIGFsbCBuZXN0ZWQgb3V0bGV0cyBhcmUgdmlzaWJsZSBsZXQncyBtYWtlIHRoZSBwYXJlbnQgdmlzaWJsZSB0b28sXG4gICAgLy8gdXNpbmcgbWFya1Zpc2libGUgcHJldmVudHMgZmxpY2tlcmluZ1xuICAgIGlmIChyZXN1bHQubWFya1Zpc2libGUpIHtcbiAgICAgIGF3YWl0IHJlc3VsdC5tYXJrVmlzaWJsZSgpO1xuICAgIH1cbiAgICByZXR1cm4gY2hhbmdlZDtcbiAgfVxuICBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuY29uc3QgcmVhZE5hdlN0YXRlID0gYXN5bmMgKHJvb3QpID0+IHtcbiAgY29uc3QgaWRzID0gW107XG4gIGxldCBvdXRsZXQ7XG4gIGxldCBub2RlID0gcm9vdDtcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWNvbnN0YW50LWNvbmRpdGlvblxuICB3aGlsZSAodHJ1ZSkge1xuICAgIG91dGxldCA9IHNlYXJjaE5hdk5vZGUobm9kZSk7XG4gICAgaWYgKG91dGxldCkge1xuICAgICAgY29uc3QgaWQgPSBhd2FpdCBvdXRsZXQuZ2V0Um91dGVJZCgpO1xuICAgICAgaWYgKGlkKSB7XG4gICAgICAgIG5vZGUgPSBpZC5lbGVtZW50O1xuICAgICAgICBpZC5lbGVtZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICBpZHMucHVzaChpZCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiB7IGlkcywgb3V0bGV0IH07XG59O1xuY29uc3Qgd2FpdFVudGlsTmF2Tm9kZSA9ICgpID0+IHtcbiAgaWYgKHNlYXJjaE5hdk5vZGUoZG9jdW1lbnQuYm9keSkpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cbiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdpb25OYXZXaWxsTG9hZCcsIHJlc29sdmUsIHsgb25jZTogdHJ1ZSB9KTtcbiAgfSk7XG59O1xuY29uc3QgUVVFUlkgPSAnOm5vdChbbm8tcm91dGVyXSkgaW9uLW5hdiwgOm5vdChbbm8tcm91dGVyXSkgaW9uLXRhYnMsIDpub3QoW25vLXJvdXRlcl0pIGlvbi1yb3V0ZXItb3V0bGV0JztcbmNvbnN0IHNlYXJjaE5hdk5vZGUgPSAocm9vdCkgPT4ge1xuICBpZiAoIXJvb3QpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGlmIChyb290Lm1hdGNoZXMoUVVFUlkpKSB7XG4gICAgcmV0dXJuIHJvb3Q7XG4gIH1cbiAgY29uc3Qgb3V0bGV0ID0gcm9vdC5xdWVyeVNlbGVjdG9yKFFVRVJZKTtcbiAgcmV0dXJuIG91dGxldCAhPT0gbnVsbCAmJiBvdXRsZXQgIT09IHZvaWQgMCA/IG91dGxldCA6IHVuZGVmaW5lZDtcbn07XG5cbi8vIFJldHVybnMgd2hldGhlciB0aGUgZ2l2ZW4gcmVkaXJlY3QgbWF0Y2hlcyB0aGUgZ2l2ZW4gcGF0aCBzZWdtZW50cy5cbi8vXG4vLyBBIHJlZGlyZWN0IG1hdGNoZXMgd2hlbiB0aGUgc2VnbWVudHMgb2YgdGhlIHBhdGggYW5kIHJlZGlyZWN0LmZyb20gYXJlIGVxdWFsLlxuLy8gTm90ZSB0aGF0IHNlZ21lbnRzIGFyZSBvbmx5IGNoZWNrZWQgdW50aWwgcmVkaXJlY3QuZnJvbSBjb250YWlucyBhICcqJyB3aGljaCBtYXRjaGVzIGFueSBwYXRoIHNlZ21lbnQuXG4vLyBUaGUgcGF0aCBbJ3NvbWUnLCAncGF0aCcsICd0bycsICdwYWdlJ10gbWF0Y2hlcyBib3RoIFsnc29tZScsICdwYXRoJywgJ3RvJywgJ3BhZ2UnXSBhbmQgWydzb21lJywgJ3BhdGgnLCAnKiddLlxuY29uc3QgbWF0Y2hlc1JlZGlyZWN0ID0gKHBhdGgsIHJlZGlyZWN0KSA9PiB7XG4gIGNvbnN0IHsgZnJvbSwgdG8gfSA9IHJlZGlyZWN0O1xuICBpZiAodG8gPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoZnJvbS5sZW5ndGggPiBwYXRoLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGZyb20ubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBleHBlY3RlZCA9IGZyb21baV07XG4gICAgaWYgKGV4cGVjdGVkID09PSAnKicpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoZXhwZWN0ZWQgIT09IHBhdGhbaV0pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZyb20ubGVuZ3RoID09PSBwYXRoLmxlbmd0aDtcbn07XG4vLyBSZXR1cm5zIHRoZSBmaXJzdCByZWRpcmVjdCBtYXRjaGluZyB0aGUgcGF0aCBzZWdtZW50cyBvciB1bmRlZmluZWQgd2hlbiBubyBtYXRjaCBmb3VuZC5cbmNvbnN0IGZpbmRSb3V0ZVJlZGlyZWN0ID0gKHBhdGgsIHJlZGlyZWN0cykgPT4ge1xuICByZXR1cm4gcmVkaXJlY3RzLmZpbmQocmVkaXJlY3QgPT4gbWF0Y2hlc1JlZGlyZWN0KHBhdGgsIHJlZGlyZWN0KSk7XG59O1xuY29uc3QgbWF0Y2hlc0lEcyA9IChpZHMsIGNoYWluKSA9PiB7XG4gIGNvbnN0IGxlbiA9IE1hdGgubWluKGlkcy5sZW5ndGgsIGNoYWluLmxlbmd0aCk7XG4gIGxldCBpID0gMDtcbiAgZm9yICg7IGkgPCBsZW47IGkrKykge1xuICAgIGlmIChpZHNbaV0udG9Mb3dlckNhc2UoKSAhPT0gY2hhaW5baV0uaWQpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gaTtcbn07XG5jb25zdCBtYXRjaGVzUGF0aCA9IChpbnB1dFBhdGgsIGNoYWluKSA9PiB7XG4gIGNvbnN0IHNlZ21lbnRzID0gbmV3IFJvdXRlclNlZ21lbnRzKGlucHV0UGF0aCk7XG4gIGxldCBtYXRjaGVzRGVmYXVsdCA9IGZhbHNlO1xuICBsZXQgYWxscGFyYW1zO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYWluLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgcGF0aCA9IGNoYWluW2ldLnBhdGg7XG4gICAgaWYgKHBhdGhbMF0gPT09ICcnKSB7XG4gICAgICBtYXRjaGVzRGVmYXVsdCA9IHRydWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZm9yIChjb25zdCBzZWdtZW50IG9mIHBhdGgpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHNlZ21lbnRzLm5leHQoKTtcbiAgICAgICAgLy8gZGF0YSBwYXJhbVxuICAgICAgICBpZiAoc2VnbWVudFswXSA9PT0gJzonKSB7XG4gICAgICAgICAgaWYgKGRhdGEgPT09ICcnKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWxscGFyYW1zID0gYWxscGFyYW1zIHx8IFtdO1xuICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IGFsbHBhcmFtc1tpXSB8fCAoYWxscGFyYW1zW2ldID0ge30pO1xuICAgICAgICAgIHBhcmFtc1tzZWdtZW50LnNsaWNlKDEpXSA9IGRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGF0YSAhPT0gc2VnbWVudCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBtYXRjaGVzRGVmYXVsdCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICBjb25zdCBtYXRjaGVzID0gKG1hdGNoZXNEZWZhdWx0KVxuICAgID8gbWF0Y2hlc0RlZmF1bHQgPT09IChzZWdtZW50cy5uZXh0KCkgPT09ICcnKVxuICAgIDogdHJ1ZTtcbiAgaWYgKCFtYXRjaGVzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKGFsbHBhcmFtcykge1xuICAgIHJldHVybiBjaGFpbi5tYXAoKHJvdXRlLCBpKSA9PiAoe1xuICAgICAgaWQ6IHJvdXRlLmlkLFxuICAgICAgcGF0aDogcm91dGUucGF0aCxcbiAgICAgIHBhcmFtczogbWVyZ2VQYXJhbXMocm91dGUucGFyYW1zLCBhbGxwYXJhbXNbaV0pLFxuICAgICAgYmVmb3JlRW50ZXI6IHJvdXRlLmJlZm9yZUVudGVyLFxuICAgICAgYmVmb3JlTGVhdmU6IHJvdXRlLmJlZm9yZUxlYXZlXG4gICAgfSkpO1xuICB9XG4gIHJldHVybiBjaGFpbjtcbn07XG4vLyBNZXJnZXMgdGhlIHJvdXRlIHBhcmFtZXRlciBvYmplY3RzLlxuLy8gUmV0dXJucyB1bmRlZmluZWQgd2hlbiBib3RoIHBhcmFtZXRlcnMgYXJlIHVuZGVmaW5lZC5cbmNvbnN0IG1lcmdlUGFyYW1zID0gKGEsIGIpID0+IHtcbiAgcmV0dXJuIGEgfHwgYiA/IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgYSksIGIpIDogdW5kZWZpbmVkO1xufTtcbmNvbnN0IHJvdXRlcklEc1RvQ2hhaW4gPSAoaWRzLCBjaGFpbnMpID0+IHtcbiAgbGV0IG1hdGNoID0gbnVsbDtcbiAgbGV0IG1heE1hdGNoZXMgPSAwO1xuICBjb25zdCBwbGFpbklEcyA9IGlkcy5tYXAoaSA9PiBpLmlkKTtcbiAgZm9yIChjb25zdCBjaGFpbiBvZiBjaGFpbnMpIHtcbiAgICBjb25zdCBzY29yZSA9IG1hdGNoZXNJRHMocGxhaW5JRHMsIGNoYWluKTtcbiAgICBpZiAoc2NvcmUgPiBtYXhNYXRjaGVzKSB7XG4gICAgICBtYXRjaCA9IGNoYWluO1xuICAgICAgbWF4TWF0Y2hlcyA9IHNjb3JlO1xuICAgIH1cbiAgfVxuICBpZiAobWF0Y2gpIHtcbiAgICByZXR1cm4gbWF0Y2gubWFwKChyb3V0ZSwgaSkgPT4gKHtcbiAgICAgIGlkOiByb3V0ZS5pZCxcbiAgICAgIHBhdGg6IHJvdXRlLnBhdGgsXG4gICAgICBwYXJhbXM6IG1lcmdlUGFyYW1zKHJvdXRlLnBhcmFtcywgaWRzW2ldICYmIGlkc1tpXS5wYXJhbXMpXG4gICAgfSkpO1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcbmNvbnN0IHJvdXRlclBhdGhUb0NoYWluID0gKHBhdGgsIGNoYWlucykgPT4ge1xuICBsZXQgbWF0Y2ggPSBudWxsO1xuICBsZXQgbWF0Y2hlcyA9IDA7XG4gIGZvciAoY29uc3QgY2hhaW4gb2YgY2hhaW5zKSB7XG4gICAgY29uc3QgbWF0Y2hlZENoYWluID0gbWF0Y2hlc1BhdGgocGF0aCwgY2hhaW4pO1xuICAgIGlmIChtYXRjaGVkQ2hhaW4gIT09IG51bGwpIHtcbiAgICAgIGNvbnN0IHNjb3JlID0gY29tcHV0ZVByaW9yaXR5KG1hdGNoZWRDaGFpbik7XG4gICAgICBpZiAoc2NvcmUgPiBtYXRjaGVzKSB7XG4gICAgICAgIG1hdGNoZXMgPSBzY29yZTtcbiAgICAgICAgbWF0Y2ggPSBtYXRjaGVkQ2hhaW47XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXRjaDtcbn07XG5jb25zdCBjb21wdXRlUHJpb3JpdHkgPSAoY2hhaW4pID0+IHtcbiAgbGV0IHNjb3JlID0gMTtcbiAgbGV0IGxldmVsID0gMTtcbiAgZm9yIChjb25zdCByb3V0ZSBvZiBjaGFpbikge1xuICAgIGZvciAoY29uc3QgcGF0aCBvZiByb3V0ZS5wYXRoKSB7XG4gICAgICBpZiAocGF0aFswXSA9PT0gJzonKSB7XG4gICAgICAgIHNjb3JlICs9IE1hdGgucG93KDEsIGxldmVsKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHBhdGggIT09ICcnKSB7XG4gICAgICAgIHNjb3JlICs9IE1hdGgucG93KDIsIGxldmVsKTtcbiAgICAgIH1cbiAgICAgIGxldmVsKys7XG4gICAgfVxuICB9XG4gIHJldHVybiBzY29yZTtcbn07XG5jbGFzcyBSb3V0ZXJTZWdtZW50cyB7XG4gIGNvbnN0cnVjdG9yKHBhdGgpIHtcbiAgICB0aGlzLnBhdGggPSBwYXRoLnNsaWNlKCk7XG4gIH1cbiAgbmV4dCgpIHtcbiAgICBpZiAodGhpcy5wYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiB0aGlzLnBhdGguc2hpZnQoKTtcbiAgICB9XG4gICAgcmV0dXJuICcnO1xuICB9XG59XG5cbmNvbnN0IHJlYWRQcm9wID0gKGVsLCBwcm9wKSA9PiB7XG4gIGlmIChwcm9wIGluIGVsKSB7XG4gICAgcmV0dXJuIGVsW3Byb3BdO1xuICB9XG4gIGlmIChlbC5oYXNBdHRyaWJ1dGUocHJvcCkpIHtcbiAgICByZXR1cm4gZWwuZ2V0QXR0cmlidXRlKHByb3ApO1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcbmNvbnN0IHJlYWRSZWRpcmVjdHMgPSAocm9vdCkgPT4ge1xuICByZXR1cm4gQXJyYXkuZnJvbShyb290LmNoaWxkcmVuKVxuICAgIC5maWx0ZXIoZWwgPT4gZWwudGFnTmFtZSA9PT0gJ0lPTi1ST1VURS1SRURJUkVDVCcpXG4gICAgLm1hcChlbCA9PiB7XG4gICAgY29uc3QgdG8gPSByZWFkUHJvcChlbCwgJ3RvJyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGZyb206IHBhcnNlUGF0aChyZWFkUHJvcChlbCwgJ2Zyb20nKSkuc2VnbWVudHMsXG4gICAgICB0bzogdG8gPT0gbnVsbCA/IHVuZGVmaW5lZCA6IHBhcnNlUGF0aCh0byksXG4gICAgfTtcbiAgfSk7XG59O1xuY29uc3QgcmVhZFJvdXRlcyA9IChyb290KSA9PiB7XG4gIHJldHVybiBmbGF0dGVuUm91dGVyVHJlZShyZWFkUm91dGVOb2Rlcyhyb290KSk7XG59O1xuY29uc3QgcmVhZFJvdXRlTm9kZXMgPSAobm9kZSkgPT4ge1xuICByZXR1cm4gQXJyYXkuZnJvbShub2RlLmNoaWxkcmVuKVxuICAgIC5maWx0ZXIoZWwgPT4gZWwudGFnTmFtZSA9PT0gJ0lPTi1ST1VURScgJiYgZWwuY29tcG9uZW50KVxuICAgIC5tYXAoZWwgPT4ge1xuICAgIGNvbnN0IGNvbXBvbmVudCA9IHJlYWRQcm9wKGVsLCAnY29tcG9uZW50Jyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhdGg6IHBhcnNlUGF0aChyZWFkUHJvcChlbCwgJ3VybCcpKS5zZWdtZW50cyxcbiAgICAgIGlkOiBjb21wb25lbnQudG9Mb3dlckNhc2UoKSxcbiAgICAgIHBhcmFtczogZWwuY29tcG9uZW50UHJvcHMsXG4gICAgICBiZWZvcmVMZWF2ZTogZWwuYmVmb3JlTGVhdmUsXG4gICAgICBiZWZvcmVFbnRlcjogZWwuYmVmb3JlRW50ZXIsXG4gICAgICBjaGlsZHJlbjogcmVhZFJvdXRlTm9kZXMoZWwpXG4gICAgfTtcbiAgfSk7XG59O1xuY29uc3QgZmxhdHRlblJvdXRlclRyZWUgPSAobm9kZXMpID0+IHtcbiAgY29uc3QgY2hhaW5zID0gW107XG4gIGZvciAoY29uc3Qgbm9kZSBvZiBub2Rlcykge1xuICAgIGZsYXR0ZW5Ob2RlKFtdLCBjaGFpbnMsIG5vZGUpO1xuICB9XG4gIHJldHVybiBjaGFpbnM7XG59O1xuY29uc3QgZmxhdHRlbk5vZGUgPSAoY2hhaW4sIGNoYWlucywgbm9kZSkgPT4ge1xuICBjaGFpbiA9IGNoYWluLnNsaWNlKCk7XG4gIGNoYWluLnB1c2goe1xuICAgIGlkOiBub2RlLmlkLFxuICAgIHBhdGg6IG5vZGUucGF0aCxcbiAgICBwYXJhbXM6IG5vZGUucGFyYW1zLFxuICAgIGJlZm9yZUxlYXZlOiBub2RlLmJlZm9yZUxlYXZlLFxuICAgIGJlZm9yZUVudGVyOiBub2RlLmJlZm9yZUVudGVyXG4gIH0pO1xuICBpZiAobm9kZS5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICBjaGFpbnMucHVzaChjaGFpbik7XG4gICAgcmV0dXJuO1xuICB9XG4gIGZvciAoY29uc3QgY2hpbGQgb2Ygbm9kZS5jaGlsZHJlbikge1xuICAgIGZsYXR0ZW5Ob2RlKGNoYWluLCBjaGFpbnMsIGNoaWxkKTtcbiAgfVxufTtcblxuY29uc3QgUm91dGVyID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XG4gICAgcmVnaXN0ZXJJbnN0YW5jZSh0aGlzLCBob3N0UmVmKTtcbiAgICB0aGlzLmlvblJvdXRlV2lsbENoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiaW9uUm91dGVXaWxsQ2hhbmdlXCIsIDcpO1xuICAgIHRoaXMuaW9uUm91dGVEaWRDaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcImlvblJvdXRlRGlkQ2hhbmdlXCIsIDcpO1xuICAgIHRoaXMucHJldmlvdXNQYXRoID0gbnVsbDtcbiAgICB0aGlzLmJ1c3kgPSBmYWxzZTtcbiAgICB0aGlzLnN0YXRlID0gMDtcbiAgICB0aGlzLmxhc3RTdGF0ZSA9IDA7XG4gICAgLyoqXG4gICAgICogQnkgZGVmYXVsdCBgaW9uLXJvdXRlcmAgd2lsbCBtYXRjaCB0aGUgcm91dGVzIGF0IHRoZSByb290IHBhdGggKFwiL1wiKS5cbiAgICAgKiBUaGF0IGNhbiBiZSBjaGFuZ2VkIHdoZW5cbiAgICAgKlxuICAgICAqL1xuICAgIHRoaXMucm9vdCA9ICcvJztcbiAgICAvKipcbiAgICAgKiBUaGUgcm91dGVyIGNhbiB3b3JrIGluIHR3byBcIm1vZGVzXCI6XG4gICAgICogLSBXaXRoIGhhc2g6IGAvaW5kZXguaHRtbCMvcGF0aC90by9wYWdlYFxuICAgICAqIC0gV2l0aG91dCBoYXNoOiBgL3BhdGgvdG8vcGFnZWBcbiAgICAgKlxuICAgICAqIFVzaW5nIG9uZSBvciBhbm90aGVyIG1pZ2h0IGRlcGVuZCBpbiB0aGUgcmVxdWlyZW1lbnRzIG9mIHlvdXIgYXBwIGFuZC9vciB3aGVyZSBpdCdzIGRlcGxveWVkLlxuICAgICAqXG4gICAgICogVXN1YWxseSBcImhhc2gtbGVzc1wiIG5hdmlnYXRpb24gd29ya3MgYmV0dGVyIGZvciBTRU8gYW5kIGl0J3MgbW9yZSB1c2VyIGZyaWVuZGx5IHRvbywgYnV0IGl0IG1pZ2h0XG4gICAgICogcmVxdWlyZXMgYWRkaXRpb25hbCBzZXJ2ZXItc2lkZSBjb25maWd1cmF0aW9uIGluIG9yZGVyIHRvIHByb3Blcmx5IHdvcmsuXG4gICAgICpcbiAgICAgKiBPbiB0aGUgb3RoZXIgc2lkZSBoYXNoLW5hdmlnYXRpb24gaXMgbXVjaCBlYXNpZXIgdG8gZGVwbG95LCBpdCBldmVuIHdvcmtzIG92ZXIgdGhlIGZpbGUgcHJvdG9jb2wuXG4gICAgICpcbiAgICAgKiBCeSBkZWZhdWx0LCB0aGlzIHByb3BlcnR5IGlzIGB0cnVlYCwgY2hhbmdlIHRvIGBmYWxzZWAgdG8gYWxsb3cgaGFzaC1sZXNzIFVSTHMuXG4gICAgICovXG4gICAgdGhpcy51c2VIYXNoID0gdHJ1ZTtcbiAgfVxuICBhc3luYyBjb21wb25lbnRXaWxsTG9hZCgpIHtcbiAgICBhd2FpdCB3YWl0VW50aWxOYXZOb2RlKCk7XG4gICAgY29uc3QgY2FuUHJvY2VlZCA9IGF3YWl0IHRoaXMucnVuR3VhcmRzKHRoaXMuZ2V0UGF0aCgpKTtcbiAgICBpZiAoY2FuUHJvY2VlZCAhPT0gdHJ1ZSkge1xuICAgICAgaWYgKHR5cGVvZiBjYW5Qcm9jZWVkID09PSAnb2JqZWN0Jykge1xuICAgICAgICBjb25zdCB7IHJlZGlyZWN0IH0gPSBjYW5Qcm9jZWVkO1xuICAgICAgICBjb25zdCBwYXRoID0gcGFyc2VQYXRoKHJlZGlyZWN0KTtcbiAgICAgICAgdGhpcy5zZXRQYXRoKHBhdGguc2VnbWVudHMsIFJPVVRFUl9JTlRFTlRfTk9ORSwgcGF0aC5xdWVyeVN0cmluZyk7XG4gICAgICAgIGF3YWl0IHRoaXMud3JpdGVOYXZTdGF0ZVJvb3QocGF0aC5zZWdtZW50cywgUk9VVEVSX0lOVEVOVF9OT05FKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBhd2FpdCB0aGlzLm9uUm91dGVzQ2hhbmdlZCgpO1xuICAgIH1cbiAgfVxuICBjb21wb25lbnREaWRMb2FkKCkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdpb25Sb3V0ZVJlZGlyZWN0Q2hhbmdlZCcsIGRlYm91bmNlKHRoaXMub25SZWRpcmVjdENoYW5nZWQuYmluZCh0aGlzKSwgMTApKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaW9uUm91dGVEYXRhQ2hhbmdlZCcsIGRlYm91bmNlKHRoaXMub25Sb3V0ZXNDaGFuZ2VkLmJpbmQodGhpcyksIDEwMCkpO1xuICB9XG4gIGFzeW5jIG9uUG9wU3RhdGUoKSB7XG4gICAgY29uc3QgZGlyZWN0aW9uID0gdGhpcy5oaXN0b3J5RGlyZWN0aW9uKCk7XG4gICAgbGV0IHNlZ21lbnRzID0gdGhpcy5nZXRQYXRoKCk7XG4gICAgY29uc3QgY2FuUHJvY2VlZCA9IGF3YWl0IHRoaXMucnVuR3VhcmRzKHNlZ21lbnRzKTtcbiAgICBpZiAoY2FuUHJvY2VlZCAhPT0gdHJ1ZSkge1xuICAgICAgaWYgKHR5cGVvZiBjYW5Qcm9jZWVkID09PSAnb2JqZWN0Jykge1xuICAgICAgICBzZWdtZW50cyA9IHBhcnNlUGF0aChjYW5Qcm9jZWVkLnJlZGlyZWN0KS5zZWdtZW50cztcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLndyaXRlTmF2U3RhdGVSb290KHNlZ21lbnRzLCBkaXJlY3Rpb24pO1xuICB9XG4gIG9uQmFja0J1dHRvbihldikge1xuICAgIGV2LmRldGFpbC5yZWdpc3RlcigwLCBwcm9jZXNzTmV4dEhhbmRsZXIgPT4ge1xuICAgICAgdGhpcy5iYWNrKCk7XG4gICAgICBwcm9jZXNzTmV4dEhhbmRsZXIoKTtcbiAgICB9KTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGFzeW5jIGNhblRyYW5zaXRpb24oKSB7XG4gICAgY29uc3QgY2FuUHJvY2VlZCA9IGF3YWl0IHRoaXMucnVuR3VhcmRzKCk7XG4gICAgaWYgKGNhblByb2NlZWQgIT09IHRydWUpIHtcbiAgICAgIGlmICh0eXBlb2YgY2FuUHJvY2VlZCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIGNhblByb2NlZWQucmVkaXJlY3Q7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICAvKipcbiAgICogTmF2aWdhdGUgdG8gdGhlIHNwZWNpZmllZCBVUkwuXG4gICAqXG4gICAqIEBwYXJhbSB1cmwgVGhlIHVybCB0byBuYXZpZ2F0ZSB0by5cbiAgICogQHBhcmFtIGRpcmVjdGlvbiBUaGUgZGlyZWN0aW9uIG9mIHRoZSBhbmltYXRpb24uIERlZmF1bHRzIHRvIGBcImZvcndhcmRcImAuXG4gICAqL1xuICBhc3luYyBwdXNoKHVybCwgZGlyZWN0aW9uID0gJ2ZvcndhcmQnLCBhbmltYXRpb24pIHtcbiAgICBpZiAodXJsLnN0YXJ0c1dpdGgoJy4nKSkge1xuICAgICAgdXJsID0gKG5ldyBVUkwodXJsLCB3aW5kb3cubG9jYXRpb24uaHJlZikpLnBhdGhuYW1lO1xuICAgIH1cbiAgICBsZXQgcGFyc2VkUGF0aCA9IHBhcnNlUGF0aCh1cmwpO1xuICAgIGNvbnN0IGNhblByb2NlZWQgPSBhd2FpdCB0aGlzLnJ1bkd1YXJkcyhwYXJzZWRQYXRoLnNlZ21lbnRzKTtcbiAgICBpZiAoY2FuUHJvY2VlZCAhPT0gdHJ1ZSkge1xuICAgICAgaWYgKHR5cGVvZiBjYW5Qcm9jZWVkID09PSAnb2JqZWN0Jykge1xuICAgICAgICBwYXJzZWRQYXRoID0gcGFyc2VQYXRoKGNhblByb2NlZWQucmVkaXJlY3QpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5zZXRQYXRoKHBhcnNlZFBhdGguc2VnbWVudHMsIGRpcmVjdGlvbiwgcGFyc2VkUGF0aC5xdWVyeVN0cmluZyk7XG4gICAgcmV0dXJuIHRoaXMud3JpdGVOYXZTdGF0ZVJvb3QocGFyc2VkUGF0aC5zZWdtZW50cywgZGlyZWN0aW9uLCBhbmltYXRpb24pO1xuICB9XG4gIC8qKlxuICAgKiBHbyBiYWNrIHRvIHByZXZpb3VzIHBhZ2UgaW4gdGhlIHdpbmRvdy5oaXN0b3J5LlxuICAgKi9cbiAgYmFjaygpIHtcbiAgICB3aW5kb3cuaGlzdG9yeS5iYWNrKCk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLndhaXRQcm9taXNlKTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGFzeW5jIHByaW50RGVidWcoKSB7XG4gICAgcHJpbnRSb3V0ZXMocmVhZFJvdXRlcyh0aGlzLmVsKSk7XG4gICAgcHJpbnRSZWRpcmVjdHMocmVhZFJlZGlyZWN0cyh0aGlzLmVsKSk7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBhc3luYyBuYXZDaGFuZ2VkKGRpcmVjdGlvbikge1xuICAgIGlmICh0aGlzLmJ1c3kpIHtcbiAgICAgIGNvbnNvbGUud2FybignW2lvbi1yb3V0ZXJdIHJvdXRlciBpcyBidXN5LCBuYXZDaGFuZ2VkIHdhcyBjYW5jZWxsZWQnKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgeyBpZHMsIG91dGxldCB9ID0gYXdhaXQgcmVhZE5hdlN0YXRlKHdpbmRvdy5kb2N1bWVudC5ib2R5KTtcbiAgICBjb25zdCByb3V0ZXMgPSByZWFkUm91dGVzKHRoaXMuZWwpO1xuICAgIGNvbnN0IGNoYWluID0gcm91dGVySURzVG9DaGFpbihpZHMsIHJvdXRlcyk7XG4gICAgaWYgKCFjaGFpbikge1xuICAgICAgY29uc29sZS53YXJuKCdbaW9uLXJvdXRlcl0gbm8gbWF0Y2hpbmcgVVJMIGZvciAnLCBpZHMubWFwKGkgPT4gaS5pZCkpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBwYXRoID0gY2hhaW5Ub1BhdGgoY2hhaW4pO1xuICAgIGlmICghcGF0aCkge1xuICAgICAgY29uc29sZS53YXJuKCdbaW9uLXJvdXRlcl0gcm91dGVyIGNvdWxkIG5vdCBtYXRjaCBwYXRoIGJlY2F1c2Ugc29tZSByZXF1aXJlZCBwYXJhbSBpcyBtaXNzaW5nJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMuc2V0UGF0aChwYXRoLCBkaXJlY3Rpb24pO1xuICAgIGF3YWl0IHRoaXMuc2FmZVdyaXRlTmF2U3RhdGUob3V0bGV0LCBjaGFpbiwgUk9VVEVSX0lOVEVOVF9OT05FLCBwYXRoLCBudWxsLCBpZHMubGVuZ3RoKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICAvLyBUaGlzIGhhbmRsZXIgZ2V0cyBjYWxsZWQgd2hlbiBhIGBpb24tcm91dGUtcmVkaXJlY3RgIGNvbXBvbmVudCBpcyBhZGRlZCB0byB0aGUgRE9NIG9yIGlmIHRoZSBmcm9tIG9yIHRvIHByb3BlcnR5IG9mIHN1Y2ggbm9kZSBjaGFuZ2VzLlxuICBvblJlZGlyZWN0Q2hhbmdlZCgpIHtcbiAgICBjb25zdCBwYXRoID0gdGhpcy5nZXRQYXRoKCk7XG4gICAgaWYgKHBhdGggJiYgZmluZFJvdXRlUmVkaXJlY3QocGF0aCwgcmVhZFJlZGlyZWN0cyh0aGlzLmVsKSkpIHtcbiAgICAgIHRoaXMud3JpdGVOYXZTdGF0ZVJvb3QocGF0aCwgUk9VVEVSX0lOVEVOVF9OT05FKTtcbiAgICB9XG4gIH1cbiAgLy8gVGhpcyBoYW5kbGVyIGdldHMgY2FsbGVkIHdoZW4gYSBgaW9uLXJvdXRlYCBjb21wb25lbnQgaXMgYWRkZWQgdG8gdGhlIERPTSBvciBpZiB0aGUgZnJvbSBvciB0byBwcm9wZXJ0eSBvZiBzdWNoIG5vZGUgY2hhbmdlcy5cbiAgb25Sb3V0ZXNDaGFuZ2VkKCkge1xuICAgIHJldHVybiB0aGlzLndyaXRlTmF2U3RhdGVSb290KHRoaXMuZ2V0UGF0aCgpLCBST1VURVJfSU5URU5UX05PTkUpO1xuICB9XG4gIGhpc3RvcnlEaXJlY3Rpb24oKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHdpbiA9IHdpbmRvdztcbiAgICBpZiAod2luLmhpc3Rvcnkuc3RhdGUgPT09IG51bGwpIHtcbiAgICAgIHRoaXMuc3RhdGUrKztcbiAgICAgIHdpbi5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh0aGlzLnN0YXRlLCB3aW4uZG9jdW1lbnQudGl0bGUsIChfYSA9IHdpbi5kb2N1bWVudC5sb2NhdGlvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmhyZWYpO1xuICAgIH1cbiAgICBjb25zdCBzdGF0ZSA9IHdpbi5oaXN0b3J5LnN0YXRlO1xuICAgIGNvbnN0IGxhc3RTdGF0ZSA9IHRoaXMubGFzdFN0YXRlO1xuICAgIHRoaXMubGFzdFN0YXRlID0gc3RhdGU7XG4gICAgaWYgKHN0YXRlID4gbGFzdFN0YXRlIHx8IChzdGF0ZSA+PSBsYXN0U3RhdGUgJiYgbGFzdFN0YXRlID4gMCkpIHtcbiAgICAgIHJldHVybiBST1VURVJfSU5URU5UX0ZPUldBUkQ7XG4gICAgfVxuICAgIGlmIChzdGF0ZSA8IGxhc3RTdGF0ZSkge1xuICAgICAgcmV0dXJuIFJPVVRFUl9JTlRFTlRfQkFDSztcbiAgICB9XG4gICAgcmV0dXJuIFJPVVRFUl9JTlRFTlRfTk9ORTtcbiAgfVxuICBhc3luYyB3cml0ZU5hdlN0YXRlUm9vdChwYXRoLCBkaXJlY3Rpb24sIGFuaW1hdGlvbikge1xuICAgIGlmICghcGF0aCkge1xuICAgICAgY29uc29sZS5lcnJvcignW2lvbi1yb3V0ZXJdIFVSTCBpcyBub3QgcGFydCBvZiB0aGUgcm91dGluZyBzZXQnKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gbG9va3VwIHJlZGlyZWN0IHJ1bGVcbiAgICBjb25zdCByZWRpcmVjdHMgPSByZWFkUmVkaXJlY3RzKHRoaXMuZWwpO1xuICAgIGNvbnN0IHJlZGlyZWN0ID0gZmluZFJvdXRlUmVkaXJlY3QocGF0aCwgcmVkaXJlY3RzKTtcbiAgICBsZXQgcmVkaXJlY3RGcm9tID0gbnVsbDtcbiAgICBpZiAocmVkaXJlY3QpIHtcbiAgICAgIGNvbnN0IHsgc2VnbWVudHMsIHF1ZXJ5U3RyaW5nIH0gPSByZWRpcmVjdC50bztcbiAgICAgIHRoaXMuc2V0UGF0aChzZWdtZW50cywgZGlyZWN0aW9uLCBxdWVyeVN0cmluZyk7XG4gICAgICByZWRpcmVjdEZyb20gPSByZWRpcmVjdC5mcm9tO1xuICAgICAgcGF0aCA9IHNlZ21lbnRzO1xuICAgIH1cbiAgICAvLyBsb29rdXAgcm91dGUgY2hhaW5cbiAgICBjb25zdCByb3V0ZXMgPSByZWFkUm91dGVzKHRoaXMuZWwpO1xuICAgIGNvbnN0IGNoYWluID0gcm91dGVyUGF0aFRvQ2hhaW4ocGF0aCwgcm91dGVzKTtcbiAgICBpZiAoIWNoYWluKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbaW9uLXJvdXRlcl0gdGhlIHBhdGggZG9lcyBub3QgbWF0Y2ggYW55IHJvdXRlJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIHdyaXRlIERPTSBnaXZlXG4gICAgcmV0dXJuIHRoaXMuc2FmZVdyaXRlTmF2U3RhdGUoZG9jdW1lbnQuYm9keSwgY2hhaW4sIGRpcmVjdGlvbiwgcGF0aCwgcmVkaXJlY3RGcm9tLCAwLCBhbmltYXRpb24pO1xuICB9XG4gIGFzeW5jIHNhZmVXcml0ZU5hdlN0YXRlKG5vZGUsIGNoYWluLCBkaXJlY3Rpb24sIHBhdGgsIHJlZGlyZWN0RnJvbSwgaW5kZXggPSAwLCBhbmltYXRpb24pIHtcbiAgICBjb25zdCB1bmxvY2sgPSBhd2FpdCB0aGlzLmxvY2soKTtcbiAgICBsZXQgY2hhbmdlZCA9IGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICBjaGFuZ2VkID0gYXdhaXQgdGhpcy53cml0ZU5hdlN0YXRlKG5vZGUsIGNoYWluLCBkaXJlY3Rpb24sIHBhdGgsIHJlZGlyZWN0RnJvbSwgaW5kZXgsIGFuaW1hdGlvbik7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgIH1cbiAgICB1bmxvY2soKTtcbiAgICByZXR1cm4gY2hhbmdlZDtcbiAgfVxuICBhc3luYyBsb2NrKCkge1xuICAgIGNvbnN0IHAgPSB0aGlzLndhaXRQcm9taXNlO1xuICAgIGxldCByZXNvbHZlO1xuICAgIHRoaXMud2FpdFByb21pc2UgPSBuZXcgUHJvbWlzZShyID0+IHJlc29sdmUgPSByKTtcbiAgICBpZiAocCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBhd2FpdCBwO1xuICAgIH1cbiAgICByZXR1cm4gcmVzb2x2ZTtcbiAgfVxuICAvLyBFeGVjdXRlcyB0aGUgYmVmb3JlTGVhdmUgaG9vayBvZiB0aGUgc291cmNlIHJvdXRlIGFuZCB0aGUgYmVmb3JlRW50ZXIgaG9vayBvZiB0aGUgdGFyZ2V0IHJvdXRlIGlmIHRoZXkgZXhpc3QuXG4gIC8vXG4gIC8vIFdoZW4gdGhlIGJlZm9yZUxlYXZlIGhvb2sgZG9lcyBub3QgcmV0dXJuIHRydWUgKHRvIGFsbG93IG5hdmlnYXRpbmcpIHRoZW4gdGhhdCB2YWx1ZSBpcyByZXR1cm5lZCBlYXJseSBhbmQgdGhlIGJlZm9yZUVudGVyIGlzIGV4ZWN1dGVkLlxuICAvLyBPdGhlcndpc2UgdGhlIGJlZm9yZUVudGVySG9vayBob29rIG9mIHRoZSB0YXJnZXQgcm91dGUgaXMgZXhlY3V0ZWQuXG4gIGFzeW5jIHJ1bkd1YXJkcyh0byA9IHRoaXMuZ2V0UGF0aCgpLCBmcm9tKSB7XG4gICAgaWYgKGZyb20gPT09IHVuZGVmaW5lZCkge1xuICAgICAgZnJvbSA9IHBhcnNlUGF0aCh0aGlzLnByZXZpb3VzUGF0aCkuc2VnbWVudHM7XG4gICAgfVxuICAgIGlmICghdG8gfHwgIWZyb20pIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCByb3V0ZXMgPSByZWFkUm91dGVzKHRoaXMuZWwpO1xuICAgIGNvbnN0IGZyb21DaGFpbiA9IHJvdXRlclBhdGhUb0NoYWluKGZyb20sIHJvdXRlcyk7XG4gICAgY29uc3QgYmVmb3JlTGVhdmVIb29rID0gZnJvbUNoYWluICYmIGZyb21DaGFpbltmcm9tQ2hhaW4ubGVuZ3RoIC0gMV0uYmVmb3JlTGVhdmU7XG4gICAgY29uc3QgY2FuTGVhdmUgPSBiZWZvcmVMZWF2ZUhvb2sgPyBhd2FpdCBiZWZvcmVMZWF2ZUhvb2soKSA6IHRydWU7XG4gICAgaWYgKGNhbkxlYXZlID09PSBmYWxzZSB8fCB0eXBlb2YgY2FuTGVhdmUgPT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gY2FuTGVhdmU7XG4gICAgfVxuICAgIGNvbnN0IHRvQ2hhaW4gPSByb3V0ZXJQYXRoVG9DaGFpbih0bywgcm91dGVzKTtcbiAgICBjb25zdCBiZWZvcmVFbnRlckhvb2sgPSB0b0NoYWluICYmIHRvQ2hhaW5bdG9DaGFpbi5sZW5ndGggLSAxXS5iZWZvcmVFbnRlcjtcbiAgICByZXR1cm4gYmVmb3JlRW50ZXJIb29rID8gYmVmb3JlRW50ZXJIb29rKCkgOiB0cnVlO1xuICB9XG4gIGFzeW5jIHdyaXRlTmF2U3RhdGUobm9kZSwgY2hhaW4sIGRpcmVjdGlvbiwgcGF0aCwgcmVkaXJlY3RGcm9tLCBpbmRleCA9IDAsIGFuaW1hdGlvbikge1xuICAgIGlmICh0aGlzLmJ1c3kpIHtcbiAgICAgIGNvbnNvbGUud2FybignW2lvbi1yb3V0ZXJdIHJvdXRlciBpcyBidXN5LCB0cmFuc2l0aW9uIHdhcyBjYW5jZWxsZWQnKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy5idXN5ID0gdHJ1ZTtcbiAgICAvLyBnZW5lcmF0ZSByb3V0ZSBldmVudCBhbmQgZW1pdCB3aWxsIGNoYW5nZVxuICAgIGNvbnN0IHJvdXRlRXZlbnQgPSB0aGlzLnJvdXRlQ2hhbmdlRXZlbnQocGF0aCwgcmVkaXJlY3RGcm9tKTtcbiAgICBpZiAocm91dGVFdmVudCkge1xuICAgICAgdGhpcy5pb25Sb3V0ZVdpbGxDaGFuZ2UuZW1pdChyb3V0ZUV2ZW50KTtcbiAgICB9XG4gICAgY29uc3QgY2hhbmdlZCA9IGF3YWl0IHdyaXRlTmF2U3RhdGUobm9kZSwgY2hhaW4sIGRpcmVjdGlvbiwgaW5kZXgsIGZhbHNlLCBhbmltYXRpb24pO1xuICAgIHRoaXMuYnVzeSA9IGZhbHNlO1xuICAgIC8vIGVtaXQgZGlkIGNoYW5nZVxuICAgIGlmIChyb3V0ZUV2ZW50KSB7XG4gICAgICB0aGlzLmlvblJvdXRlRGlkQ2hhbmdlLmVtaXQocm91dGVFdmVudCk7XG4gICAgfVxuICAgIHJldHVybiBjaGFuZ2VkO1xuICB9XG4gIHNldFBhdGgocGF0aCwgZGlyZWN0aW9uLCBxdWVyeVN0cmluZykge1xuICAgIHRoaXMuc3RhdGUrKztcbiAgICB3cml0ZVBhdGgod2luZG93Lmhpc3RvcnksIHRoaXMucm9vdCwgdGhpcy51c2VIYXNoLCBwYXRoLCBkaXJlY3Rpb24sIHRoaXMuc3RhdGUsIHF1ZXJ5U3RyaW5nKTtcbiAgfVxuICBnZXRQYXRoKCkge1xuICAgIHJldHVybiByZWFkUGF0aCh3aW5kb3cubG9jYXRpb24sIHRoaXMucm9vdCwgdGhpcy51c2VIYXNoKTtcbiAgfVxuICByb3V0ZUNoYW5nZUV2ZW50KHBhdGgsIHJlZGlyZWN0RnJvbVBhdGgpIHtcbiAgICBjb25zdCBmcm9tID0gdGhpcy5wcmV2aW91c1BhdGg7XG4gICAgY29uc3QgdG8gPSBnZW5lcmF0ZVBhdGgocGF0aCk7XG4gICAgdGhpcy5wcmV2aW91c1BhdGggPSB0bztcbiAgICBpZiAodG8gPT09IGZyb20pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCByZWRpcmVjdGVkRnJvbSA9IHJlZGlyZWN0RnJvbVBhdGggPyBnZW5lcmF0ZVBhdGgocmVkaXJlY3RGcm9tUGF0aCkgOiBudWxsO1xuICAgIHJldHVybiB7XG4gICAgICBmcm9tLFxuICAgICAgcmVkaXJlY3RlZEZyb20sXG4gICAgICB0byxcbiAgICB9O1xuICB9XG4gIGdldCBlbCgpIHsgcmV0dXJuIGdldEVsZW1lbnQodGhpcyk7IH1cbn07XG5cbmNvbnN0IHJvdXRlckxpbmtDc3MgPSBcIjpob3N0ey0tYmFja2dyb3VuZDp0cmFuc3BhcmVudDstLWNvbG9yOnZhcigtLWlvbi1jb2xvci1wcmltYXJ5LCAjMzg4MGZmKTtiYWNrZ3JvdW5kOnZhcigtLWJhY2tncm91bmQpO2NvbG9yOnZhcigtLWNvbG9yKX06aG9zdCguaW9uLWNvbG9yKXtjb2xvcjp2YXIoLS1pb24tY29sb3ItYmFzZSl9YXtmb250LWZhbWlseTppbmhlcml0O2ZvbnQtc2l6ZTppbmhlcml0O2ZvbnQtc3R5bGU6aW5oZXJpdDtmb250LXdlaWdodDppbmhlcml0O2xldHRlci1zcGFjaW5nOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7dGV4dC1pbmRlbnQ6aW5oZXJpdDt0ZXh0LW92ZXJmbG93OmluaGVyaXQ7dGV4dC10cmFuc2Zvcm06aW5oZXJpdDt0ZXh0LWFsaWduOmluaGVyaXQ7d2hpdGUtc3BhY2U6aW5oZXJpdDtjb2xvcjppbmhlcml0fVwiO1xuXG5jb25zdCBSb3V0ZXJMaW5rID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XG4gICAgcmVnaXN0ZXJJbnN0YW5jZSh0aGlzLCBob3N0UmVmKTtcbiAgICAvKipcbiAgICAgKiBXaGVuIHVzaW5nIGEgcm91dGVyLCBpdCBzcGVjaWZpZXMgdGhlIHRyYW5zaXRpb24gZGlyZWN0aW9uIHdoZW4gbmF2aWdhdGluZyB0b1xuICAgICAqIGFub3RoZXIgcGFnZSB1c2luZyBgaHJlZmAuXG4gICAgICovXG4gICAgdGhpcy5yb3V0ZXJEaXJlY3Rpb24gPSAnZm9yd2FyZCc7XG4gICAgdGhpcy5vbkNsaWNrID0gKGV2KSA9PiB7XG4gICAgICBvcGVuVVJMKHRoaXMuaHJlZiwgZXYsIHRoaXMucm91dGVyRGlyZWN0aW9uLCB0aGlzLnJvdXRlckFuaW1hdGlvbik7XG4gICAgfTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgbW9kZSA9IGdldElvbk1vZGUodGhpcyk7XG4gICAgY29uc3QgYXR0cnMgPSB7XG4gICAgICBocmVmOiB0aGlzLmhyZWYsXG4gICAgICByZWw6IHRoaXMucmVsLFxuICAgICAgdGFyZ2V0OiB0aGlzLnRhcmdldFxuICAgIH07XG4gICAgcmV0dXJuIChoKEhvc3QsIHsgb25DbGljazogdGhpcy5vbkNsaWNrLCBjbGFzczogY3JlYXRlQ29sb3JDbGFzc2VzKHRoaXMuY29sb3IsIHtcbiAgICAgICAgW21vZGVdOiB0cnVlLFxuICAgICAgICAnaW9uLWFjdGl2YXRhYmxlJzogdHJ1ZVxuICAgICAgfSkgfSwgaChcImFcIiwgT2JqZWN0LmFzc2lnbih7fSwgYXR0cnMpLCBoKFwic2xvdFwiLCBudWxsKSkpKTtcbiAgfVxufTtcblJvdXRlckxpbmsuc3R5bGUgPSByb3V0ZXJMaW5rQ3NzO1xuXG5leHBvcnQgeyBSb3V0ZSBhcyBpb25fcm91dGUsIFJvdXRlUmVkaXJlY3QgYXMgaW9uX3JvdXRlX3JlZGlyZWN0LCBSb3V0ZXIgYXMgaW9uX3JvdXRlciwgUm91dGVyTGluayBhcyBpb25fcm91dGVyX2xpbmsgfTtcbiJdLCJuYW1lcyI6WyJyIiwicmVnaXN0ZXJJbnN0YW5jZSIsImUiLCJjcmVhdGVFdmVudCIsImkiLCJnZXRFbGVtZW50IiwiaCIsIkgiLCJIb3N0IiwiYyIsImNvbXBvbmVudE9uUmVhZHkiLCJuIiwiZGVib3VuY2UiLCJiIiwiZ2V0SW9uTW9kZSIsIm8iLCJvcGVuVVJMIiwiY3JlYXRlQ29sb3JDbGFzc2VzIiwiUm91dGUiLCJjb25zdHJ1Y3RvciIsImhvc3RSZWYiLCJpb25Sb3V0ZURhdGFDaGFuZ2VkIiwidXJsIiwib25VcGRhdGUiLCJuZXdWYWx1ZSIsImVtaXQiLCJvbkNvbXBvbmVudFByb3BzIiwib2xkVmFsdWUiLCJrZXlzMSIsIk9iamVjdCIsImtleXMiLCJrZXlzMiIsImxlbmd0aCIsImtleSIsImNvbm5lY3RlZENhbGxiYWNrIiwid2F0Y2hlcnMiLCJSb3V0ZVJlZGlyZWN0IiwiaW9uUm91dGVSZWRpcmVjdENoYW5nZWQiLCJwcm9wRGlkQ2hhbmdlIiwiUk9VVEVSX0lOVEVOVF9OT05FIiwiUk9VVEVSX0lOVEVOVF9GT1JXQVJEIiwiUk9VVEVSX0lOVEVOVF9CQUNLIiwiZ2VuZXJhdGVQYXRoIiwic2VnbWVudHMiLCJwYXRoIiwiZmlsdGVyIiwicyIsImpvaW4iLCJnZW5lcmF0ZVVybCIsInVzZUhhc2giLCJxdWVyeVN0cmluZyIsInVuZGVmaW5lZCIsIndyaXRlUGF0aCIsImhpc3RvcnkiLCJyb290IiwiZGlyZWN0aW9uIiwic3RhdGUiLCJwYXJzZVBhdGgiLCJwdXNoU3RhdGUiLCJyZXBsYWNlU3RhdGUiLCJjaGFpblRvUGF0aCIsImNoYWluIiwicm91dGUiLCJzZWdtZW50IiwicGFyYW0iLCJwYXJhbXMiLCJzbGljZSIsInB1c2giLCJyZW1vdmVQcmVmaXgiLCJwcmVmaXgiLCJyZWFkUGF0aCIsImxvYyIsInBhdGhuYW1lIiwiaGFzaCIsInFzU3RhcnQiLCJpbmRleE9mIiwic3Vic3RyIiwic3BsaXQiLCJtYXAiLCJ0cmltIiwicHJpbnRSb3V0ZXMiLCJyb3V0ZXMiLCJjb25zb2xlIiwiZ3JvdXAiLCJmb3JFYWNoIiwiaWRzIiwiaWQiLCJkZWJ1ZyIsImdyb3VwRW5kIiwicHJpbnRSZWRpcmVjdHMiLCJyZWRpcmVjdHMiLCJyZWRpcmVjdCIsInRvIiwiZnJvbSIsIndyaXRlTmF2U3RhdGUiLCJpbmRleCIsImNoYW5nZWQiLCJhbmltYXRpb24iLCJvdXRsZXQiLCJzZWFyY2hOYXZOb2RlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZXN1bHQiLCJzZXRSb3V0ZUlkIiwiZWxlbWVudCIsIm1hcmtWaXNpYmxlIiwiZXJyb3IiLCJyZWFkTmF2U3RhdGUiLCJub2RlIiwiZ2V0Um91dGVJZCIsIndhaXRVbnRpbE5hdk5vZGUiLCJkb2N1bWVudCIsImJvZHkiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwib25jZSIsIlFVRVJZIiwibWF0Y2hlcyIsInF1ZXJ5U2VsZWN0b3IiLCJtYXRjaGVzUmVkaXJlY3QiLCJleHBlY3RlZCIsImZpbmRSb3V0ZVJlZGlyZWN0IiwiZmluZCIsIm1hdGNoZXNJRHMiLCJsZW4iLCJNYXRoIiwibWluIiwidG9Mb3dlckNhc2UiLCJtYXRjaGVzUGF0aCIsImlucHV0UGF0aCIsIlJvdXRlclNlZ21lbnRzIiwibWF0Y2hlc0RlZmF1bHQiLCJhbGxwYXJhbXMiLCJkYXRhIiwibmV4dCIsIm1lcmdlUGFyYW1zIiwiYmVmb3JlRW50ZXIiLCJiZWZvcmVMZWF2ZSIsImEiLCJhc3NpZ24iLCJyb3V0ZXJJRHNUb0NoYWluIiwiY2hhaW5zIiwibWF0Y2giLCJtYXhNYXRjaGVzIiwicGxhaW5JRHMiLCJzY29yZSIsInJvdXRlclBhdGhUb0NoYWluIiwibWF0Y2hlZENoYWluIiwiY29tcHV0ZVByaW9yaXR5IiwibGV2ZWwiLCJwb3ciLCJzaGlmdCIsInJlYWRQcm9wIiwiZWwiLCJwcm9wIiwiaGFzQXR0cmlidXRlIiwiZ2V0QXR0cmlidXRlIiwicmVhZFJlZGlyZWN0cyIsIkFycmF5IiwiY2hpbGRyZW4iLCJ0YWdOYW1lIiwicmVhZFJvdXRlcyIsImZsYXR0ZW5Sb3V0ZXJUcmVlIiwicmVhZFJvdXRlTm9kZXMiLCJjb21wb25lbnQiLCJjb21wb25lbnRQcm9wcyIsIm5vZGVzIiwiZmxhdHRlbk5vZGUiLCJjaGlsZCIsIlJvdXRlciIsImlvblJvdXRlV2lsbENoYW5nZSIsImlvblJvdXRlRGlkQ2hhbmdlIiwicHJldmlvdXNQYXRoIiwiYnVzeSIsImxhc3RTdGF0ZSIsImNvbXBvbmVudFdpbGxMb2FkIiwiY2FuUHJvY2VlZCIsInJ1bkd1YXJkcyIsImdldFBhdGgiLCJzZXRQYXRoIiwid3JpdGVOYXZTdGF0ZVJvb3QiLCJvblJvdXRlc0NoYW5nZWQiLCJjb21wb25lbnREaWRMb2FkIiwib25SZWRpcmVjdENoYW5nZWQiLCJiaW5kIiwib25Qb3BTdGF0ZSIsImhpc3RvcnlEaXJlY3Rpb24iLCJvbkJhY2tCdXR0b24iLCJldiIsImRldGFpbCIsInJlZ2lzdGVyIiwicHJvY2Vzc05leHRIYW5kbGVyIiwiYmFjayIsImNhblRyYW5zaXRpb24iLCJzdGFydHNXaXRoIiwiVVJMIiwibG9jYXRpb24iLCJocmVmIiwicGFyc2VkUGF0aCIsIndhaXRQcm9taXNlIiwicHJpbnREZWJ1ZyIsIm5hdkNoYW5nZWQiLCJ3YXJuIiwic2FmZVdyaXRlTmF2U3RhdGUiLCJfYSIsIndpbiIsInRpdGxlIiwicmVkaXJlY3RGcm9tIiwidW5sb2NrIiwibG9jayIsInAiLCJmcm9tQ2hhaW4iLCJiZWZvcmVMZWF2ZUhvb2siLCJjYW5MZWF2ZSIsInRvQ2hhaW4iLCJiZWZvcmVFbnRlckhvb2siLCJyb3V0ZUV2ZW50Iiwicm91dGVDaGFuZ2VFdmVudCIsInJlZGlyZWN0RnJvbVBhdGgiLCJyZWRpcmVjdGVkRnJvbSIsInJvdXRlckxpbmtDc3MiLCJSb3V0ZXJMaW5rIiwicm91dGVyRGlyZWN0aW9uIiwib25DbGljayIsInJvdXRlckFuaW1hdGlvbiIsInJlbmRlciIsIm1vZGUiLCJhdHRycyIsInJlbCIsInRhcmdldCIsImNsYXNzIiwiY29sb3IiLCJzdHlsZSIsImlvbl9yb3V0ZSIsImlvbl9yb3V0ZV9yZWRpcmVjdCIsImlvbl9yb3V0ZXIiLCJpb25fcm91dGVyX2xpbmsiXSwic291cmNlUm9vdCI6IndlYnBhY2s6Ly8vIn0=