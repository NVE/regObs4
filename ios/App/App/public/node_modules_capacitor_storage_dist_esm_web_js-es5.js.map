{"version":3,"mappings":"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","names":["StorageWeb","constructor","arguments","group","configure","_this","get","options","value","_this2","impl","getItem","applyPrefix","key","set","_this3","setItem","remove","_this4","removeItem","keys","_this5","rawKeys","map","k","substring","prefix","length","clear","_this6","migrate","migrated","existing","oldprefix","Object","_this7","filter","indexOf","oldkey","_a","currentValue","push","removeOld","_this8","window","localStorage","WebPlugin"],"sources":["webpack:///node_modules/@capacitor/storage/dist/esm/web.js"],"sourcesContent":["import { WebPlugin } from '@capacitor/core';\nexport class StorageWeb extends WebPlugin {\n    constructor() {\n        super(...arguments);\n        this.group = 'CapacitorStorage';\n    }\n    async configure({ group }) {\n        if (typeof group === 'string') {\n            this.group = group;\n        }\n    }\n    async get(options) {\n        const value = this.impl.getItem(this.applyPrefix(options.key));\n        return { value };\n    }\n    async set(options) {\n        this.impl.setItem(this.applyPrefix(options.key), options.value);\n    }\n    async remove(options) {\n        this.impl.removeItem(this.applyPrefix(options.key));\n    }\n    async keys() {\n        const keys = this.rawKeys().map(k => k.substring(this.prefix.length));\n        return { keys };\n    }\n    async clear() {\n        for (const key of this.rawKeys()) {\n            this.impl.removeItem(key);\n        }\n    }\n    async migrate() {\n        var _a;\n        const migrated = [];\n        const existing = [];\n        const oldprefix = '_cap_';\n        const keys = Object.keys(this.impl).filter(k => k.indexOf(oldprefix) === 0);\n        for (const oldkey of keys) {\n            const key = oldkey.substring(oldprefix.length);\n            const value = (_a = this.impl.getItem(oldkey)) !== null && _a !== void 0 ? _a : '';\n            const { value: currentValue } = await this.get({ key });\n            if (typeof currentValue === 'string') {\n                existing.push(key);\n            }\n            else {\n                await this.set({ key, value });\n                migrated.push(key);\n            }\n        }\n        return { migrated, existing };\n    }\n    async removeOld() {\n        const oldprefix = '_cap_';\n        const keys = Object.keys(this.impl).filter(k => k.indexOf(oldprefix) === 0);\n        for (const oldkey of keys) {\n            this.impl.removeItem(oldkey);\n        }\n    }\n    get impl() {\n        return window.localStorage;\n    }\n    get prefix() {\n        return this.group === 'NativeStorage' ? '' : `${this.group}.`;\n    }\n    rawKeys() {\n        return Object.keys(this.impl).filter(k => k.indexOf(this.prefix) === 0);\n    }\n    applyPrefix(key) {\n        return this.prefix + key;\n    }\n}\n"]}